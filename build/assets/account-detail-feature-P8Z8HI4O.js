import{j as O}from"./tanstack-DXYpircA.js";import{P as Y,b as Et,t as Jn,B as Ve,d as Qn,u as X,e as Ie,f as Pe,g as nt,h as et,r as es,i as Zt,n as Qe,K as ti,L as Vr,j as Je,k as ut,l as Ye,m as Pt,o as Sr,C as ts,T as xr}from"./solanaWeb3-CNsInt2V.js";import{c as rs,a as cn,r as F,e as V}from"./jotai-BQKov7P-.js";import{c as is}from"./solanaWalletAdapters-Cd99Gp28.js";import"./react-BxUbYN1e.js";const ze=new Y("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Y("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Wt=new Y("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Y("So11111111111111111111111111111111111111112");new Y("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const ri=e=>{const r=e.decode.bind(e),n=e.encode.bind(e);return{decode:r,encode:n}},ns=e=>r=>{const n=Et(e,r),{encode:s,decode:l}=ri(n),o=n;return o.decode=(m,v)=>{const b=l(m,v);return Jn(Ve.from(b))},o.encode=(m,v,b)=>{const w=Qn(m,e);return s(w,v,b)},o},wt=ns(8),dn=e=>{const r=X(e),{encode:n,decode:s}=ri(r),l=r;return l.decode=(o,m)=>!!s(o,m),l.encode=(o,m,v)=>{const b=Number(o);return n(b,m,v)},l},De=e=>{const r=Et(32,e),{encode:n,decode:s}=ri(r),l=r;return l.decode=(o,m)=>{const v=s(o,m);return new Y(v)},l.encode=(o,m,v)=>{const b=o.toBuffer();return n(b,m,v)},l};class Nt extends Error{constructor(r){super(r)}}class ss extends Nt{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class as extends Nt{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class os extends Nt{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class Ti extends Nt{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class pn extends Nt{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var jt;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension",e[e.GroupPointerExtension=40]="GroupPointerExtension",e[e.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})(jt||(jt={}));function mn(e,r,n){if(n.length){e.push({pubkey:r,isSigner:!1,isWritable:!1});for(const s of n)e.push({pubkey:s instanceof Y?s:s.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:r,isSigner:!0,isWritable:!1});return e}const Li=Ie([X("instruction"),wt("amount")]);function ls(e,r,n,s,l=[],o=ze){const m=mn([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}],n,l),v=Ve.alloc(Li.span);return Li.encode({instruction:jt.Approve,amount:BigInt(s)},v),new Pe({keys:m,programId:o,data:v})}var Hr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(Hr||(Hr={}));const us=1,fs=Ie([X("m"),X("n"),dn("isInitialized"),De("signer1"),De("signer2"),De("signer3"),De("signer4"),De("signer5"),De("signer6"),De("signer7"),De("signer8"),De("signer9"),De("signer10"),De("signer11")]),hs=fs.span;var Vt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(Vt||(Vt={}));const gn=Ie([De("mint"),De("owner"),wt("amount"),nt("delegateOption"),De("delegate"),X("state"),nt("isNativeOption"),wt("isNative"),wt("delegatedAmount"),nt("closeAuthorityOption"),De("closeAuthority")]),xt=gn.span;async function cs(e,r,n,s=ze){const l=await e.getAccountInfo(r,n);return ds(r,l,s)}function ds(e,r,n=ze){if(!r)throw new ss;if(!r.owner.equals(n))throw new os;if(r.data.length<xt)throw new Ti;const s=gn.decode(r.data.slice(0,xt));let l=Ve.alloc(0);if(r.data.length>xt){if(r.data.length===hs)throw new Ti;if(r.data[xt]!=Hr.Account)throw new as;l=r.data.slice(xt+us)}return{address:e,mint:s.mint,owner:s.owner,amount:s.amount,delegate:s.delegateOption?s.delegate:null,delegatedAmount:s.delegatedAmount,isInitialized:s.state!==Vt.Uninitialized,isFrozen:s.state===Vt.Frozen,isNative:!!s.isNativeOption,rentExemptReserve:s.isNativeOption?s.isNative:null,closeAuthority:s.closeAuthorityOption?s.closeAuthority:null,tlvData:l}}const ps=Ie([nt("mintAuthorityOption"),De("mintAuthority"),wt("supply"),X("decimals"),dn("isInitialized"),nt("freezeAuthorityOption"),De("freezeAuthority")]);ps.span;async function ms(e,r,n=!1,s=ze,l=Wt){if(!n&&!Y.isOnCurve(r.toBuffer()))throw new pn;const[o]=await Y.findProgramAddress([r.toBuffer(),s.toBuffer(),e.toBuffer()],l);return o}function vn(e,r,n=!1,s=ze,l=Wt){if(!n&&!Y.isOnCurve(r.toBuffer()))throw new pn;const[o]=Y.findProgramAddressSync([r.toBuffer(),s.toBuffer(),e.toBuffer()],l);return o}function gs(e,r,n,s,l=ze,o=Wt){return yn(e,r,n,s,Ve.alloc(0),l,o)}function vs(e,r,n,s,l=ze,o=Wt){return yn(e,r,n,s,Ve.from([1]),l,o)}function yn(e,r,n,s,l,o=ze,m=Wt){const v=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Pe({keys:v,programId:m,data:l})}const Wi=Ie([X("instruction"),wt("amount")]);function ys(e,r,n,s,l=[],o=ze){const m=mn([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,l),v=Ve.alloc(Wi.span);return Wi.encode({instruction:jt.MintTo,amount:BigInt(s)},v),new Pe({keys:m,programId:o,data:v})}class st{constructor(r,n){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=n}makeDestinationObject(){return{}}decode(r,n){throw new Error("Layout is abstract")}encode(r,n,s){throw new Error("Layout is abstract")}getSpan(r,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=r,n}fromArray(r){}}var Xt=st;function bs(e,r){return r.property?e+"["+r.property+"]":e}class it extends st{isCount(){throw new Error("ExternalLayout is abstract")}}class ws extends it{constructor(r,n,s){if(!(r instanceof st))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(r.span,s||r.property),this.layout=r,this.offset=n}isCount(){return this.layout instanceof ii||this.layout instanceof Ms}decode(r,n){return n===void 0&&(n=0),this.layout.decode(r,n+this.offset)}encode(r,n,s){return s===void 0&&(s=0),this.layout.encode(r,n,s+this.offset)}}class ii extends st{constructor(r,n){if(super(r,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,n){return n===void 0&&(n=0),r.readUIntLE(n,this.span)}encode(r,n,s){return s===void 0&&(s=0),n.writeUIntLE(r,s,this.span),this.span}}class Ms extends st{constructor(r,n){if(super(r,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,n){return n===void 0&&(n=0),r.readUIntBE(n,this.span)}encode(r,n,s){return s===void 0&&(s=0),n.writeUIntBE(r,s,this.span),this.span}}class Ss extends st{constructor(r,n,s){if(!(r instanceof st))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof it&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let l=-1;!(n instanceof it)&&0<r.span&&(l=n*r.span),super(l,s),this.elementLayout=r,this.count=n}getSpan(r,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let s=0,l=this.count;if(l instanceof it&&(l=l.decode(r,n)),0<this.elementLayout.span)s=l*this.elementLayout.span;else{let o=0;for(;o<l;)s+=this.elementLayout.getSpan(r,n+s),++o}return s}decode(r,n){n===void 0&&(n=0);const s=[];let l=0,o=this.count;for(o instanceof it&&(o=o.decode(r,n));l<o;)s.push(this.elementLayout.decode(r,n)),n+=this.elementLayout.getSpan(r,n),l+=1;return s}encode(r,n,s){s===void 0&&(s=0);const l=this.elementLayout,o=r.reduce((m,v)=>m+l.encode(v,n,s+m),0);return this.count instanceof it&&this.count.encode(r.length,n,s),o}}class xs extends st{constructor(r,n,s){if(!(Array.isArray(r)&&r.reduce((o,m)=>o&&m instanceof st,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&s===void 0&&(s=n,n=void 0);for(const o of r)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let l=-1;try{l=r.reduce((o,m)=>o+m.getSpan(),0)}catch{}super(l,n),this.fields=r,this.decodePrefixes=!!s}getSpan(r,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let s=0;try{s=this.fields.reduce((l,o)=>{const m=o.getSpan(r,n);return n+=m,l+m},0)}catch{throw new RangeError("indeterminate span")}return s}decode(r,n){n===void 0&&(n=0);const s=this.makeDestinationObject();for(const l of this.fields)if(l.property!==void 0&&(s[l.property]=l.decode(r,n)),n+=l.getSpan(r,n),this.decodePrefixes&&r.length===n)break;return s}encode(r,n,s){s===void 0&&(s=0);const l=s;let o=0,m=0;for(const v of this.fields){let b=v.span;if(m=0<b?b:0,v.property!==void 0){const w=r[v.property];w!==void 0&&(m=v.encode(w,n,s),0>b&&(b=v.getSpan(n,s)))}o=s,s+=b}return o+m-l}fromArray(r){const n=this.makeDestinationObject();for(const s of this.fields)s.property!==void 0&&0<r.length&&(n[s.property]=r.shift());return n}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===r)return n}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let n=0;for(const s of this.fields){if(s.property===r)return n;0>s.span?n=-1:0<=n&&(n+=s.span)}}}class ks extends st{constructor(r,n){if(!(r instanceof it&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let s=-1;r instanceof it||(s=r),super(s,n),this.length=r}getSpan(r,n){let s=this.span;return 0>s&&(s=this.length.decode(r,n)),s}decode(r,n){n===void 0&&(n=0);let s=this.span;return 0>s&&(s=this.length.decode(r,n)),r.slice(n,n+s)}encode(r,n,s){let l=this.length;if(this.length instanceof it&&(l=r.length),!(Ve.isBuffer(r)&&l===r.length))throw new TypeError(bs("Blob.encode",this)+" requires (length "+l+") Buffer as src");if(s+l>n.length)throw new RangeError("encoding overruns Buffer");return n.write(r.toString("hex"),s,l,"hex"),this.length instanceof it&&this.length.encode(l,n,s),l}}var As=(e,r,n)=>new ws(e,r,n),ht=e=>new ii(1,e),bn=e=>new ii(4,e),Ze=(e,r,n)=>new xs(e,r,n),Es=(e,r,n)=>new Ss(e,r,n),wn=(e,r)=>new ks(e,r),ni={exports:{}};ni.exports;(function(e){(function(r,n){function s(p,t){if(!p)throw new Error(t||"Assertion failed")}function l(p,t){p.super_=t;var a=function(){};a.prototype=t.prototype,p.prototype=new a,p.prototype.constructor=p}function o(p,t,a){if(o.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((t==="le"||t==="be")&&(a=t,t=10),this._init(p||0,t||10,a||"be"))}typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var m;try{typeof window<"u"&&typeof window.Buffer<"u"?m=window.Buffer:m=es.Buffer}catch{}o.isBN=function(t){return t instanceof o?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,a){return t.cmp(a)>0?t:a},o.min=function(t,a){return t.cmp(a)<0?t:a},o.prototype._init=function(t,a,u){if(typeof t=="number")return this._initNumber(t,a,u);if(typeof t=="object")return this._initArray(t,a,u);a==="hex"&&(a=16),s(a===(a|0)&&a>=2&&a<=36),t=t.toString().replace(/\s+/g,"");var h=0;t[0]==="-"&&(h++,this.negative=1),h<t.length&&(a===16?this._parseHex(t,h,u):(this._parseBase(t,a,h),u==="le"&&this._initArray(this.toArray(),a,u)))},o.prototype._initNumber=function(t,a,u){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(s(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),a,u)},o.prototype._initArray=function(t,a,u){if(s(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,g,y=0;if(u==="be")for(h=t.length-1,d=0;h>=0;h-=3)g=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[d]|=g<<y&67108863,this.words[d+1]=g>>>26-y&67108863,y+=24,y>=26&&(y-=26,d++);else if(u==="le")for(h=0,d=0;h<t.length;h+=3)g=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[d]|=g<<y&67108863,this.words[d+1]=g>>>26-y&67108863,y+=24,y>=26&&(y-=26,d++);return this._strip()};function v(p,t){var a=p.charCodeAt(t);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;s(!1,"Invalid character in "+p)}function b(p,t,a){var u=v(p,a);return a-1>=t&&(u|=v(p,a-1)<<4),u}o.prototype._parseHex=function(t,a,u){this.length=Math.ceil((t.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d=0,g=0,y;if(u==="be")for(h=t.length-1;h>=a;h-=2)y=b(t,a,h)<<d,this.words[g]|=y&67108863,d>=18?(d-=18,g+=1,this.words[g]|=y>>>26):d+=8;else{var f=t.length-a;for(h=f%2===0?a+1:a;h<t.length;h+=2)y=b(t,a,h)<<d,this.words[g]|=y&67108863,d>=18?(d-=18,g+=1,this.words[g]|=y>>>26):d+=8}this._strip()};function w(p,t,a,u){for(var h=0,d=0,g=Math.min(p.length,a),y=t;y<g;y++){var f=p.charCodeAt(y)-48;h*=u,f>=49?d=f-49+10:f>=17?d=f-17+10:d=f,s(f>=0&&d<u,"Invalid character"),h+=d}return h}o.prototype._parseBase=function(t,a,u){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=a)h++;h--,d=d/a|0;for(var g=t.length-u,y=g%h,f=Math.min(g,g-y)+u,i=0,c=u;c<f;c+=h)i=w(t,c,c+h,a),this.imuln(d),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(y!==0){var W=1;for(i=w(t,c,t.length,a),c=0;c<y;c++)W*=a;this.imuln(W),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var a=0;a<this.length;a++)t.words[a]=this.words[a];t.length=this.length,t.negative=this.negative,t.red=this.red};function S(p,t){p.words=t.words,p.length=t.length,p.negative=t.negative,p.red=t.red}if(o.prototype._move=function(t){S(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{o.prototype.inspect=M}else o.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,a){t=t||10,a=a|0||1;var u;if(t===16||t==="hex"){u="";for(var h=0,d=0,g=0;g<this.length;g++){var y=this.words[g],f=((y<<h|d)&16777215).toString(16);d=y>>>24-h&16777215,h+=2,h>=26&&(h-=26,g--),d!==0||g!==this.length-1?u=x[6-f.length]+f+u:u=f+u}for(d!==0&&(u=d.toString(16)+u);u.length%a!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(t===(t|0)&&t>=2&&t<=36){var i=A[t],c=E[t];u="";var W=this.clone();for(W.negative=0;!W.isZero();){var T=W.modrn(c).toString(t);W=W.idivn(c),W.isZero()?u=T+u:u=x[i-T.length]+T+u}for(this.isZero()&&(u="0"+u);u.length%a!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},m&&(o.prototype.toBuffer=function(t,a){return this.toArrayLike(m,t,a)}),o.prototype.toArray=function(t,a){return this.toArrayLike(Array,t,a)};var P=function(t,a){return t.allocUnsafe?t.allocUnsafe(a):new t(a)};o.prototype.toArrayLike=function(t,a,u){this._strip();var h=this.byteLength(),d=u||Math.max(1,h);s(h<=d,"byte array longer than desired length"),s(d>0,"Requested array length <= 0");var g=P(t,d),y=a==="le"?"LE":"BE";return this["_toArrayLike"+y](g,h),g},o.prototype._toArrayLikeLE=function(t,a){for(var u=0,h=0,d=0,g=0;d<this.length;d++){var y=this.words[d]<<g|h;t[u++]=y&255,u<t.length&&(t[u++]=y>>8&255),u<t.length&&(t[u++]=y>>16&255),g===6?(u<t.length&&(t[u++]=y>>24&255),h=0,g=0):(h=y>>>24,g+=2)}if(u<t.length)for(t[u++]=h;u<t.length;)t[u++]=0},o.prototype._toArrayLikeBE=function(t,a){for(var u=t.length-1,h=0,d=0,g=0;d<this.length;d++){var y=this.words[d]<<g|h;t[u--]=y&255,u>=0&&(t[u--]=y>>8&255),u>=0&&(t[u--]=y>>16&255),g===6?(u>=0&&(t[u--]=y>>24&255),h=0,g=0):(h=y>>>24,g+=2)}if(u>=0)for(t[u--]=h;u>=0;)t[u--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var a=t,u=0;return a>=4096&&(u+=13,a>>>=13),a>=64&&(u+=7,a>>>=7),a>=8&&(u+=4,a>>>=4),a>=2&&(u+=2,a>>>=2),u+a},o.prototype._zeroBits=function(t){if(t===0)return 26;var a=t,u=0;return a&8191||(u+=13,a>>>=13),a&127||(u+=7,a>>>=7),a&15||(u+=4,a>>>=4),a&3||(u+=2,a>>>=2),a&1||u++,u},o.prototype.bitLength=function(){var t=this.words[this.length-1],a=this._countBits(t);return(this.length-1)*26+a};function z(p){for(var t=new Array(p.bitLength()),a=0;a<t.length;a++){var u=a/26|0,h=a%26;t[a]=p.words[u]>>>h&1}return t}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,a=0;a<this.length;a++){var u=this._zeroBits(this.words[a]);if(t+=u,u!==26)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var a=0;a<t.length;a++)this.words[a]=this.words[a]|t.words[a];return this._strip()},o.prototype.ior=function(t){return s((this.negative|t.negative)===0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var a;this.length>t.length?a=t:a=this;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]&t.words[u];return this.length=a.length,this._strip()},o.prototype.iand=function(t){return s((this.negative|t.negative)===0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var a,u;this.length>t.length?(a=this,u=t):(a=t,u=this);for(var h=0;h<u.length;h++)this.words[h]=a.words[h]^u.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this._strip()},o.prototype.ixor=function(t){return s((this.negative|t.negative)===0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){s(typeof t=="number"&&t>=0);var a=Math.ceil(t/26)|0,u=t%26;this._expand(a),u>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return u>0&&(this.words[h]=~this.words[h]&67108863>>26-u),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,a){s(typeof t=="number"&&t>=0);var u=t/26|0,h=t%26;return this._expand(u+1),a?this.words[u]=this.words[u]|1<<h:this.words[u]=this.words[u]&~(1<<h),this._strip()},o.prototype.iadd=function(t){var a;if(this.negative!==0&&t.negative===0)return this.negative=0,a=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,a=this.isub(t),t.negative=1,a._normSign();var u,h;this.length>t.length?(u=this,h=t):(u=t,h=this);for(var d=0,g=0;g<h.length;g++)a=(u.words[g]|0)+(h.words[g]|0)+d,this.words[g]=a&67108863,d=a>>>26;for(;d!==0&&g<u.length;g++)a=(u.words[g]|0)+d,this.words[g]=a&67108863,d=a>>>26;if(this.length=u.length,d!==0)this.words[this.length]=d,this.length++;else if(u!==this)for(;g<u.length;g++)this.words[g]=u.words[g];return this},o.prototype.add=function(t){var a;return t.negative!==0&&this.negative===0?(t.negative=0,a=this.sub(t),t.negative^=1,a):t.negative===0&&this.negative!==0?(this.negative=0,a=t.sub(this),this.negative=1,a):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var a=this.iadd(t);return t.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var u=this.cmp(t);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;u>0?(h=this,d=t):(h=t,d=this);for(var g=0,y=0;y<d.length;y++)a=(h.words[y]|0)-(d.words[y]|0)+g,g=a>>26,this.words[y]=a&67108863;for(;g!==0&&y<h.length;y++)a=(h.words[y]|0)+g,g=a>>26,this.words[y]=a&67108863;if(g===0&&y<h.length&&h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=Math.max(this.length,y),h!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};function $(p,t,a){a.negative=t.negative^p.negative;var u=p.length+t.length|0;a.length=u,u=u-1|0;var h=p.words[0]|0,d=t.words[0]|0,g=h*d,y=g&67108863,f=g/67108864|0;a.words[0]=y;for(var i=1;i<u;i++){for(var c=f>>>26,W=f&67108863,T=Math.min(i,t.length-1),N=Math.max(0,i-p.length+1);N<=T;N++){var Z=i-N|0;h=p.words[Z]|0,d=t.words[N]|0,g=h*d+W,c+=g/67108864|0,W=g&67108863}a.words[i]=W|0,f=c|0}return f!==0?a.words[i]=f|0:a.length--,a._strip()}var I=function(t,a,u){var h=t.words,d=a.words,g=u.words,y=0,f,i,c,W=h[0]|0,T=W&8191,N=W>>>13,Z=h[1]|0,j=Z&8191,K=Z>>>13,fi=h[2]|0,J=fi&8191,Q=fi>>>13,hi=h[3]|0,ee=hi&8191,te=hi>>>13,ci=h[4]|0,re=ci&8191,ie=ci>>>13,di=h[5]|0,ne=di&8191,se=di>>>13,pi=h[6]|0,ae=pi&8191,oe=pi>>>13,mi=h[7]|0,le=mi&8191,ue=mi>>>13,gi=h[8]|0,fe=gi&8191,he=gi>>>13,vi=h[9]|0,ce=vi&8191,de=vi>>>13,yi=d[0]|0,pe=yi&8191,me=yi>>>13,bi=d[1]|0,ge=bi&8191,ve=bi>>>13,wi=d[2]|0,ye=wi&8191,be=wi>>>13,Mi=d[3]|0,we=Mi&8191,Me=Mi>>>13,Si=d[4]|0,Se=Si&8191,xe=Si>>>13,xi=d[5]|0,ke=xi&8191,Ae=xi>>>13,ki=d[6]|0,Ee=ki&8191,_e=ki>>>13,Ai=d[7]|0,Te=Ai&8191,Le=Ai>>>13,Ei=d[8]|0,We=Ei&8191,Ne=Ei>>>13,_i=d[9]|0,Re=_i&8191,Ce=_i>>>13;u.negative=t.negative^a.negative,u.length=19,f=Math.imul(T,pe),i=Math.imul(T,me),i=i+Math.imul(N,pe)|0,c=Math.imul(N,me);var ir=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(ir>>>26)|0,ir&=67108863,f=Math.imul(j,pe),i=Math.imul(j,me),i=i+Math.imul(K,pe)|0,c=Math.imul(K,me),f=f+Math.imul(T,ge)|0,i=i+Math.imul(T,ve)|0,i=i+Math.imul(N,ge)|0,c=c+Math.imul(N,ve)|0;var nr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(nr>>>26)|0,nr&=67108863,f=Math.imul(J,pe),i=Math.imul(J,me),i=i+Math.imul(Q,pe)|0,c=Math.imul(Q,me),f=f+Math.imul(j,ge)|0,i=i+Math.imul(j,ve)|0,i=i+Math.imul(K,ge)|0,c=c+Math.imul(K,ve)|0,f=f+Math.imul(T,ye)|0,i=i+Math.imul(T,be)|0,i=i+Math.imul(N,ye)|0,c=c+Math.imul(N,be)|0;var sr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(sr>>>26)|0,sr&=67108863,f=Math.imul(ee,pe),i=Math.imul(ee,me),i=i+Math.imul(te,pe)|0,c=Math.imul(te,me),f=f+Math.imul(J,ge)|0,i=i+Math.imul(J,ve)|0,i=i+Math.imul(Q,ge)|0,c=c+Math.imul(Q,ve)|0,f=f+Math.imul(j,ye)|0,i=i+Math.imul(j,be)|0,i=i+Math.imul(K,ye)|0,c=c+Math.imul(K,be)|0,f=f+Math.imul(T,we)|0,i=i+Math.imul(T,Me)|0,i=i+Math.imul(N,we)|0,c=c+Math.imul(N,Me)|0;var ar=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(ar>>>26)|0,ar&=67108863,f=Math.imul(re,pe),i=Math.imul(re,me),i=i+Math.imul(ie,pe)|0,c=Math.imul(ie,me),f=f+Math.imul(ee,ge)|0,i=i+Math.imul(ee,ve)|0,i=i+Math.imul(te,ge)|0,c=c+Math.imul(te,ve)|0,f=f+Math.imul(J,ye)|0,i=i+Math.imul(J,be)|0,i=i+Math.imul(Q,ye)|0,c=c+Math.imul(Q,be)|0,f=f+Math.imul(j,we)|0,i=i+Math.imul(j,Me)|0,i=i+Math.imul(K,we)|0,c=c+Math.imul(K,Me)|0,f=f+Math.imul(T,Se)|0,i=i+Math.imul(T,xe)|0,i=i+Math.imul(N,Se)|0,c=c+Math.imul(N,xe)|0;var or=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(or>>>26)|0,or&=67108863,f=Math.imul(ne,pe),i=Math.imul(ne,me),i=i+Math.imul(se,pe)|0,c=Math.imul(se,me),f=f+Math.imul(re,ge)|0,i=i+Math.imul(re,ve)|0,i=i+Math.imul(ie,ge)|0,c=c+Math.imul(ie,ve)|0,f=f+Math.imul(ee,ye)|0,i=i+Math.imul(ee,be)|0,i=i+Math.imul(te,ye)|0,c=c+Math.imul(te,be)|0,f=f+Math.imul(J,we)|0,i=i+Math.imul(J,Me)|0,i=i+Math.imul(Q,we)|0,c=c+Math.imul(Q,Me)|0,f=f+Math.imul(j,Se)|0,i=i+Math.imul(j,xe)|0,i=i+Math.imul(K,Se)|0,c=c+Math.imul(K,xe)|0,f=f+Math.imul(T,ke)|0,i=i+Math.imul(T,Ae)|0,i=i+Math.imul(N,ke)|0,c=c+Math.imul(N,Ae)|0;var lr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(lr>>>26)|0,lr&=67108863,f=Math.imul(ae,pe),i=Math.imul(ae,me),i=i+Math.imul(oe,pe)|0,c=Math.imul(oe,me),f=f+Math.imul(ne,ge)|0,i=i+Math.imul(ne,ve)|0,i=i+Math.imul(se,ge)|0,c=c+Math.imul(se,ve)|0,f=f+Math.imul(re,ye)|0,i=i+Math.imul(re,be)|0,i=i+Math.imul(ie,ye)|0,c=c+Math.imul(ie,be)|0,f=f+Math.imul(ee,we)|0,i=i+Math.imul(ee,Me)|0,i=i+Math.imul(te,we)|0,c=c+Math.imul(te,Me)|0,f=f+Math.imul(J,Se)|0,i=i+Math.imul(J,xe)|0,i=i+Math.imul(Q,Se)|0,c=c+Math.imul(Q,xe)|0,f=f+Math.imul(j,ke)|0,i=i+Math.imul(j,Ae)|0,i=i+Math.imul(K,ke)|0,c=c+Math.imul(K,Ae)|0,f=f+Math.imul(T,Ee)|0,i=i+Math.imul(T,_e)|0,i=i+Math.imul(N,Ee)|0,c=c+Math.imul(N,_e)|0;var ur=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(ur>>>26)|0,ur&=67108863,f=Math.imul(le,pe),i=Math.imul(le,me),i=i+Math.imul(ue,pe)|0,c=Math.imul(ue,me),f=f+Math.imul(ae,ge)|0,i=i+Math.imul(ae,ve)|0,i=i+Math.imul(oe,ge)|0,c=c+Math.imul(oe,ve)|0,f=f+Math.imul(ne,ye)|0,i=i+Math.imul(ne,be)|0,i=i+Math.imul(se,ye)|0,c=c+Math.imul(se,be)|0,f=f+Math.imul(re,we)|0,i=i+Math.imul(re,Me)|0,i=i+Math.imul(ie,we)|0,c=c+Math.imul(ie,Me)|0,f=f+Math.imul(ee,Se)|0,i=i+Math.imul(ee,xe)|0,i=i+Math.imul(te,Se)|0,c=c+Math.imul(te,xe)|0,f=f+Math.imul(J,ke)|0,i=i+Math.imul(J,Ae)|0,i=i+Math.imul(Q,ke)|0,c=c+Math.imul(Q,Ae)|0,f=f+Math.imul(j,Ee)|0,i=i+Math.imul(j,_e)|0,i=i+Math.imul(K,Ee)|0,c=c+Math.imul(K,_e)|0,f=f+Math.imul(T,Te)|0,i=i+Math.imul(T,Le)|0,i=i+Math.imul(N,Te)|0,c=c+Math.imul(N,Le)|0;var fr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(fr>>>26)|0,fr&=67108863,f=Math.imul(fe,pe),i=Math.imul(fe,me),i=i+Math.imul(he,pe)|0,c=Math.imul(he,me),f=f+Math.imul(le,ge)|0,i=i+Math.imul(le,ve)|0,i=i+Math.imul(ue,ge)|0,c=c+Math.imul(ue,ve)|0,f=f+Math.imul(ae,ye)|0,i=i+Math.imul(ae,be)|0,i=i+Math.imul(oe,ye)|0,c=c+Math.imul(oe,be)|0,f=f+Math.imul(ne,we)|0,i=i+Math.imul(ne,Me)|0,i=i+Math.imul(se,we)|0,c=c+Math.imul(se,Me)|0,f=f+Math.imul(re,Se)|0,i=i+Math.imul(re,xe)|0,i=i+Math.imul(ie,Se)|0,c=c+Math.imul(ie,xe)|0,f=f+Math.imul(ee,ke)|0,i=i+Math.imul(ee,Ae)|0,i=i+Math.imul(te,ke)|0,c=c+Math.imul(te,Ae)|0,f=f+Math.imul(J,Ee)|0,i=i+Math.imul(J,_e)|0,i=i+Math.imul(Q,Ee)|0,c=c+Math.imul(Q,_e)|0,f=f+Math.imul(j,Te)|0,i=i+Math.imul(j,Le)|0,i=i+Math.imul(K,Te)|0,c=c+Math.imul(K,Le)|0,f=f+Math.imul(T,We)|0,i=i+Math.imul(T,Ne)|0,i=i+Math.imul(N,We)|0,c=c+Math.imul(N,Ne)|0;var hr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(hr>>>26)|0,hr&=67108863,f=Math.imul(ce,pe),i=Math.imul(ce,me),i=i+Math.imul(de,pe)|0,c=Math.imul(de,me),f=f+Math.imul(fe,ge)|0,i=i+Math.imul(fe,ve)|0,i=i+Math.imul(he,ge)|0,c=c+Math.imul(he,ve)|0,f=f+Math.imul(le,ye)|0,i=i+Math.imul(le,be)|0,i=i+Math.imul(ue,ye)|0,c=c+Math.imul(ue,be)|0,f=f+Math.imul(ae,we)|0,i=i+Math.imul(ae,Me)|0,i=i+Math.imul(oe,we)|0,c=c+Math.imul(oe,Me)|0,f=f+Math.imul(ne,Se)|0,i=i+Math.imul(ne,xe)|0,i=i+Math.imul(se,Se)|0,c=c+Math.imul(se,xe)|0,f=f+Math.imul(re,ke)|0,i=i+Math.imul(re,Ae)|0,i=i+Math.imul(ie,ke)|0,c=c+Math.imul(ie,Ae)|0,f=f+Math.imul(ee,Ee)|0,i=i+Math.imul(ee,_e)|0,i=i+Math.imul(te,Ee)|0,c=c+Math.imul(te,_e)|0,f=f+Math.imul(J,Te)|0,i=i+Math.imul(J,Le)|0,i=i+Math.imul(Q,Te)|0,c=c+Math.imul(Q,Le)|0,f=f+Math.imul(j,We)|0,i=i+Math.imul(j,Ne)|0,i=i+Math.imul(K,We)|0,c=c+Math.imul(K,Ne)|0,f=f+Math.imul(T,Re)|0,i=i+Math.imul(T,Ce)|0,i=i+Math.imul(N,Re)|0,c=c+Math.imul(N,Ce)|0;var cr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(cr>>>26)|0,cr&=67108863,f=Math.imul(ce,ge),i=Math.imul(ce,ve),i=i+Math.imul(de,ge)|0,c=Math.imul(de,ve),f=f+Math.imul(fe,ye)|0,i=i+Math.imul(fe,be)|0,i=i+Math.imul(he,ye)|0,c=c+Math.imul(he,be)|0,f=f+Math.imul(le,we)|0,i=i+Math.imul(le,Me)|0,i=i+Math.imul(ue,we)|0,c=c+Math.imul(ue,Me)|0,f=f+Math.imul(ae,Se)|0,i=i+Math.imul(ae,xe)|0,i=i+Math.imul(oe,Se)|0,c=c+Math.imul(oe,xe)|0,f=f+Math.imul(ne,ke)|0,i=i+Math.imul(ne,Ae)|0,i=i+Math.imul(se,ke)|0,c=c+Math.imul(se,Ae)|0,f=f+Math.imul(re,Ee)|0,i=i+Math.imul(re,_e)|0,i=i+Math.imul(ie,Ee)|0,c=c+Math.imul(ie,_e)|0,f=f+Math.imul(ee,Te)|0,i=i+Math.imul(ee,Le)|0,i=i+Math.imul(te,Te)|0,c=c+Math.imul(te,Le)|0,f=f+Math.imul(J,We)|0,i=i+Math.imul(J,Ne)|0,i=i+Math.imul(Q,We)|0,c=c+Math.imul(Q,Ne)|0,f=f+Math.imul(j,Re)|0,i=i+Math.imul(j,Ce)|0,i=i+Math.imul(K,Re)|0,c=c+Math.imul(K,Ce)|0;var dr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(dr>>>26)|0,dr&=67108863,f=Math.imul(ce,ye),i=Math.imul(ce,be),i=i+Math.imul(de,ye)|0,c=Math.imul(de,be),f=f+Math.imul(fe,we)|0,i=i+Math.imul(fe,Me)|0,i=i+Math.imul(he,we)|0,c=c+Math.imul(he,Me)|0,f=f+Math.imul(le,Se)|0,i=i+Math.imul(le,xe)|0,i=i+Math.imul(ue,Se)|0,c=c+Math.imul(ue,xe)|0,f=f+Math.imul(ae,ke)|0,i=i+Math.imul(ae,Ae)|0,i=i+Math.imul(oe,ke)|0,c=c+Math.imul(oe,Ae)|0,f=f+Math.imul(ne,Ee)|0,i=i+Math.imul(ne,_e)|0,i=i+Math.imul(se,Ee)|0,c=c+Math.imul(se,_e)|0,f=f+Math.imul(re,Te)|0,i=i+Math.imul(re,Le)|0,i=i+Math.imul(ie,Te)|0,c=c+Math.imul(ie,Le)|0,f=f+Math.imul(ee,We)|0,i=i+Math.imul(ee,Ne)|0,i=i+Math.imul(te,We)|0,c=c+Math.imul(te,Ne)|0,f=f+Math.imul(J,Re)|0,i=i+Math.imul(J,Ce)|0,i=i+Math.imul(Q,Re)|0,c=c+Math.imul(Q,Ce)|0;var pr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(pr>>>26)|0,pr&=67108863,f=Math.imul(ce,we),i=Math.imul(ce,Me),i=i+Math.imul(de,we)|0,c=Math.imul(de,Me),f=f+Math.imul(fe,Se)|0,i=i+Math.imul(fe,xe)|0,i=i+Math.imul(he,Se)|0,c=c+Math.imul(he,xe)|0,f=f+Math.imul(le,ke)|0,i=i+Math.imul(le,Ae)|0,i=i+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ae)|0,f=f+Math.imul(ae,Ee)|0,i=i+Math.imul(ae,_e)|0,i=i+Math.imul(oe,Ee)|0,c=c+Math.imul(oe,_e)|0,f=f+Math.imul(ne,Te)|0,i=i+Math.imul(ne,Le)|0,i=i+Math.imul(se,Te)|0,c=c+Math.imul(se,Le)|0,f=f+Math.imul(re,We)|0,i=i+Math.imul(re,Ne)|0,i=i+Math.imul(ie,We)|0,c=c+Math.imul(ie,Ne)|0,f=f+Math.imul(ee,Re)|0,i=i+Math.imul(ee,Ce)|0,i=i+Math.imul(te,Re)|0,c=c+Math.imul(te,Ce)|0;var mr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(mr>>>26)|0,mr&=67108863,f=Math.imul(ce,Se),i=Math.imul(ce,xe),i=i+Math.imul(de,Se)|0,c=Math.imul(de,xe),f=f+Math.imul(fe,ke)|0,i=i+Math.imul(fe,Ae)|0,i=i+Math.imul(he,ke)|0,c=c+Math.imul(he,Ae)|0,f=f+Math.imul(le,Ee)|0,i=i+Math.imul(le,_e)|0,i=i+Math.imul(ue,Ee)|0,c=c+Math.imul(ue,_e)|0,f=f+Math.imul(ae,Te)|0,i=i+Math.imul(ae,Le)|0,i=i+Math.imul(oe,Te)|0,c=c+Math.imul(oe,Le)|0,f=f+Math.imul(ne,We)|0,i=i+Math.imul(ne,Ne)|0,i=i+Math.imul(se,We)|0,c=c+Math.imul(se,Ne)|0,f=f+Math.imul(re,Re)|0,i=i+Math.imul(re,Ce)|0,i=i+Math.imul(ie,Re)|0,c=c+Math.imul(ie,Ce)|0;var gr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(gr>>>26)|0,gr&=67108863,f=Math.imul(ce,ke),i=Math.imul(ce,Ae),i=i+Math.imul(de,ke)|0,c=Math.imul(de,Ae),f=f+Math.imul(fe,Ee)|0,i=i+Math.imul(fe,_e)|0,i=i+Math.imul(he,Ee)|0,c=c+Math.imul(he,_e)|0,f=f+Math.imul(le,Te)|0,i=i+Math.imul(le,Le)|0,i=i+Math.imul(ue,Te)|0,c=c+Math.imul(ue,Le)|0,f=f+Math.imul(ae,We)|0,i=i+Math.imul(ae,Ne)|0,i=i+Math.imul(oe,We)|0,c=c+Math.imul(oe,Ne)|0,f=f+Math.imul(ne,Re)|0,i=i+Math.imul(ne,Ce)|0,i=i+Math.imul(se,Re)|0,c=c+Math.imul(se,Ce)|0;var vr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(vr>>>26)|0,vr&=67108863,f=Math.imul(ce,Ee),i=Math.imul(ce,_e),i=i+Math.imul(de,Ee)|0,c=Math.imul(de,_e),f=f+Math.imul(fe,Te)|0,i=i+Math.imul(fe,Le)|0,i=i+Math.imul(he,Te)|0,c=c+Math.imul(he,Le)|0,f=f+Math.imul(le,We)|0,i=i+Math.imul(le,Ne)|0,i=i+Math.imul(ue,We)|0,c=c+Math.imul(ue,Ne)|0,f=f+Math.imul(ae,Re)|0,i=i+Math.imul(ae,Ce)|0,i=i+Math.imul(oe,Re)|0,c=c+Math.imul(oe,Ce)|0;var yr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(yr>>>26)|0,yr&=67108863,f=Math.imul(ce,Te),i=Math.imul(ce,Le),i=i+Math.imul(de,Te)|0,c=Math.imul(de,Le),f=f+Math.imul(fe,We)|0,i=i+Math.imul(fe,Ne)|0,i=i+Math.imul(he,We)|0,c=c+Math.imul(he,Ne)|0,f=f+Math.imul(le,Re)|0,i=i+Math.imul(le,Ce)|0,i=i+Math.imul(ue,Re)|0,c=c+Math.imul(ue,Ce)|0;var br=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(br>>>26)|0,br&=67108863,f=Math.imul(ce,We),i=Math.imul(ce,Ne),i=i+Math.imul(de,We)|0,c=Math.imul(de,Ne),f=f+Math.imul(fe,Re)|0,i=i+Math.imul(fe,Ce)|0,i=i+Math.imul(he,Re)|0,c=c+Math.imul(he,Ce)|0;var wr=(y+f|0)+((i&8191)<<13)|0;y=(c+(i>>>13)|0)+(wr>>>26)|0,wr&=67108863,f=Math.imul(ce,Re),i=Math.imul(ce,Ce),i=i+Math.imul(de,Re)|0,c=Math.imul(de,Ce);var Mr=(y+f|0)+((i&8191)<<13)|0;return y=(c+(i>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,g[0]=ir,g[1]=nr,g[2]=sr,g[3]=ar,g[4]=or,g[5]=lr,g[6]=ur,g[7]=fr,g[8]=hr,g[9]=cr,g[10]=dr,g[11]=pr,g[12]=mr,g[13]=gr,g[14]=vr,g[15]=yr,g[16]=br,g[17]=wr,g[18]=Mr,y!==0&&(g[19]=y,u.length++),u};Math.imul||(I=$);function R(p,t,a){a.negative=t.negative^p.negative,a.length=p.length+t.length;for(var u=0,h=0,d=0;d<a.length-1;d++){var g=h;h=0;for(var y=u&67108863,f=Math.min(d,t.length-1),i=Math.max(0,d-p.length+1);i<=f;i++){var c=d-i,W=p.words[c]|0,T=t.words[i]|0,N=W*T,Z=N&67108863;g=g+(N/67108864|0)|0,Z=Z+y|0,y=Z&67108863,g=g+(Z>>>26)|0,h+=g>>>26,g&=67108863}a.words[d]=y,u=g,g=h}return u!==0?a.words[d]=u:a.length--,a._strip()}function k(p,t,a){return R(p,t,a)}o.prototype.mulTo=function(t,a){var u,h=this.length+t.length;return this.length===10&&t.length===10?u=I(this,t,a):h<63?u=$(this,t,a):h<1024?u=R(this,t,a):u=k(this,t,a),u},o.prototype.mul=function(t){var a=new o(null);return a.words=new Array(this.length+t.length),this.mulTo(t,a)},o.prototype.mulf=function(t){var a=new o(null);return a.words=new Array(this.length+t.length),k(this,t,a)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var a=t<0;a&&(t=-t),s(typeof t=="number"),s(t<67108864);for(var u=0,h=0;h<this.length;h++){var d=(this.words[h]|0)*t,g=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),a?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var a=z(t);if(a.length===0)return new o(1);for(var u=this,h=0;h<a.length&&a[h]===0;h++,u=u.sqr());if(++h<a.length)for(var d=u.sqr();h<a.length;h++,d=d.sqr())a[h]!==0&&(u=u.mul(d));return u},o.prototype.iushln=function(t){s(typeof t=="number"&&t>=0);var a=t%26,u=(t-a)/26,h=67108863>>>26-a<<26-a,d;if(a!==0){var g=0;for(d=0;d<this.length;d++){var y=this.words[d]&h,f=(this.words[d]|0)-y<<a;this.words[d]=f|g,g=y>>>26-a}g&&(this.words[d]=g,this.length++)}if(u!==0){for(d=this.length-1;d>=0;d--)this.words[d+u]=this.words[d];for(d=0;d<u;d++)this.words[d]=0;this.length+=u}return this._strip()},o.prototype.ishln=function(t){return s(this.negative===0),this.iushln(t)},o.prototype.iushrn=function(t,a,u){s(typeof t=="number"&&t>=0);var h;a?h=(a-a%26)/26:h=0;var d=t%26,g=Math.min((t-d)/26,this.length),y=67108863^67108863>>>d<<d,f=u;if(h-=g,h=Math.max(0,h),f){for(var i=0;i<g;i++)f.words[i]=this.words[i];f.length=g}if(g!==0)if(this.length>g)for(this.length-=g,i=0;i<this.length;i++)this.words[i]=this.words[i+g];else this.words[0]=0,this.length=1;var c=0;for(i=this.length-1;i>=0&&(c!==0||i>=h);i--){var W=this.words[i]|0;this.words[i]=c<<26-d|W>>>d,c=W&y}return f&&c!==0&&(f.words[f.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,a,u){return s(this.negative===0),this.iushrn(t,a,u)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){s(typeof t=="number"&&t>=0);var a=t%26,u=(t-a)/26,h=1<<a;if(this.length<=u)return!1;var d=this.words[u];return!!(d&h)},o.prototype.imaskn=function(t){s(typeof t=="number"&&t>=0);var a=t%26,u=(t-a)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(a!==0&&u++,this.length=Math.min(u,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return s(typeof t=="number"),s(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},o.prototype.isubn=function(t){if(s(typeof t=="number"),s(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,a,u){var h=t.length+u,d;this._expand(h);var g,y=0;for(d=0;d<t.length;d++){g=(this.words[d+u]|0)+y;var f=(t.words[d]|0)*a;g-=f&67108863,y=(g>>26)-(f/67108864|0),this.words[d+u]=g&67108863}for(;d<this.length-u;d++)g=(this.words[d+u]|0)+y,y=g>>26,this.words[d+u]=g&67108863;if(y===0)return this._strip();for(s(y===-1),y=0,d=0;d<this.length;d++)g=-(this.words[d]|0)+y,y=g>>26,this.words[d]=g&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,a){var u=this.length-t.length,h=this.clone(),d=t,g=d.words[d.length-1]|0,y=this._countBits(g);u=26-y,u!==0&&(d=d.ushln(u),h.iushln(u),g=d.words[d.length-1]|0);var f=h.length-d.length,i;if(a!=="mod"){i=new o(null),i.length=f+1,i.words=new Array(i.length);for(var c=0;c<i.length;c++)i.words[c]=0}var W=h.clone()._ishlnsubmul(d,1,f);W.negative===0&&(h=W,i&&(i.words[f]=1));for(var T=f-1;T>=0;T--){var N=(h.words[d.length+T]|0)*67108864+(h.words[d.length+T-1]|0);for(N=Math.min(N/g|0,67108863),h._ishlnsubmul(d,N,T);h.negative!==0;)N--,h.negative=0,h._ishlnsubmul(d,1,T),h.isZero()||(h.negative^=1);i&&(i.words[T]=N)}return i&&i._strip(),h._strip(),a!=="div"&&u!==0&&h.iushrn(u),{div:i||null,mod:h}},o.prototype.divmod=function(t,a,u){if(s(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var h,d,g;return this.negative!==0&&t.negative===0?(g=this.neg().divmod(t,a),a!=="mod"&&(h=g.div.neg()),a!=="div"&&(d=g.mod.neg(),u&&d.negative!==0&&d.iadd(t)),{div:h,mod:d}):this.negative===0&&t.negative!==0?(g=this.divmod(t.neg(),a),a!=="mod"&&(h=g.div.neg()),{div:h,mod:g.mod}):this.negative&t.negative?(g=this.neg().divmod(t.neg(),a),a!=="div"&&(d=g.mod.neg(),u&&d.negative!==0&&d.isub(t)),{div:g.div,mod:d}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:t.length===1?a==="div"?{div:this.divn(t.words[0]),mod:null}:a==="mod"?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,a)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var a=this.divmod(t);if(a.mod.isZero())return a.div;var u=a.div.negative!==0?a.mod.isub(t):a.mod,h=t.ushrn(1),d=t.andln(1),g=u.cmp(h);return g<0||d===1&&g===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},o.prototype.modrn=function(t){var a=t<0;a&&(t=-t),s(t<=67108863);for(var u=(1<<26)%t,h=0,d=this.length-1;d>=0;d--)h=(u*h+(this.words[d]|0))%t;return a?-h:h},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var a=t<0;a&&(t=-t),s(t<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var d=(this.words[h]|0)+u*67108864;this.words[h]=d/t|0,u=d%t}return this._strip(),a?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){s(t.negative===0),s(!t.isZero());var a=this,u=t.clone();a.negative!==0?a=a.umod(t):a=a.clone();for(var h=new o(1),d=new o(0),g=new o(0),y=new o(1),f=0;a.isEven()&&u.isEven();)a.iushrn(1),u.iushrn(1),++f;for(var i=u.clone(),c=a.clone();!a.isZero();){for(var W=0,T=1;!(a.words[0]&T)&&W<26;++W,T<<=1);if(W>0)for(a.iushrn(W);W-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(i),d.isub(c)),h.iushrn(1),d.iushrn(1);for(var N=0,Z=1;!(u.words[0]&Z)&&N<26;++N,Z<<=1);if(N>0)for(u.iushrn(N);N-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(i),y.isub(c)),g.iushrn(1),y.iushrn(1);a.cmp(u)>=0?(a.isub(u),h.isub(g),d.isub(y)):(u.isub(a),g.isub(h),y.isub(d))}return{a:g,b:y,gcd:u.iushln(f)}},o.prototype._invmp=function(t){s(t.negative===0),s(!t.isZero());var a=this,u=t.clone();a.negative!==0?a=a.umod(t):a=a.clone();for(var h=new o(1),d=new o(0),g=u.clone();a.cmpn(1)>0&&u.cmpn(1)>0;){for(var y=0,f=1;!(a.words[0]&f)&&y<26;++y,f<<=1);if(y>0)for(a.iushrn(y);y-- >0;)h.isOdd()&&h.iadd(g),h.iushrn(1);for(var i=0,c=1;!(u.words[0]&c)&&i<26;++i,c<<=1);if(i>0)for(u.iushrn(i);i-- >0;)d.isOdd()&&d.iadd(g),d.iushrn(1);a.cmp(u)>=0?(a.isub(u),h.isub(d)):(u.isub(a),d.isub(h))}var W;return a.cmpn(1)===0?W=h:W=d,W.cmpn(0)<0&&W.iadd(t),W},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var a=this.clone(),u=t.clone();a.negative=0,u.negative=0;for(var h=0;a.isEven()&&u.isEven();h++)a.iushrn(1),u.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;u.isEven();)u.iushrn(1);var d=a.cmp(u);if(d<0){var g=a;a=u,u=g}else if(d===0||u.cmpn(1)===0)break;a.isub(u)}while(!0);return u.iushln(h)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){s(typeof t=="number");var a=t%26,u=(t-a)/26,h=1<<a;if(this.length<=u)return this._expand(u+1),this.words[u]|=h,this;for(var d=h,g=u;d!==0&&g<this.length;g++){var y=this.words[g]|0;y+=d,d=y>>>26,y&=67108863,this.words[g]=y}return d!==0&&(this.words[g]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(t){var a=t<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var u;if(this.length>1)u=1;else{a&&(t=-t),s(t<=67108863,"Number is too big");var h=this.words[0]|0;u=h===t?0:h<t?-1:1}return this.negative!==0?-u|0:u},o.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var a=this.ucmp(t);return this.negative!==0?-a|0:a},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var a=0,u=this.length-1;u>=0;u--){var h=this.words[u]|0,d=t.words[u]|0;if(h!==d){h<d?a=-1:h>d&&(a=1);break}}return a},o.prototype.gtn=function(t){return this.cmpn(t)===1},o.prototype.gt=function(t){return this.cmp(t)===1},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return this.cmpn(t)===-1},o.prototype.lt=function(t){return this.cmp(t)===-1},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return this.cmpn(t)===0},o.prototype.eq=function(t){return this.cmp(t)===0},o.red=function(t){return new C(t)},o.prototype.toRed=function(t){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return s(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return s(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Oe={k256:null,p224:null,p192:null,p25519:null};function H(p,t){this.name=p,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},H.prototype.ireduce=function(t){var a=t,u;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),u=a.bitLength();while(u>this.n);var h=u<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},H.prototype.split=function(t,a){t.iushrn(this.n,0,a)},H.prototype.imulK=function(t){return t.imul(this.k)};function _(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(_,H),_.prototype.split=function(t,a){for(var u=4194303,h=Math.min(t.length,9),d=0;d<h;d++)a.words[d]=t.words[d];if(a.length=h,t.length<=9){t.words[0]=0,t.length=1;return}var g=t.words[9];for(a.words[a.length++]=g&u,d=10;d<t.length;d++){var y=t.words[d]|0;t.words[d-10]=(y&u)<<4|g>>>22,g=y}g>>>=22,t.words[d-10]=g,g===0&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var a=0,u=0;u<t.length;u++){var h=t.words[u]|0;a+=h*977,t.words[u]=a&67108863,a=h*64+(a/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function L(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(L,H);function B(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(B,H);function q(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(q,H),q.prototype.imulK=function(t){for(var a=0,u=0;u<t.length;u++){var h=(t.words[u]|0)*19+a,d=h&67108863;h>>>=26,t.words[u]=d,a=h}return a!==0&&(t.words[t.length++]=a),t},o._prime=function(t){if(Oe[t])return Oe[t];var a;if(t==="k256")a=new _;else if(t==="p224")a=new L;else if(t==="p192")a=new B;else if(t==="p25519")a=new q;else throw new Error("Unknown prime "+t);return Oe[t]=a,a};function C(p){if(typeof p=="string"){var t=o._prime(p);this.m=t.p,this.prime=t}else s(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}C.prototype._verify1=function(t){s(t.negative===0,"red works only with positives"),s(t.red,"red works only with red numbers")},C.prototype._verify2=function(t,a){s((t.negative|a.negative)===0,"red works only with positives"),s(t.red&&t.red===a.red,"red works only with red numbers")},C.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(S(t,t.umod(this.m)._forceRed(this)),t)},C.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},C.prototype.add=function(t,a){this._verify2(t,a);var u=t.add(a);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},C.prototype.iadd=function(t,a){this._verify2(t,a);var u=t.iadd(a);return u.cmp(this.m)>=0&&u.isub(this.m),u},C.prototype.sub=function(t,a){this._verify2(t,a);var u=t.sub(a);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},C.prototype.isub=function(t,a){this._verify2(t,a);var u=t.isub(a);return u.cmpn(0)<0&&u.iadd(this.m),u},C.prototype.shl=function(t,a){return this._verify1(t),this.imod(t.ushln(a))},C.prototype.imul=function(t,a){return this._verify2(t,a),this.imod(t.imul(a))},C.prototype.mul=function(t,a){return this._verify2(t,a),this.imod(t.mul(a))},C.prototype.isqr=function(t){return this.imul(t,t.clone())},C.prototype.sqr=function(t){return this.mul(t,t)},C.prototype.sqrt=function(t){if(t.isZero())return t.clone();var a=this.m.andln(3);if(s(a%2===1),a===3){var u=this.m.add(new o(1)).iushrn(2);return this.pow(t,u)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);s(!h.isZero());var g=new o(1).toRed(this),y=g.redNeg(),f=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new o(2*i*i).toRed(this);this.pow(i,f).cmp(y)!==0;)i.redIAdd(y);for(var c=this.pow(i,h),W=this.pow(t,h.addn(1).iushrn(1)),T=this.pow(t,h),N=d;T.cmp(g)!==0;){for(var Z=T,j=0;Z.cmp(g)!==0;j++)Z=Z.redSqr();s(j<N);var K=this.pow(c,new o(1).iushln(N-j-1));W=W.redMul(K),c=K.redSqr(),T=T.redMul(c),N=j}return W},C.prototype.invm=function(t){var a=t._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},C.prototype.pow=function(t,a){if(a.isZero())return new o(1).toRed(this);if(a.cmpn(1)===0)return t.clone();var u=4,h=new Array(1<<u);h[0]=new o(1).toRed(this),h[1]=t;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],t);var g=h[0],y=0,f=0,i=a.bitLength()%26;for(i===0&&(i=26),d=a.length-1;d>=0;d--){for(var c=a.words[d],W=i-1;W>=0;W--){var T=c>>W&1;if(g!==h[0]&&(g=this.sqr(g)),T===0&&y===0){f=0;continue}y<<=1,y|=T,f++,!(f!==u&&(d!==0||W!==0))&&(g=this.mul(g,h[y]),f=0,y=0)}i=26}return g},C.prototype.convertTo=function(t){var a=t.umod(this.m);return a===t?a.clone():a},C.prototype.convertFrom=function(t){var a=t.clone();return a.red=null,a},o.mont=function(t){return new U(t)};function U(p){C.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(U,C),U.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},U.prototype.convertFrom=function(t){var a=this.imod(t.mul(this.rinv));return a.red=null,a},U.prototype.imul=function(t,a){if(t.isZero()||a.isZero())return t.words[0]=0,t.length=1,t;var u=t.imul(a),h=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=u.isub(h).iushrn(this.shift),g=d;return d.cmp(this.m)>=0?g=d.isub(this.m):d.cmpn(0)<0&&(g=d.iadd(this.m)),g._forceRed(this)},U.prototype.mul=function(t,a){if(t.isZero()||a.isZero())return new o(0)._forceRed(this);var u=t.mul(a),h=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=u.isub(h).iushrn(this.shift),g=d;return d.cmp(this.m)>=0?g=d.isub(this.m):d.cmpn(0)<0&&(g=d.iadd(this.m)),g._forceRed(this)},U.prototype.invm=function(t){var a=this.imod(t._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(e,rs)})(ni);var _s=ni.exports;const Kr=cn(_s);function Ts(e){return isNaN(e)?0:Number(e*Vr)}function Zr(e){if(typeof e=="number")return Math.abs(e)/Vr;if(typeof e=="bigint")return Math.abs(Number(e))/Vr;let r=1;e.isNeg()&&(r=-1);const s=e.abs().toString(10).padStart(10,"0"),l=s.length-9,o=s.slice(0,l)+"."+s.slice(l);return r*parseFloat(o)}const Ni=new Y("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ls=32,Ws=10,Ns=200,Be=new Y("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy");Zt.from("ephemeral");Zt.from("transient");async function Mn(e,r){const[n]=await Y.findProgramAddress([r.toBuffer(),Zt.from("withdraw")],e);return n}class Rs extends Xt{constructor(r,n,s){super(r,s),this.blob=wn(r),this.signed=n}decode(r,n=0){const s=new Kr(this.blob.decode(r,n),10,"le");return this.signed?s.fromTwos(this.span*8).clone():s}encode(r,n,s=0){return this.signed&&(r=r.toTwos(this.span*8)),this.blob.encode(r.toArrayLike(Ve,"le",this.span),n,s)}}function je(e){return new Rs(8,!1,e)}class Sn extends Xt{constructor(r,n,s,l){super(r.span,l),this.layout=r,this.decoder=n,this.encoder=s}decode(r,n){return this.decoder(this.layout.decode(r,n))}encode(r,n,s){return this.layout.encode(this.encoder(r),n,s)}getSpan(r,n){return this.layout.getSpan(r,n)}}function Fe(e){return new Sn(wn(32),r=>new Y(r),r=>r.toBuffer(),e)}class Cs extends Xt{constructor(r,n){super(-1,n),this.layout=r,this.discriminator=ht()}encode(r,n,s=0){return r==null?this.discriminator.encode(0,n,s):(this.discriminator.encode(1,n,s),this.layout.encode(r,n,s+1)+1)}decode(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return null;if(s===1)return this.layout.decode(r,n+1);throw new Error("Invalid option "+this.property)}getSpan(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return 1;if(s===1)return this.layout.getSpan(r,n+1)+1;throw new Error("Invalid option "+this.property)}}function It(e,r){return new Cs(e,r)}function Ps(e,r){const n=bn("length"),s=Ze([n,Es(e,As(n,-n.span),"values")]);return new Sn(s,({values:l})=>l,l=>({values:l}),r)}class Is extends TypeError{constructor(r,n){let s;const{message:l,explanation:o,...m}=r,{path:v}=r,b=v.length===0?l:`At path: ${v.join(".")} -- ${l}`;super(o??b),o!=null&&(this.cause=b),Object.assign(this,m),this.name=this.constructor.name,this.failures=()=>s??(s=[r,...n()])}}function Os(e){return Yt(e)&&typeof e[Symbol.iterator]=="function"}function Yt(e){return typeof e=="object"&&e!=null}function Ri(e){return Yt(e)&&!Array.isArray(e)}function vt(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Bs(e){const{done:r,value:n}=e.next();return r?void 0:n}function Ds(e,r,n,s){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:l,branch:o}=r,{type:m}=n,{refinement:v,message:b=`Expected a value of type \`${m}\`${v?` with refinement \`${v}\``:""}, but received: \`${vt(s)}\``}=e;return{value:s,type:m,refinement:v,key:l[l.length-1],path:l,branch:o,...e,message:b}}function*Ci(e,r,n,s){Os(e)||(e=[e]);for(const l of e){const o=Ds(l,r,n,s);o&&(yield o)}}function*xn(e,r,n={}){const{path:s=[],branch:l=[e],coerce:o=!1,mask:m=!1}=n,v={path:s,branch:l,mask:m};o&&(e=r.coercer(e,v));let b="valid";for(const w of r.validator(e,v))w.explanation=n.message,b="not_valid",yield[w,void 0];for(let[w,S,M]of r.entries(e,v)){const x=xn(S,M,{path:w===void 0?s:[...s,w],branch:w===void 0?l:[...l,S],coerce:o,mask:m,message:n.message});for(const A of x)A[0]?(b=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):o&&(S=A[1],w===void 0?e=S:e instanceof Map?e.set(w,S):e instanceof Set?e.add(S):Yt(e)&&(S!==void 0||w in e)&&(e[w]=S))}if(b!=="not_valid")for(const w of r.refiner(e,v))w.explanation=n.message,b="not_refined",yield[w,void 0];b==="valid"&&(yield[void 0,e])}class St{constructor(r){const{type:n,schema:s,validator:l,refiner:o,coercer:m=b=>b,entries:v=function*(){}}=r;this.type=n,this.schema=s,this.entries=v,this.coercer=m,l?this.validator=(b,w)=>{const S=l(b,w);return Ci(S,w,this,b)}:this.validator=()=>[],o?this.refiner=(b,w)=>{const S=o(b,w);return Ci(S,w,this,b)}:this.refiner=()=>[]}assert(r,n){return $s(r,this,n)}create(r,n){return qs(r,this,n)}is(r){return kn(r,this)}mask(r,n){return zs(r,this,n)}validate(r,n={}){return Rt(r,this,n)}}function $s(e,r,n){const s=Rt(e,r,{message:n});if(s[0])throw s[0]}function qs(e,r,n){const s=Rt(e,r,{coerce:!0,message:n});if(s[0])throw s[0];return s[1]}function zs(e,r,n){const s=Rt(e,r,{coerce:!0,mask:!0,message:n});if(s[0])throw s[0];return s[1]}function kn(e,r){return!Rt(e,r)[0]}function Rt(e,r,n={}){const s=xn(e,r,n),l=Bs(s);return l[0]?[new Is(l[0],function*(){for(const m of s)m[0]&&(yield m[0])}),void 0]:[void 0,l[1]]}function si(e,r){return new St({type:e,schema:null,validator:r})}function Us(e){const r={},n=e.map(s=>vt(s)).join();for(const s of e)r[s]=s;return new St({type:"enums",schema:r,validator(s){return e.includes(s)||`Expected one of \`${n}\`, but received: ${vt(s)}`}})}function An(e){return si("instance",r=>r instanceof e||`Expected a \`${e.name}\` instance, but received: ${vt(r)}`)}function Fs(e){return new St({...e,validator:(r,n)=>r===null||e.validator(r,n),refiner:(r,n)=>r===null||e.refiner(r,n)})}function Ht(){return si("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${vt(e)}`)}function js(e){return new St({...e,validator:(r,n)=>r===void 0||e.validator(r,n),refiner:(r,n)=>r===void 0||e.refiner(r,n)})}function En(){return si("string",e=>typeof e=="string"||`Expected a string, but received: ${vt(e)}`)}function mt(e){const r=Object.keys(e);return new St({type:"type",schema:e,*entries(n){if(Yt(n))for(const s of r)yield[s,n[s],e[s]]},validator(n){return Ri(n)||`Expected an object, but received: ${vt(n)}`},coercer(n){return Ri(n)?{...n}:n}})}function _n(e,r,n){return new St({...e,coercer:(s,l)=>kn(s,r)?e.coercer(n(s,l),l):e.coercer(s,l)})}const ft=[je("denominator"),je("numerator")];var Pi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.StakePool=1]="StakePool",e[e.ValidatorList=2]="ValidatorList"})(Pi||(Pi={}));const Dt=_n(An(Kr),En(),e=>{if(typeof e=="string")return new Kr(e,10);throw new Error("invalid big num")}),$t=_n(An(Y),En(),e=>new Y(e));class Vs extends Xt{constructor(r,n){super(-1,n),this.layout=r,this.discriminator=ht()}encode(r,n,s=0){return r==null?this.discriminator.encode(0,n,s):(this.discriminator.encode(2,n,s),this.layout.encode(r,n,s+1)+1)}decode(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return null;if(s===1||s===2)return this.layout.decode(r,n+1);throw new Error("Invalid future epoch "+this.property)}getSpan(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return 1;if(s===1||s===2)return this.layout.getSpan(r,n+1)+1;throw new Error("Invalid future epoch "+this.property)}}function kr(e,r){return new Vs(e,r)}const Hs=Us(["uninitialized","initialized","delegated","rewardsPool"]),Ks=mt({rentExemptReserve:Dt,authorized:mt({staker:$t,withdrawer:$t}),lockup:mt({unixTimestamp:Ht(),epoch:Ht(),custodian:$t})}),Zs=mt({meta:Ks,stake:Fs(mt({delegation:mt({voter:$t,stake:Dt,activationEpoch:Dt,deactivationEpoch:Dt,warmupCooldownRate:Ht()}),creditsObserved:Ht()}))});mt({type:Hs,info:js(Zs)});const Xs=Ze([ht("accountType"),Fe("manager"),Fe("staker"),Fe("stakeDepositAuthority"),ht("stakeWithdrawBumpSeed"),Fe("validatorList"),Fe("reserveStake"),Fe("poolMint"),Fe("managerFeeAccount"),Fe("tokenProgramId"),je("totalLamports"),je("poolTokenSupply"),je("lastUpdateEpoch"),Ze([je("unixTimestamp"),je("epoch"),Fe("custodian")],"lockup"),Ze(ft,"epochFee"),kr(Ze(ft),"nextEpochFee"),It(Fe(),"preferredDepositValidatorVoteAddress"),It(Fe(),"preferredWithdrawValidatorVoteAddress"),Ze(ft,"stakeDepositFee"),Ze(ft,"stakeWithdrawalFee"),kr(Ze(ft),"nextStakeWithdrawalFee"),ht("stakeReferralFee"),It(Fe(),"solDepositAuthority"),Ze(ft,"solDepositFee"),ht("solReferralFee"),It(Fe(),"solWithdrawAuthority"),Ze(ft,"solWithdrawalFee"),kr(Ze(ft),"nextSolWithdrawalFee"),je("lastEpochPoolTokenSupply"),je("lastEpochTotalLamports")]);var Ii;(function(e){e[e.Active=0]="Active",e[e.DeactivatingTransient=1]="DeactivatingTransient",e[e.ReadyForRemoval=2]="ReadyForRemoval"})(Ii||(Ii={}));const Ys=Ze([je("activeStakeLamports"),je("transientStakeLamports"),je("lastUpdateEpoch"),je("transientSeedSuffixStart"),je("transientSeedSuffixEnd"),ht("status"),Fe("voteAccountAddress")]);Ze([ht("accountType"),bn("maxValidators"),Ps(Ys,"validators")]);function $e(e,r){const n=e.layout.span,s=Zt.alloc(n),l=Object.assign({instruction:e.index},r);return e.layout.encode(l,s),s}function Oi(e,r){let n;try{n=e.layout.decode(r)}catch(s){throw new Error("invalid instruction; "+s)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Ar=Ie([X("instruction"),Qe("lamports"),Qe("transientStakeSeed")]),Gs=Ie([X("instruction"),nt("startIndex"),X("noMerge")]);function Bi(e,r,n,s){if(r>Ls)throw"maximum token name length is 32 characters";if(n>Ws)throw"maximum token symbol length is 10 characters";if(s>Ns)throw"maximum token uri length is 200 characters";return{index:e,layout:Ie([X("instruction"),nt("nameLen"),Et(r,"name"),nt("symbolLen"),Et(n,"symbol"),nt("uriLen"),Et(s,"uri")])}}const qe=Object.freeze({AddValidatorToPool:{index:1,layout:Ie([X("instruction"),nt("seed")])},RemoveValidatorFromPool:{index:2,layout:Ie([X("instruction")])},DecreaseValidatorStake:{index:3,layout:Ar},IncreaseValidatorStake:{index:4,layout:Ar},UpdateValidatorListBalance:{index:6,layout:Gs},UpdateStakePoolBalance:{index:7,layout:Ie([X("instruction")])},CleanupRemovedValidatorEntries:{index:8,layout:Ie([X("instruction")])},DepositStake:{index:9,layout:Ie([X("instruction")])},WithdrawStake:{index:10,layout:Ie([X("instruction"),Qe("poolTokens")])},DepositSol:{index:14,layout:Ie([X("instruction"),Qe("lamports")])},WithdrawSol:{index:16,layout:Ie([X("instruction"),Qe("poolTokens")])},IncreaseAdditionalValidatorStake:{index:19,layout:Ie([X("instruction"),Qe("lamports"),Qe("transientStakeSeed"),Qe("ephemeralStakeSeed")])},DecreaseAdditionalValidatorStake:{index:20,layout:Ie([X("instruction"),Qe("lamports"),Qe("transientStakeSeed"),Qe("ephemeralStakeSeed")])},DecreaseValidatorStakeWithReserve:{index:21,layout:Ar},Redelegate:{index:22,layout:Ie([X("instruction")])}});class Tn{static addValidatorToPool(r){const{stakePool:n,staker:s,reserveStake:l,withdrawAuthority:o,validatorList:m,validatorStake:v,validatorVote:b,seed:w}=r,S=qe.AddValidatorToPool,M=$e(S,{seed:w??0}),x=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:x,data:M})}static removeValidatorFromPool(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,validatorStake:m,transientStake:v}=r,b=qe.RemoveValidatorFromPool,w=$e(b),S=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:S,data:w})}static updateValidatorListBalance(r){const{stakePool:n,withdrawAuthority:s,validatorList:l,reserveStake:o,startIndex:m,noMerge:v,validatorAndTransientStakePairs:b}=r,w=qe.UpdateValidatorListBalance,S=$e(w,{startIndex:m,noMerge:v?1:0}),M=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1},...b.map(x=>({pubkey:x,isSigner:!1,isWritable:!0}))];return new Pe({programId:Be,keys:M,data:S})}static updateStakePoolBalance(r){const{stakePool:n,withdrawAuthority:s,validatorList:l,reserveStake:o,managerFeeAccount:m,poolMint:v}=r,b=qe.UpdateStakePoolBalance,w=$e(b),S=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:ze,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:S,data:w})}static cleanupRemovedValidatorEntries(r){const{stakePool:n,validatorList:s}=r,l=qe.CleanupRemovedValidatorEntries,o=$e(l),m=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}];return new Pe({programId:Be,keys:m,data:o})}static increaseValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,reserveStake:m,transientStake:v,validatorStake:b,validatorVote:w,lamports:S,transientStakeSeed:M}=r,x=qe.IncreaseValidatorStake,A=$e(x,{lamports:S,transientStakeSeed:M}),E=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:E,data:A})}static increaseAdditionalValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,reserveStake:m,transientStake:v,validatorStake:b,validatorVote:w,lamports:S,transientStakeSeed:M,ephemeralStake:x,ephemeralStakeSeed:A}=r,E=qe.IncreaseAdditionalValidatorStake,P=$e(E,{lamports:S,transientStakeSeed:M,ephemeralStakeSeed:A}),z=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:z,data:P})}static decreaseValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,validatorStake:m,transientStake:v,lamports:b,transientStakeSeed:w}=r,S=qe.DecreaseValidatorStake,M=$e(S,{lamports:b,transientStakeSeed:w}),x=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:x,data:M})}static decreaseValidatorStakeWithReserve(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,reserveStake:m,validatorStake:v,transientStake:b,lamports:w,transientStakeSeed:S}=r,M=qe.DecreaseValidatorStakeWithReserve,x=$e(M,{lamports:w,transientStakeSeed:S}),A=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:A,data:x})}static decreaseAdditionalValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:l,validatorList:o,reserveStake:m,validatorStake:v,transientStake:b,lamports:w,transientStakeSeed:S,ephemeralStakeSeed:M,ephemeralStake:x}=r,A=qe.DecreaseAdditionalValidatorStake,E=$e(A,{lamports:w,transientStakeSeed:S,ephemeralStakeSeed:M}),P=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:P,data:E})}static depositStake(r){const{stakePool:n,validatorList:s,depositAuthority:l,withdrawAuthority:o,depositStake:m,validatorStake:v,reserveStake:b,destinationPoolAccount:w,managerFeeAccount:S,referralPoolAccount:M,poolMint:x}=r,A=qe.DepositStake,E=$e(A),P=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:ze,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:P,data:E})}static depositSol(r){const{stakePool:n,withdrawAuthority:s,depositAuthority:l,reserveStake:o,fundingAccount:m,destinationPoolAccount:v,managerFeeAccount:b,referralPoolAccount:w,poolMint:S,lamports:M}=r,x=qe.DepositSol,A=$e(x,{lamports:M}),E=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:ze,isSigner:!1,isWritable:!1}];return l&&E.push({pubkey:l,isSigner:!0,isWritable:!1}),new Pe({programId:Be,keys:E,data:A})}static withdrawStake(r){const{stakePool:n,validatorList:s,withdrawAuthority:l,validatorStake:o,destinationStake:m,destinationStakeAuthority:v,sourceTransferAuthority:b,sourcePoolAccount:w,managerFeeAccount:S,poolMint:M,poolTokens:x}=r,A=qe.WithdrawStake,E=$e(A,{poolTokens:x}),P=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ze,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Be,keys:P,data:E})}static withdrawSol(r){const{stakePool:n,withdrawAuthority:s,sourceTransferAuthority:l,sourcePoolAccount:o,reserveStake:m,destinationSystemAccount:v,managerFeeAccount:b,solWithdrawAuthority:w,poolMint:S,poolTokens:M}=r,x=qe.WithdrawSol,A=$e(x,{poolTokens:M}),E=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Je,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:Ye.programId,isSigner:!1,isWritable:!1},{pubkey:ze,isSigner:!1,isWritable:!1}];return w&&E.push({pubkey:w,isSigner:!0,isWritable:!1}),new Pe({programId:Be,keys:E,data:A})}static createTokenMetadata(r){const{stakePool:n,withdrawAuthority:s,tokenMetadata:l,manager:o,payer:m,poolMint:v,name:b,symbol:w,uri:S}=r,M=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Ni,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Pt,isSigner:!1,isWritable:!1}],x=Bi(17,b.length,w.length,S.length),A=$e(x,{nameLen:b.length,name:Ve.from(b),symbolLen:w.length,symbol:Ve.from(w),uriLen:S.length,uri:Ve.from(S)});return new Pe({programId:Be,keys:M,data:A})}static updateTokenMetadata(r){const{stakePool:n,withdrawAuthority:s,tokenMetadata:l,manager:o,name:m,symbol:v,uri:b}=r,w=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Ni,isSigner:!1,isWritable:!1}],S=Bi(18,m.length,v.length,b.length),M=$e(S,{nameLen:m.length,name:Ve.from(m),symbolLen:v.length,symbol:Ve.from(v),uriLen:b.length,uri:Ve.from(b)});return new Pe({programId:Be,keys:w,data:M})}static decodeDepositStake(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,11),Oi(qe.DepositStake,r.data),{stakePool:r.keys[0].pubkey,validatorList:r.keys[1].pubkey,depositAuthority:r.keys[2].pubkey,withdrawAuthority:r.keys[3].pubkey,depositStake:r.keys[4].pubkey,validatorStake:r.keys[5].pubkey,reserveStake:r.keys[6].pubkey,destinationPoolAccount:r.keys[7].pubkey,managerFeeAccount:r.keys[8].pubkey,referralPoolAccount:r.keys[9].pubkey,poolMint:r.keys[10].pubkey}}static decodeDepositSol(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,9);const{amount:n}=Oi(qe.DepositSol,r.data);return{stakePool:r.keys[0].pubkey,depositAuthority:r.keys[1].pubkey,withdrawAuthority:r.keys[2].pubkey,reserveStake:r.keys[3].pubkey,fundingAccount:r.keys[4].pubkey,destinationPoolAccount:r.keys[5].pubkey,managerFeeAccount:r.keys[6].pubkey,referralPoolAccount:r.keys[7].pubkey,poolMint:r.keys[8].pubkey,lamports:n}}static checkProgramId(r){if(!r.equals(Ye.programId))throw new Error("Invalid instruction; programId is not StakeProgram")}static checkKeyLength(r,n){if(r.length<n)throw new Error(`Invalid instruction; found ${r.length} keys, expected at least ${n}`)}}async function Ln(e,r){const n=await e.getAccountInfo(r);if(!n)throw new Error("Invalid stake pool account");return{pubkey:r,account:{data:Xs.decode(n.data),executable:n.executable,lamports:n.lamports,owner:n.owner}}}async function Js(e,r,n,s,l,o,m){const v=await e.getBalance(n,"confirmed");if(v<s)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${Zr(v)} SOL.`);const w=(await Ln(e,r)).account.data,S=new ti,M=[S],x=[];if(x.push(et.transfer({fromPubkey:n,toPubkey:S.publicKey,lamports:s})),!l){const E=vn(w.poolMint,n);x.push(vs(n,E,n,w.poolMint)),l=E}const A=await Mn(Be,r);return x.push(Tn.depositSol({stakePool:r,reserveStake:w.reserveStake,fundingAccount:S.publicKey,destinationPoolAccount:l,managerFeeAccount:w.managerFeeAccount,referralPoolAccount:l,poolMint:w.poolMint,lamports:s,withdrawAuthority:A,depositAuthority:m})),{instructions:x,signers:M}}async function Qs(e,r,n,s,l,o){const m=await Ln(e,r),v=Ts(l),b=vn(m.account.data.poolMint,n),w=await cs(e,b);if(w.amount<v)throw new Error(`Not enough token balance to withdraw ${Zr(v)} pool tokens.
          Maximum withdraw amount is ${Zr(w.amount)} pool tokens.`);const S=[],M=ti.generate(),x=[M];S.push(ls(b,M.publicKey,n,v));const A=await Mn(Be,r),E=Tn.withdrawSol({stakePool:r,withdrawAuthority:A,reserveStake:m.account.data.reserveStake,sourcePoolAccount:b,sourceTransferAuthority:M.publicKey,destinationSystemAccount:s,managerFeeAccount:m.account.data.managerFeeAccount,poolMint:m.account.data.poolMint,poolTokens:v,solWithdrawAuthority:o});return S.push(E),{instructions:S,signers:x}}function Wn(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(n=Wn(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ct(){for(var e,r,n=0,s="",l=arguments.length;n<l;n++)(e=arguments[n])&&(r=Wn(e))&&(s&&(s+=" "),s+=r);return s}const Tt=e=>typeof e=="number"&&!isNaN(e),gt=e=>typeof e=="string",Xe=e=>typeof e=="function",qt=e=>gt(e)||Xe(e)?e:null,Xr=e=>F.isValidElement(e)||gt(e)||Xe(e)||Tt(e);function ea(e,r,n){n===void 0&&(n=300);const{scrollHeight:s,style:l}=e;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${n}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(r,n)})})}function Gt(e){let{enter:r,exit:n,appendPosition:s=!1,collapse:l=!0,collapseDuration:o=300}=e;return function(m){let{children:v,position:b,preventExitTransition:w,done:S,nodeRef:M,isIn:x,playToast:A}=m;const E=s?`${r}--${b}`:r,P=s?`${n}--${b}`:n,z=F.useRef(0);return F.useLayoutEffect(()=>{const $=M.current,I=E.split(" "),R=k=>{k.target===M.current&&(A(),$.removeEventListener("animationend",R),$.removeEventListener("animationcancel",R),z.current===0&&k.type!=="animationcancel"&&$.classList.remove(...I))};$.classList.add(...I),$.addEventListener("animationend",R),$.addEventListener("animationcancel",R)},[]),F.useEffect(()=>{const $=M.current,I=()=>{$.removeEventListener("animationend",I),l?ea($,S,o):S()};x||(w?I():(z.current=1,$.className+=` ${P}`,$.addEventListener("animationend",I)))},[x]),V.createElement(V.Fragment,null,v)}}function Di(e,r){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:r}:{}}const Ue=new Map;let Lt=[];const Yr=new Set,ta=e=>Yr.forEach(r=>r(e)),Nn=()=>Ue.size>0;function Rn(e,r){var n;if(r)return!((n=Ue.get(r))==null||!n.isToastActive(e));let s=!1;return Ue.forEach(l=>{l.isToastActive(e)&&(s=!0)}),s}function Cn(e,r){Xr(e)&&(Nn()||Lt.push({content:e,options:r}),Ue.forEach(n=>{n.buildToast(e,r)}))}function $i(e,r){Ue.forEach(n=>{r!=null&&r!=null&&r.containerId?(r==null?void 0:r.containerId)===n.id&&n.toggle(e,r==null?void 0:r.id):n.toggle(e,r==null?void 0:r.id)})}function ra(e){const{subscribe:r,getSnapshot:n,setProps:s}=F.useRef(function(o){const m=o.containerId||1;return{subscribe(v){const b=function(S,M,x){let A=1,E=0,P=[],z=[],$=[],I=M;const R=new Map,k=new Set,Oe=()=>{$=Array.from(R.values()),k.forEach(L=>L())},H=L=>{z=L==null?[]:z.filter(B=>B!==L),Oe()},_=L=>{const{toastId:B,onOpen:q,updateId:C,children:U}=L.props,p=C==null;L.staleId&&R.delete(L.staleId),R.set(B,L),z=[...z,L.props.toastId].filter(t=>t!==L.staleId),Oe(),x(Di(L,p?"added":"updated")),p&&Xe(q)&&q(F.isValidElement(U)&&U.props)};return{id:S,props:I,observe:L=>(k.add(L),()=>k.delete(L)),toggle:(L,B)=>{R.forEach(q=>{B!=null&&B!==q.props.toastId||Xe(q.toggle)&&q.toggle(L)})},removeToast:H,toasts:R,clearQueue:()=>{E-=P.length,P=[]},buildToast:(L,B)=>{if((i=>{let{containerId:c,toastId:W,updateId:T}=i;const N=c?c!==S:S!==1,Z=R.has(W)&&T==null;return N||Z})(B))return;const{toastId:q,updateId:C,data:U,staleId:p,delay:t}=B,a=()=>{H(q)},u=C==null;u&&E++;const h={...I,style:I.toastStyle,key:A++,...Object.fromEntries(Object.entries(B).filter(i=>{let[c,W]=i;return W!=null})),toastId:q,updateId:C,data:U,closeToast:a,isIn:!1,className:qt(B.className||I.toastClassName),bodyClassName:qt(B.bodyClassName||I.bodyClassName),progressClassName:qt(B.progressClassName||I.progressClassName),autoClose:!B.isLoading&&(d=B.autoClose,g=I.autoClose,d===!1||Tt(d)&&d>0?d:g),deleteToast(){const i=R.get(q),{onClose:c,children:W}=i.props;Xe(c)&&c(F.isValidElement(W)&&W.props),x(Di(i,"removed")),R.delete(q),E--,E<0&&(E=0),P.length>0?_(P.shift()):Oe()}};var d,g;h.closeButton=I.closeButton,B.closeButton===!1||Xr(B.closeButton)?h.closeButton=B.closeButton:B.closeButton===!0&&(h.closeButton=!Xr(I.closeButton)||I.closeButton);let y=L;F.isValidElement(L)&&!gt(L.type)?y=F.cloneElement(L,{closeToast:a,toastProps:h,data:U}):Xe(L)&&(y=L({closeToast:a,toastProps:h,data:U}));const f={content:y,props:h,staleId:p};I.limit&&I.limit>0&&E>I.limit&&u?P.push(f):Tt(t)?setTimeout(()=>{_(f)},t):_(f)},setProps(L){I=L},setToggle:(L,B)=>{R.get(L).toggle=B},isToastActive:L=>z.some(B=>B===L),getSnapshot:()=>$}}(m,o,ta);Ue.set(m,b);const w=b.observe(v);return Lt.forEach(S=>Cn(S.content,S.options)),Lt=[],()=>{w(),Ue.delete(m)}},setProps(v){var b;(b=Ue.get(m))==null||b.setProps(v)},getSnapshot(){var v;return(v=Ue.get(m))==null?void 0:v.getSnapshot()}}}(e)).current;s(e);const l=F.useSyncExternalStore(r,n,n);return{getToastToRender:function(o){if(!l)return[];const m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(v=>{const{position:b}=v.props;m.has(b)||m.set(b,[]),m.get(b).push(v)}),Array.from(m,v=>o(v[0],v[1]))},isToastActive:Rn,count:l==null?void 0:l.length}}function ia(e){const[r,n]=F.useState(!1),[s,l]=F.useState(!1),o=F.useRef(null),m=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:v,pauseOnHover:b,closeToast:w,onClick:S,closeOnClick:M}=e;var x,A;function E(){n(!0)}function P(){n(!1)}function z(R){const k=o.current;m.canDrag&&k&&(m.didMove=!0,r&&P(),m.delta=e.draggableDirection==="x"?R.clientX-m.start:R.clientY-m.start,m.start!==R.clientX&&(m.canCloseOnClick=!1),k.style.transform=`translate3d(${e.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(m.delta/m.removalDistance)))}function $(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",$);const R=o.current;if(m.canDrag&&m.didMove&&R){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance)return l(!0),e.closeToast(),void e.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(A=Ue.get((x={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||A.setToggle(x.id,x.fn),F.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||P(),window.addEventListener("focus",E),window.addEventListener("blur",P),()=>{window.removeEventListener("focus",E),window.removeEventListener("blur",P)}},[e.pauseOnFocusLoss]);const I={onPointerDown:function(R){if(e.draggable===!0||e.draggable===R.pointerType){m.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",$);const k=o.current;m.canCloseOnClick=!0,m.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(m.start=R.clientX,m.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(m.start=R.clientY,m.removalDistance=k.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(R){const{top:k,bottom:Oe,left:H,right:_}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=H&&R.clientX<=_&&R.clientY>=k&&R.clientY<=Oe?P():E()}};return v&&b&&(I.onMouseEnter=P,e.stacked||(I.onMouseLeave=E)),M&&(I.onClick=R=>{S&&S(R),m.canCloseOnClick&&w()}),{playToast:E,pauseToast:P,isRunning:r,preventExitTransition:s,toastRef:o,eventHandlers:I}}function na(e){let{delay:r,isRunning:n,closeToast:s,type:l="default",hide:o,className:m,style:v,controlledProgress:b,progress:w,rtl:S,isIn:M,theme:x}=e;const A=o||b&&w===0,E={...v,animationDuration:`${r}ms`,animationPlayState:n?"running":"paused"};b&&(E.transform=`scaleX(${w})`);const P=ct("Toastify__progress-bar",b?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${l}`,{"Toastify__progress-bar--rtl":S}),z=Xe(m)?m({rtl:S,type:l,defaultClassName:P}):ct(P,m),$={[b&&w>=1?"onTransitionEnd":"onAnimationEnd"]:b&&w<1?null:()=>{M&&s()}};return V.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},V.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${l}`}),V.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:z,style:E,...$}))}let sa=1;const Pn=()=>""+sa++;function aa(e){return e&&(gt(e.toastId)||Tt(e.toastId))?e.toastId:Pn()}function _t(e,r){return Cn(e,r),r.toastId}function Kt(e,r){return{...r,type:r&&r.type||e,toastId:aa(r)}}function Ot(e){return(r,n)=>_t(r,Kt(e,n))}function D(e,r){return _t(e,Kt("default",r))}D.loading=(e,r)=>_t(e,Kt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r})),D.promise=function(e,r,n){let s,{pending:l,error:o,success:m}=r;l&&(s=gt(l)?D.loading(l,n):D.loading(l.render,{...n,...l}));const v={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},b=(S,M,x)=>{if(M==null)return void D.dismiss(s);const A={type:S,...v,...n,data:x},E=gt(M)?{render:M}:M;return s?D.update(s,{...A,...E}):D(E.render,{...A,...E}),x},w=Xe(e)?e():e;return w.then(S=>b("success",m,S)).catch(S=>b("error",o,S)),w},D.success=Ot("success"),D.info=Ot("info"),D.error=Ot("error"),D.warning=Ot("warning"),D.warn=D.warning,D.dark=(e,r)=>_t(e,Kt("default",{theme:"dark",...r})),D.dismiss=function(e){(function(r){var n;if(Nn()){if(r==null||gt(n=r)||Tt(n))Ue.forEach(s=>{s.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){const s=Ue.get(r.containerId);s?s.removeToast(r.id):Ue.forEach(l=>{l.removeToast(r.id)})}}else Lt=Lt.filter(s=>r!=null&&s.options.toastId!==r)})(e)},D.clearWaitingQueue=function(e){e===void 0&&(e={}),Ue.forEach(r=>{!r.props.limit||e.containerId&&r.id!==e.containerId||r.clearQueue()})},D.isActive=Rn,D.update=function(e,r){r===void 0&&(r={});const n=((s,l)=>{var o;let{containerId:m}=l;return(o=Ue.get(m||1))==null?void 0:o.toasts.get(s)})(e,r);if(n){const{props:s,content:l}=n,o={delay:100,...s,...r,toastId:r.toastId||e,updateId:Pn()};o.toastId!==e&&(o.staleId=e);const m=o.render||l;delete o.render,_t(m,o)}},D.done=e=>{D.update(e,{progress:1})},D.onChange=function(e){return Yr.add(e),()=>{Yr.delete(e)}},D.play=e=>$i(!0,e),D.pause=e=>$i(!1,e);const oa=typeof window<"u"?F.useLayoutEffect:F.useEffect,Bt=e=>{let{theme:r,type:n,isLoading:s,...l}=e;return V.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...l})},Er={info:function(e){return V.createElement(Bt,{...e},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return V.createElement(Bt,{...e},V.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return V.createElement(Bt,{...e},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return V.createElement(Bt,{...e},V.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return V.createElement("div",{className:"Toastify__spinner"})}},la=e=>{const{isRunning:r,preventExitTransition:n,toastRef:s,eventHandlers:l,playToast:o}=ia(e),{closeButton:m,children:v,autoClose:b,onClick:w,type:S,hideProgressBar:M,closeToast:x,transition:A,position:E,className:P,style:z,bodyClassName:$,bodyStyle:I,progressClassName:R,progressStyle:k,updateId:Oe,role:H,progress:_,rtl:L,toastId:B,deleteToast:q,isIn:C,isLoading:U,closeOnClick:p,theme:t}=e,a=ct("Toastify__toast",`Toastify__toast-theme--${t}`,`Toastify__toast--${S}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":p}),u=Xe(P)?P({rtl:L,position:E,type:S,defaultClassName:a}):ct(a,P),h=function(f){let{theme:i,type:c,isLoading:W,icon:T}=f,N=null;const Z={theme:i,type:c};return T===!1||(Xe(T)?N=T({...Z,isLoading:W}):F.isValidElement(T)?N=F.cloneElement(T,Z):W?N=Er.spinner():(j=>j in Er)(c)&&(N=Er[c](Z))),N}(e),d=!!_||!b,g={closeToast:x,type:S,theme:t};let y=null;return m===!1||(y=Xe(m)?m(g):F.isValidElement(m)?F.cloneElement(m,g):function(f){let{closeToast:i,theme:c,ariaLabel:W="close"}=f;return V.createElement("button",{className:`Toastify__close-button Toastify__close-button--${c}`,type:"button",onClick:T=>{T.stopPropagation(),i(T)},"aria-label":W},V.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},V.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(g)),V.createElement(A,{isIn:C,done:q,position:E,preventExitTransition:n,nodeRef:s,playToast:o},V.createElement("div",{id:B,onClick:w,"data-in":C,className:u,...l,style:z,ref:s},V.createElement("div",{...C&&{role:H},className:Xe($)?$({type:S}):ct("Toastify__toast-body",$),style:I},h!=null&&V.createElement("div",{className:ct("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},h),V.createElement("div",null,v)),y,V.createElement(na,{...Oe&&!d?{key:`pb-${Oe}`}:{},rtl:L,theme:t,delay:b,isRunning:r,isIn:C,closeToast:x,hide:M,type:S,style:k,className:R,controlledProgress:d,progress:_||0})))},Jt=function(e,r){return r===void 0&&(r=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:r}},ua=Gt(Jt("bounce",!0));Gt(Jt("slide",!0));Gt(Jt("zoom"));Gt(Jt("flip"));const fa={position:"top-right",transition:ua,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function ha(e){let r={...fa,...e};const n=e.stacked,[s,l]=F.useState(!0),o=F.useRef(null),{getToastToRender:m,isToastActive:v,count:b}=ra(r),{className:w,style:S,rtl:M,containerId:x}=r;function A(P){const z=ct("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":M});return Xe(w)?w({position:P,rtl:M,defaultClassName:z}):ct(z,qt(w))}function E(){n&&(l(!0),D.play())}return oa(()=>{if(n){var P;const z=o.current.querySelectorAll('[data-in="true"]'),$=12,I=(P=r.position)==null?void 0:P.includes("top");let R=0,k=0;Array.from(z).reverse().forEach((Oe,H)=>{const _=Oe;_.classList.add("Toastify__toast--stacked"),H>0&&(_.dataset.collapsed=`${s}`),_.dataset.pos||(_.dataset.pos=I?"top":"bot");const L=R*(s?.2:1)+(s?0:$*H);_.style.setProperty("--y",`${I?L:-1*L}px`),_.style.setProperty("--g",`${$}`),_.style.setProperty("--s",""+(1-(s?k:0))),R+=_.offsetHeight,k+=.025})}},[s,b,n]),V.createElement("div",{ref:o,className:"Toastify",id:x,onMouseEnter:()=>{n&&(l(!1),D.pause())},onMouseLeave:E},m((P,z)=>{const $=z.length?{...S}:{...S,pointerEvents:"none"};return V.createElement("div",{className:A(P),style:$,key:`container-${P}`},z.map(I=>{let{content:R,props:k}=I;return V.createElement(la,{...k,stacked:n,collapseAll:E,isIn:v(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},R)}))}))}var ai={exports:{}},In=function(r,n){return function(){for(var l=new Array(arguments.length),o=0;o<l.length;o++)l[o]=arguments[o];return r.apply(n,l)}},ca=In,dt=Object.prototype.toString;function oi(e){return Array.isArray(e)}function Gr(e){return typeof e>"u"}function da(e){return e!==null&&!Gr(e)&&e.constructor!==null&&!Gr(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function On(e){return dt.call(e)==="[object ArrayBuffer]"}function pa(e){return dt.call(e)==="[object FormData]"}function ma(e){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&On(e.buffer),r}function ga(e){return typeof e=="string"}function va(e){return typeof e=="number"}function Bn(e){return e!==null&&typeof e=="object"}function zt(e){if(dt.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function ya(e){return dt.call(e)==="[object Date]"}function ba(e){return dt.call(e)==="[object File]"}function wa(e){return dt.call(e)==="[object Blob]"}function Dn(e){return dt.call(e)==="[object Function]"}function Ma(e){return Bn(e)&&Dn(e.pipe)}function Sa(e){return dt.call(e)==="[object URLSearchParams]"}function xa(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ka(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function li(e,r){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),oi(e))for(var n=0,s=e.length;n<s;n++)r.call(null,e[n],n,e);else for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&r.call(null,e[l],l,e)}function Jr(){var e={};function r(l,o){zt(e[o])&&zt(l)?e[o]=Jr(e[o],l):zt(l)?e[o]=Jr({},l):oi(l)?e[o]=l.slice():e[o]=l}for(var n=0,s=arguments.length;n<s;n++)li(arguments[n],r);return e}function Aa(e,r,n){return li(r,function(l,o){n&&typeof l=="function"?e[o]=ca(l,n):e[o]=l}),e}function Ea(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var He={isArray:oi,isArrayBuffer:On,isBuffer:da,isFormData:pa,isArrayBufferView:ma,isString:ga,isNumber:va,isObject:Bn,isPlainObject:zt,isUndefined:Gr,isDate:ya,isFile:ba,isBlob:wa,isFunction:Dn,isStream:Ma,isURLSearchParams:Sa,isStandardBrowserEnv:ka,forEach:li,merge:Jr,extend:Aa,trim:xa,stripBOM:Ea},yt=He;function qi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $n=function(r,n,s){if(!n)return r;var l;if(s)l=s(n);else if(yt.isURLSearchParams(n))l=n.toString();else{var o=[];yt.forEach(n,function(b,w){b===null||typeof b>"u"||(yt.isArray(b)?w=w+"[]":b=[b],yt.forEach(b,function(M){yt.isDate(M)?M=M.toISOString():yt.isObject(M)&&(M=JSON.stringify(M)),o.push(qi(w)+"="+qi(M))}))}),l=o.join("&")}if(l){var m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r},_a=He;function Qt(){this.handlers=[]}Qt.prototype.use=function(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};Qt.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Qt.prototype.forEach=function(r){_a.forEach(this.handlers,function(s){s!==null&&r(s)})};var Ta=Qt;function La(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qn={exports:{}},G=qn.exports={},tt,rt;function Qr(){throw new Error("setTimeout has not been defined")}function ei(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?tt=setTimeout:tt=Qr}catch{tt=Qr}try{typeof clearTimeout=="function"?rt=clearTimeout:rt=ei}catch{rt=ei}})();function zn(e){if(tt===setTimeout)return setTimeout(e,0);if((tt===Qr||!tt)&&setTimeout)return tt=setTimeout,setTimeout(e,0);try{return tt(e,0)}catch{try{return tt.call(null,e,0)}catch{return tt.call(this,e,0)}}}function Wa(e){if(rt===clearTimeout)return clearTimeout(e);if((rt===ei||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(e);try{return rt(e)}catch{try{return rt.call(null,e)}catch{return rt.call(this,e)}}}var ot=[],Mt=!1,pt,Ut=-1;function Na(){!Mt||!pt||(Mt=!1,pt.length?ot=pt.concat(ot):Ut=-1,ot.length&&Un())}function Un(){if(!Mt){var e=zn(Na);Mt=!0;for(var r=ot.length;r;){for(pt=ot,ot=[];++Ut<r;)pt&&pt[Ut].run();Ut=-1,r=ot.length}pt=null,Mt=!1,Wa(e)}}G.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];ot.push(new Fn(e,r)),ot.length===1&&!Mt&&zn(Un)};function Fn(e,r){this.fun=e,this.array=r}Fn.prototype.run=function(){this.fun.apply(null,this.array)};G.title="browser";G.browser=!0;G.env={};G.argv=[];G.version="";G.versions={};function lt(){}G.on=lt;G.addListener=lt;G.once=lt;G.off=lt;G.removeListener=lt;G.removeAllListeners=lt;G.emit=lt;G.prependListener=lt;G.prependOnceListener=lt;G.listeners=function(e){return[]};G.binding=function(e){throw new Error("process.binding is not supported")};G.cwd=function(){return"/"};G.chdir=function(e){throw new Error("process.chdir is not supported")};G.umask=function(){return 0};var Ra=qn.exports;const zi=La(Ra);var Ca=He,Pa=function(r,n){Ca.forEach(r,function(l,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(r[n]=l,delete r[o])})},jn=function(r,n,s,l,o){return r.config=n,s&&(r.code=s),r.request=l,r.response=o,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},_r,Ui;function Vn(){if(Ui)return _r;Ui=1;var e=jn;return _r=function(n,s,l,o,m){var v=new Error(n);return e(v,s,l,o,m)},_r}var Tr,Fi;function Ia(){if(Fi)return Tr;Fi=1;var e=Vn();return Tr=function(n,s,l){var o=l.config.validateStatus;!l.status||!o||o(l.status)?n(l):s(e("Request failed with status code "+l.status,l.config,null,l.request,l))},Tr}var Lr,ji;function Oa(){if(ji)return Lr;ji=1;var e=He;return Lr=e.isStandardBrowserEnv()?function(){return{write:function(s,l,o,m,v,b){var w=[];w.push(s+"="+encodeURIComponent(l)),e.isNumber(o)&&w.push("expires="+new Date(o).toGMTString()),e.isString(m)&&w.push("path="+m),e.isString(v)&&w.push("domain="+v),b===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(s){var l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Lr}var Wr,Vi;function Ba(){return Vi||(Vi=1,Wr=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}),Wr}var Nr,Hi;function Da(){return Hi||(Hi=1,Nr=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r}),Nr}var Rr,Ki;function $a(){if(Ki)return Rr;Ki=1;var e=Ba(),r=Da();return Rr=function(s,l){return s&&!e(l)?r(s,l):l},Rr}var Cr,Zi;function qa(){if(Zi)return Cr;Zi=1;var e=He,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Cr=function(s){var l={},o,m,v;return s&&e.forEach(s.split(`
`),function(w){if(v=w.indexOf(":"),o=e.trim(w.substr(0,v)).toLowerCase(),m=e.trim(w.substr(v+1)),o){if(l[o]&&r.indexOf(o)>=0)return;o==="set-cookie"?l[o]=(l[o]?l[o]:[]).concat([m]):l[o]=l[o]?l[o]+", "+m:m}}),l},Cr}var Pr,Xi;function za(){if(Xi)return Pr;Xi=1;var e=He;return Pr=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),l;function o(m){var v=m;return n&&(s.setAttribute("href",v),v=s.href),s.setAttribute("href",v),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=o(window.location.href),function(v){var b=e.isString(v)?o(v):v;return b.protocol===l.protocol&&b.host===l.host}}():function(){return function(){return!0}}(),Pr}var Ir,Yi;function er(){if(Yi)return Ir;Yi=1;function e(r){this.message=r}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Ir=e,Ir}var Or,Gi;function Ji(){if(Gi)return Or;Gi=1;var e=He,r=Ia(),n=Oa(),s=$n,l=$a(),o=qa(),m=za(),v=Vn(),b=tr(),w=er();return Or=function(M){return new Promise(function(A,E){var P=M.data,z=M.headers,$=M.responseType,I;function R(){M.cancelToken&&M.cancelToken.unsubscribe(I),M.signal&&M.signal.removeEventListener("abort",I)}e.isFormData(P)&&delete z["Content-Type"];var k=new XMLHttpRequest;if(M.auth){var Oe=M.auth.username||"",H=M.auth.password?unescape(encodeURIComponent(M.auth.password)):"";z.Authorization="Basic "+btoa(Oe+":"+H)}var _=l(M.baseURL,M.url);k.open(M.method.toUpperCase(),s(_,M.params,M.paramsSerializer),!0),k.timeout=M.timeout;function L(){if(k){var q="getAllResponseHeaders"in k?o(k.getAllResponseHeaders()):null,C=!$||$==="text"||$==="json"?k.responseText:k.response,U={data:C,status:k.status,statusText:k.statusText,headers:q,config:M,request:k};r(function(t){A(t),R()},function(t){E(t),R()},U),k=null}}if("onloadend"in k?k.onloadend=L:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(L)},k.onabort=function(){k&&(E(v("Request aborted",M,"ECONNABORTED",k)),k=null)},k.onerror=function(){E(v("Network Error",M,null,k)),k=null},k.ontimeout=function(){var C=M.timeout?"timeout of "+M.timeout+"ms exceeded":"timeout exceeded",U=M.transitional||b.transitional;M.timeoutErrorMessage&&(C=M.timeoutErrorMessage),E(v(C,M,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},e.isStandardBrowserEnv()){var B=(M.withCredentials||m(_))&&M.xsrfCookieName?n.read(M.xsrfCookieName):void 0;B&&(z[M.xsrfHeaderName]=B)}"setRequestHeader"in k&&e.forEach(z,function(C,U){typeof P>"u"&&U.toLowerCase()==="content-type"?delete z[U]:k.setRequestHeader(U,C)}),e.isUndefined(M.withCredentials)||(k.withCredentials=!!M.withCredentials),$&&$!=="json"&&(k.responseType=M.responseType),typeof M.onDownloadProgress=="function"&&k.addEventListener("progress",M.onDownloadProgress),typeof M.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",M.onUploadProgress),(M.cancelToken||M.signal)&&(I=function(q){k&&(E(!q||q&&q.type?new w("canceled"):q),k.abort(),k=null)},M.cancelToken&&M.cancelToken.subscribe(I),M.signal&&(M.signal.aborted?I():M.signal.addEventListener("abort",I))),P||(P=null),k.send(P)})},Or}var Br,Qi;function tr(){if(Qi)return Br;Qi=1;var e=He,r=Pa,n=jn,s={"Content-Type":"application/x-www-form-urlencoded"};function l(b,w){!e.isUndefined(b)&&e.isUndefined(b["Content-Type"])&&(b["Content-Type"]=w)}function o(){var b;return(typeof XMLHttpRequest<"u"||typeof zi<"u"&&Object.prototype.toString.call(zi)==="[object process]")&&(b=Ji()),b}function m(b,w,S){if(e.isString(b))try{return(w||JSON.parse)(b),e.trim(b)}catch(M){if(M.name!=="SyntaxError")throw M}return(0,JSON.stringify)(b)}var v={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(w,S){return r(S,"Accept"),r(S,"Content-Type"),e.isFormData(w)||e.isArrayBuffer(w)||e.isBuffer(w)||e.isStream(w)||e.isFile(w)||e.isBlob(w)?w:e.isArrayBufferView(w)?w.buffer:e.isURLSearchParams(w)?(l(S,"application/x-www-form-urlencoded;charset=utf-8"),w.toString()):e.isObject(w)||S&&S["Content-Type"]==="application/json"?(l(S,"application/json"),m(w)):w}],transformResponse:[function(w){var S=this.transitional||v.transitional,M=S&&S.silentJSONParsing,x=S&&S.forcedJSONParsing,A=!M&&this.responseType==="json";if(A||x&&e.isString(w)&&w.length)try{return JSON.parse(w)}catch(E){if(A)throw E.name==="SyntaxError"?n(E,this,"E_JSON_PARSE"):E}return w}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(w){return w>=200&&w<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(w){v.headers[w]={}}),e.forEach(["post","put","patch"],function(w){v.headers[w]=e.merge(s)}),Br=v,Br}var Ua=He,Fa=tr(),ja=function(r,n,s){var l=this||Fa;return Ua.forEach(s,function(m){r=m.call(l,r,n)}),r},Dr,en;function Hn(){return en||(en=1,Dr=function(r){return!!(r&&r.__CANCEL__)}),Dr}var tn=He,$r=ja,Va=Hn(),Ha=tr(),Ka=er();function qr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ka("canceled")}var Za=function(r){qr(r),r.headers=r.headers||{},r.data=$r.call(r,r.data,r.headers,r.transformRequest),r.headers=tn.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),tn.forEach(["delete","get","head","post","put","patch","common"],function(l){delete r.headers[l]});var n=r.adapter||Ha.adapter;return n(r).then(function(l){return qr(r),l.data=$r.call(r,l.data,l.headers,r.transformResponse),l},function(l){return Va(l)||(qr(r),l&&l.response&&(l.response.data=$r.call(r,l.response.data,l.response.headers,r.transformResponse))),Promise.reject(l)})},Ke=He,Kn=function(r,n){n=n||{};var s={};function l(S,M){return Ke.isPlainObject(S)&&Ke.isPlainObject(M)?Ke.merge(S,M):Ke.isPlainObject(M)?Ke.merge({},M):Ke.isArray(M)?M.slice():M}function o(S){if(Ke.isUndefined(n[S])){if(!Ke.isUndefined(r[S]))return l(void 0,r[S])}else return l(r[S],n[S])}function m(S){if(!Ke.isUndefined(n[S]))return l(void 0,n[S])}function v(S){if(Ke.isUndefined(n[S])){if(!Ke.isUndefined(r[S]))return l(void 0,r[S])}else return l(void 0,n[S])}function b(S){if(S in n)return l(r[S],n[S]);if(S in r)return l(void 0,r[S])}var w={url:m,method:m,data:m,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:b};return Ke.forEach(Object.keys(r).concat(Object.keys(n)),function(M){var x=w[M]||o,A=x(M);Ke.isUndefined(A)&&x!==b||(s[M]=A)}),s},zr,rn;function Zn(){return rn||(rn=1,zr={version:"0.25.0"}),zr}var Xa=Zn().version,ui={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){ui[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});var nn={};ui.transitional=function(r,n,s){function l(o,m){return"[Axios v"+Xa+"] Transitional option '"+o+"'"+m+(s?". "+s:"")}return function(o,m,v){if(r===!1)throw new Error(l(m," has been removed"+(n?" in "+n:"")));return n&&!nn[m]&&(nn[m]=!0,console.warn(l(m," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(o,m,v):!0}};function Ya(e,r,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var s=Object.keys(e),l=s.length;l-- >0;){var o=s[l],m=r[o];if(m){var v=e[o],b=v===void 0||m(v,o,e);if(b!==!0)throw new TypeError("option "+o+" must be "+b);continue}if(n!==!0)throw Error("Unknown option "+o)}}var Ga={assertOptions:Ya,validators:ui},Xn=He,Ja=$n,sn=Ta,an=Za,rr=Kn,Yn=Ga,bt=Yn.validators;function Ct(e){this.defaults=e,this.interceptors={request:new sn,response:new sn}}Ct.prototype.request=function(r,n){if(typeof r=="string"?(n=n||{},n.url=r):n=r||{},!n.url)throw new Error("Provided config url is not valid");n=rr(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var s=n.transitional;s!==void 0&&Yn.assertOptions(s,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1);var l=[],o=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(o=o&&A.synchronous,l.unshift(A.fulfilled,A.rejected))});var m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});var v;if(!o){var b=[an,void 0];for(Array.prototype.unshift.apply(b,l),b=b.concat(m),v=Promise.resolve(n);b.length;)v=v.then(b.shift(),b.shift());return v}for(var w=n;l.length;){var S=l.shift(),M=l.shift();try{w=S(w)}catch(x){M(x);break}}try{v=an(w)}catch(x){return Promise.reject(x)}for(;m.length;)v=v.then(m.shift(),m.shift());return v};Ct.prototype.getUri=function(r){if(!r.url)throw new Error("Provided config url is not valid");return r=rr(this.defaults,r),Ja(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};Xn.forEach(["delete","get","head","options"],function(r){Ct.prototype[r]=function(n,s){return this.request(rr(s||{},{method:r,url:n,data:(s||{}).data}))}});Xn.forEach(["post","put","patch"],function(r){Ct.prototype[r]=function(n,s,l){return this.request(rr(l||{},{method:r,url:n,data:s}))}});var Qa=Ct,Ur,on;function eo(){if(on)return Ur;on=1;var e=er();function r(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(m){s=m});var l=this;this.promise.then(function(o){if(l._listeners){var m,v=l._listeners.length;for(m=0;m<v;m++)l._listeners[m](o);l._listeners=null}}),this.promise.then=function(o){var m,v=new Promise(function(b){l.subscribe(b),m=b}).then(o);return v.cancel=function(){l.unsubscribe(m)},v},n(function(m){l.reason||(l.reason=new e(m),s(l.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},r.prototype.unsubscribe=function(s){if(this._listeners){var l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}},r.source=function(){var s,l=new r(function(m){s=m});return{token:l,cancel:s}},Ur=r,Ur}var Fr,ln;function to(){return ln||(ln=1,Fr=function(r){return function(s){return r.apply(null,s)}}),Fr}var jr,un;function ro(){if(un)return jr;un=1;var e=He;return jr=function(n){return e.isObject(n)&&n.isAxiosError===!0},jr}var fn=He,io=In,Ft=Qa,no=Kn,so=tr();function Gn(e){var r=new Ft(e),n=io(Ft.prototype.request,r);return fn.extend(n,Ft.prototype,r),fn.extend(n,r),n.create=function(l){return Gn(no(e,l))},n}var at=Gn(so);at.Axios=Ft;at.Cancel=er();at.CancelToken=eo();at.isCancel=Hn();at.VERSION=Zn().version;at.all=function(r){return Promise.all(r)};at.spread=to();at.isAxiosError=ro();ai.exports=at;ai.exports.default=at;var ao=ai.exports,oo=ao;const kt=cn(oo),hn=new Y("E17hzYQczWxUeVMQqsniqoZH4ZYj5koXUmAxYe4KDEdL"),lo=new Y("Lx48m36jmsyudPHs6SNUD3dsJ81J6ivsEVeCUsWQsBp"),Ge=new ts("https://api.devnet.solana.com","processed"),At="http://localhost:8000",uo=9;function go(){const{publicKey:e,sendTransaction:r,connected:n}=is(),[s,l]=F.useState(0),[o,m]=F.useState(0),[v,b]=F.useState(0),[w,S]=F.useState(0),[M,x]=F.useState(0),[A,E]=F.useState([]),[P,z]=F.useState(0),$=async()=>{if(e)try{const _=await Ge.getBalance(e);m(_/1e9)}catch(_){console.error("Error fetching wallet balance:",_),D.error("Failed to fetch wallet balance.")}},I=async()=>{if(e)try{const L=(await Ge.getParsedTokenAccountsByOwner(e,{programId:ze})).value.find(U=>U.account.data.parsed.info.mint===lo.toBase58()),B=(L==null?void 0:L.account.data.parsed.info.tokenAmount.uiAmount)||0;if(l(B),B===0){console.log("No staked balance, skipping API call.");return}const q=await kt.get(`${At}/staking-data/${e.toBase58()}`),{staking_rewards:C}=q.data;console.log(q.data),b(C)}catch(_){console.error("Error fetching staked balance:",_),D.error("Failed to fetch staked balance.")}},R=async()=>{try{const _=await kt.get(`${At}/staking-data/reward-rate`);z(_.data.apy)}catch(_){console.error("Error fetching APY:",_),D.error("Failed to fetch APY.")}},k=async()=>{if(!n||!e){D.error("Wallet not connected.");return}if(w<=0||w>o){D.error("Invalid staking amount.");return}try{const _=Math.floor(w*1e9),{instructions:L,signers:B}=await Js(Ge,hn,e,_),q=new xr().add(...L),C=await r(q,Ge,{signers:B});await Ge.confirmTransaction(C,"processed"),D.success(`Successfully staked ${w} SOL.`),E(U=>[`Staked: ${w} SOL (Tx: ${C})`,...U]);try{await kt.post(`${At}/staking-data/${e.toBase58()}/deposit`,{amount:w}),D.success("Staking data synchronized successfully.")}catch(U){console.error("Error syncing staking data:",U),D.error("Failed to synchronize staking data with the server.")}$(),I(),S(0)}catch(_){console.error("Error staking SOL:",_),D.error("Failed to stake SOL.")}},Oe=async()=>{if(!n||!e){D.error("Wallet not connected.");return}if(M<=0||M>s){D.error("Invalid withdrawal amount.");return}try{const _=Math.floor(M),{instructions:L,signers:B}=await Qs(Ge,hn,e,e,_),q=new xr().add(...L),C=await r(q,Ge,{signers:B});await Ge.confirmTransaction(C,"processed"),D.success(`Successfully withdrew ${M} SOL.`),E(U=>[`Withdrew: ${M} SOL (Tx: ${C})`,...U]),await kt.post(`${At}/staking-data/${e.toBase58()}/withdraw`,{amount:M}),$(),I(),x(0)}catch(_){console.error("Error withdrawing SOL:",_),D.error("Failed to withdraw SOL.")}},H=async _=>{if(!_){D.error("Wallet not connected.");return}try{const L=await kt.post(`${At}/staking-data/${_.toBase58()}/claim-rewards`),{claimed_rewards:B}=L.data;if(B<=0){D.error("No rewards to claim.");return}console.log(`Claimable rewards: ${B}`);const q=new Y("mnt2sTipfENeVjbVY7Tt8XPwps1EsELZQYeZivSF14v"),C=new Y("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),U=ti.fromSecretKey(Uint8Array.from([50,174,46,66,193,4,111,223,135,48,242,200,215,31,125,101,121,75,135,207,91,180,96,79,226,62,168,111,101,210,23,157,237,216,27,84,223,122,169,247,14,105,151,248,87,96,173,40,218,74,83,177,2,32,4,122,90,171,85,7,59,211,83,42])),p=await ms(q,_,!1,C);console.log(`User's Token Account: ${p.toBase58()}`);const t=new xr;await Ge.getAccountInfo(p)||t.add(gs(_,p,_,q,C));const u=Math.floor(B*10**uo);t.add(ys(q,p,U.publicKey,u,[],C)),t.feePayer=_;const h=await Ge.getLatestBlockhash();t.recentBlockhash=h.blockhash,t.partialSign(U);const d=await r(t,Ge);await Ge.confirmTransaction(d,"processed"),console.log(`Minted ${B} RAID to ${p.toBase58()}.`),console.log(`Transaction Signature: ${d}`),D.success(`Successfully claimed ${B} RAID.`),b(0)}catch(L){console.error("Error claiming rewards:",L),D.error("Failed to claim rewards.")}};return F.useEffect(()=>{if(n){$(),I(),R();const _=setInterval(()=>{I()},3e4);return()=>clearInterval(_)}},[n]),O.jsxs("div",{className:"bg-gray-900 min-h-screen p-6 flex flex-col items-center text-gray-200",children:[O.jsx(ha,{}),O.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-teal-400 mb-4",children:"RAID Community Staking Pool"}),O.jsxs("p",{className:"text-gray-300 text-lg",children:["Join the RAID community-run staking pool on Solana. Stake your SOL to help secure the network, earn rewards, and receive ",O.jsx("span",{className:"text-teal-400 font-semibold",children:"RADIATION"})," and ",O.jsx("span",{className:"text-teal-400 font-semibold",children:"RAID"})," tokens. These tokens can be used across Solana’s DeFi ecosystem to maximize your potential."]})]}),O.jsxs("div",{className:"max-w-xl w-full bg-gray-800 shadow-lg rounded-lg p-6 mb-6",children:[O.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Account Details"}),O.jsxs("div",{className:"mb-4",children:[O.jsxs("p",{className:"text-gray-300",children:[O.jsx("strong",{children:"Wallet Balance:"})," ",O.jsxs("span",{className:"text-white",children:[o," SOL"]})]}),O.jsxs("p",{className:"text-gray-300",children:[O.jsx("strong",{children:"Staked Amount:"})," ",O.jsxs("span",{className:"text-white",children:[s," Pool Tokens (Radiation)"]})]}),O.jsxs("p",{className:"text-gray-300",children:[O.jsx("strong",{children:"Claimable Rewards:"}),O.jsx("span",{className:"text-teal-300",children:v!==void 0?` ${v.toFixed(10)} RAID`:" Loading..."})]}),O.jsxs("p",{className:"text-gray-300",children:[O.jsx("strong",{children:"APY:"})," ",O.jsxs("span",{className:"text-teal-400",children:[(P*100).toFixed(2),"%"]})]})]}),O.jsx("button",{onClick:()=>{if(!e){D.error("Wallet not connected.");return}H(e)},className:`w-full py-2 px-4 font-medium rounded 
              ${v>0?"bg-teal-500 hover:bg-teal-600 text-white":"bg-gray-500 text-gray-400 cursor-not-allowed"}`,disabled:v<=0,children:"Claim RAID Rewards"})]}),O.jsxs("div",{className:"max-w-xl w-full bg-gray-800 shadow-lg rounded-lg p-6 mb-6",children:[O.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Stake SOL"}),O.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[O.jsx("input",{type:"number",value:w,onChange:_=>S(Number(_.target.value)),placeholder:"Amount to Stake",className:"w-full px-4 py-2 border border-teal-600 rounded-lg focus:outline-none focus:ring focus:ring-teal-500"}),O.jsxs("div",{className:"flex gap-1",children:[O.jsx("button",{onClick:()=>S(o*.25),className:"px-3 py-1 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"25%"}),O.jsx("button",{onClick:()=>S(o*.5),className:"px-3 py-1 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"50%"}),O.jsx("button",{onClick:()=>S(o),className:"px-3 py-1 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"MAX"})]})]}),O.jsx("button",{onClick:k,className:`w-full py-2 px-4 font-medium rounded 
              ${w>0&&w<=o?"bg-teal-500 hover:bg-teal-600 text-white":"bg-gray-500 text-gray-400 cursor-not-allowed"}`,disabled:w<=0||w>o,children:"Stake"})]}),O.jsxs("div",{className:"max-w-xl w-full bg-gray-800 shadow-lg rounded-lg p-6 mb-6",children:[O.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Withdraw SOL"}),O.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[O.jsx("input",{type:"number",value:M,onChange:_=>x(Number(_.target.value)),placeholder:"Amount to Withdraw",className:"w-full px-4 py-2 border border-red-600 rounded-lg focus:outline-none focus:ring focus:ring-red-500"}),O.jsxs("div",{className:"flex gap-1",children:[O.jsx("button",{onClick:()=>x(s*.25),className:"px-3 py-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:"25%"}),O.jsx("button",{onClick:()=>x(s*.5),className:"px-3 py-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:"50%"}),O.jsx("button",{onClick:()=>x(s),className:"px-3 py-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:"MAX"})]})]}),O.jsx("button",{onClick:Oe,className:`w-full py-2 px-4 font-medium rounded 
              ${M>0&&M<=s?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-500 text-gray-400 cursor-not-allowed"}`,disabled:M<=0||M>s,children:"Withdraw"})]}),O.jsxs("div",{className:"max-w-xl w-full bg-gray-800 shadow-lg rounded-lg p-6",children:[O.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Transaction History"}),A.length>0?O.jsx("ul",{className:"list-disc pl-5 text-gray-300",children:A.map((_,L)=>O.jsx("li",{className:"break-words",children:_},L))}):O.jsx("p",{className:"text-gray-400 text-center",children:"No transactions found."})]})]})}export{go as default};
