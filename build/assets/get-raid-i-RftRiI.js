import{j as a}from"./tanstack-DR812mCo.js";import{b as re,u as ie,B as oe,d as le,C as ce,P as K,T as de,e as ue,K as he}from"./solanaWeb3-DueJrBLx.js";import{r as j,b as N}from"./jotai-BfEc3ju9.js";import{a as V,Q as R}from"./react-toastify.esm-DK5EKzzP.js";import{u as me,a as fe,T as ge,b as xe,g as G,c as ve}from"./associatedTokenAccount-BJMHBaT0.js";import{E as be}from"./solanaWalletAdapters-BkS1YMsu.js";import"./index-BAMY2Nnw.js";import"./react-Cgq1nV1S.js";const J=re([ie("instruction"),me("amount")]);function ye(t,e,n,s,r=[],l=xe){const o=fe([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,r),d=oe.alloc(J.span);return J.encode({instruction:ge.Transfer,amount:BigInt(s)},d),new le({keys:o,programId:l,data:d})}function B(t){return t*Math.PI/180}function Z(t,e,n){return t>n?n:t<e?e:t}function _(t,e){return e/100*t}function Y(t,e){return t+e/2}function ee(t,e){var n=B(t);return{dx:e*Math.cos(n),dy:e*Math.sin(n)}}function te(t){return typeof t=="number"}function F(t,e){return typeof t=="function"?t(e):t}function pe(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].value;return e}function Ae(t){for(var e=t.data,n=t.lengthAngle,s=t.totalValue,r=t.paddingAngle,l=t.startAngle,o=s||pe(e),d=Z(n,-360,360),g=Math.abs(d)===360?e.length:e.length-1,x=Math.abs(r)*Math.sign(n),h=x*g,u=d-h,m=0,S=[],P=0;P<e.length;P++){var D=e[P],k=o===0?0:D.value/o*100,b=_(u,k),w=m+l;m=m+b+x,S.push(Object.assign({percentage:k,startAngle:w,degrees:b},D))}return S}function ae(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}var je=["dataEntry","dataIndex"];function Se(t){var e=t.renderLabel,n=t.labelProps,s=e(n);if(typeof s=="string"||typeof s=="number"){n.dataEntry,n.dataIndex;var r=ae(n,je);return N.createElement("text",Object.assign({dominantBaseline:"central"},r),s)}return N.isValidElement(s)?s:null}function Pe(t){var e=1e14;return Math.round((t+Number.EPSILON)*e)/e}function ke(t){var e=t.labelPosition,n=t.lineWidth,s=t.labelHorizontalShift,r=Pe(s);if(r===0)return"middle";if(e>100)return r>0?"start":"end";var l=100-n;return e<l?r>0?"end":"start":"middle"}function we(t,e){return t.map(function(n,s){var r,l=(r=F(e.segmentsShift,s))!=null?r:0,o=_(e.radius,e.labelPosition)+l,d=ee(Y(n.startAngle,n.degrees),o),g=d.dx,x=d.dy,h={x:e.center[0],y:e.center[1],dx:g,dy:x,textAnchor:ke({labelPosition:e.labelPosition,lineWidth:e.lineWidth,labelHorizontalShift:g}),dataEntry:n,dataIndex:s,style:F(e.labelStyle,s)};return h})}function Ne(t,e){var n=e.label;if(n)return we(t,e).map(function(s,r){return N.createElement(Se,{key:"label-"+(s.dataEntry.key||r),renderLabel:n,labelProps:s})})}function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $,Q;function Ie(){if(Q)return $;Q=1;var t=function(n,s,r,l,o){var d=o-l;if(d===0)return[];var g=r*Math.cos(l)+n,x=r*Math.sin(l)+s,h=r*Math.cos(o)+n,u=r*Math.sin(o)+s,m=Math.abs(d)<=Math.PI?"0":"1",S=d<0?"0":"1";return[["M",g,x],["A",r,r,0,m,S,h,u]]};return $=t,$}var Ee=Ie(),Te=De(Ee),Me=["cx","cy","lengthAngle","lineWidth","radius","shift","reveal","rounded","startAngle","title"];function Re(t,e,n,s,r){var l=Z(s,-359.999,359.999);return Te(t,e,r,B(n),B(n+l)).map(function(o){return o.join(" ")}).join(" ")}function X(t){var e=t.cx,n=t.cy,s=t.lengthAngle,r=t.lineWidth,l=t.radius,o=t.shift,d=o===void 0?0:o,g=t.reveal,x=t.rounded,h=t.startAngle,u=t.title,m=ae(t,Me),S=l-r/2,P=ee(Y(h,s),d),D=P.dx,k=P.dy,b=Re(e+D,n+k,h,s,S),w,L;if(te(g)){var z=B(S)*s;w=Math.abs(z),L=w-_(w,g)}return N.createElement("path",Object.assign({d:b,fill:"none",strokeWidth:r,strokeDasharray:w,strokeDashoffset:L,strokeLinecap:x?"round":void 0},m),u&&N.createElement("title",null,u))}function Le(t,e,n){var s="stroke-dashoffset "+t+"ms "+e;return n&&n.transition&&(s=s+","+n.transition),{transition:s}}function Oe(t){var e=t.reveal,n=t.animate;return n&&!te(e)?100:e}function M(t,e){return t&&function(n){t(n,e)}}function Ce(t,e,n){var s=n??Oe(e),r=e.radius,l=e.center,o=l[0],d=l[1],g=_(r,e.lineWidth),x=t.map(function(h,u){var m=F(e.segmentsStyle,u);return N.createElement(X,{cx:o,cy:d,key:h.key||u,lengthAngle:h.degrees,lineWidth:g,radius:r,rounded:e.rounded,reveal:s,shift:F(e.segmentsShift,u),startAngle:h.startAngle,title:h.title,style:Object.assign({},m,e.animate&&Le(e.animationDuration,e.animationEasing,m)),stroke:h.color,tabIndex:e.segmentsTabIndex,onBlur:M(e.onBlur,u),onClick:M(e.onClick,u),onFocus:M(e.onFocus,u),onKeyDown:M(e.onKeyDown,u),onMouseOver:M(e.onMouseOver,u),onMouseOut:M(e.onMouseOut,u)})});return e.background&&x.unshift(N.createElement(X,{cx:o,cy:d,key:"bg",lengthAngle:e.lengthAngle,lineWidth:g,radius:r,rounded:e.rounded,startAngle:e.startAngle,stroke:e.background})),x}var q={animationDuration:500,animationEasing:"ease-out",center:[50,50],data:[],labelPosition:50,lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,startAngle:0,viewBoxSize:[100,100]};function We(t){var e=Object.assign({},q,t),n;for(n in q)t[n]===void 0&&(e[n]=q[n]);return e}function Be(t){var e=We(t),n=j.useState(e.animate?0:null),s=n[0],r=n[1];j.useEffect(function(){e.animate&&r(null)},[]);var l=Ae(e);return N.createElement("svg",{viewBox:"0 0 "+e.viewBoxSize[0]+" "+e.viewBoxSize[1],width:"100%",height:"100%",className:e.className,style:e.style},Ce(l,e,s),Ne(l,e),e.children)}const H="https://mcnv3hcykt.us-east-2.awsapprunner.com",U=25e4,W=new ce("https://prettiest-flashy-wind.solana-mainnet.quiknode.pro/45fee519abbd5d4cac5f5c12044119d868ae84cb/","processed");function Ue(){const[t,e]=j.useState(0),[n,s]=j.useState(0),[r,l]=j.useState(0),[o,d]=j.useState(0),[g,x]=j.useState(0),[h,u]=j.useState(!1),{publicKey:m,sendTransaction:S}=be(),[P,D]=j.useState({days:"00",hours:"00",minutes:"00",seconds:"00"}),k=[{title:"Presale",value:10,color:"#4caf50"},{title:"Liquidity",value:40,color:"#2196f3"},{title:"Staking",value:25,color:"#FF69B4"},{title:"DAO Rewards",value:5,color:"#A020F0"},{title:"Development",value:10,color:"#ff9800"},{title:"Marketing",value:10,color:"#f44336"}],b=i=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i);async function w(){try{const i=await V.get(`${H}/secrets/payer`),{key:f}=i.data;if(!f)throw new Error("Secret key is not defined in the backend response");const y=JSON.parse(f),p=Uint8Array.from(y);return he.fromSecretKey(p)}catch(i){throw i}}const L=async(i,f,y)=>{try{const p={wallet_address:i,tokens_purchased:f*U,sol_received:f,transactionId:y},c=await V.post(`${H}/presale/transaction`,p,{headers:{"Content-Type":"application/json"}});if(c.status===200)return console.log("Contribution Successful:",c.data),c.data;throw new Error(c.data.detail||"Failed to contribute")}catch(p){throw p}};j.useEffect(()=>{(async()=>{try{const v=(await V.get(`${H}/api/presale/progress`)).data;e(v.progress_percentage||0),s(v.total_tokens_sold||0),l(v.total_sol_received||0)}catch{R.error("Failed to load presale progress.")}})();const f=new Date;f.setDate(f.getDate()+60);const y=()=>{const c=new Date,v=f.getTime()-c.getTime();if(v<=0){D({days:"00",hours:"00",minutes:"00",seconds:"00"});return}const I=Math.floor(v/(1e3*60*60*24)),A=Math.floor(v/(1e3*60*60)%24),O=Math.floor(v/1e3/60%60),E=Math.floor(v/1e3%60);D({days:I.toString().padStart(2,"0"),hours:A.toString().padStart(2,"0"),minutes:O.toString().padStart(2,"0"),seconds:E.toString().padStart(2,"0")})},p=setInterval(y,1e3);return y(),()=>clearInterval(p)},[]);const z=i=>{d(i),x(i*U)},ne=async()=>{if(o<=0){R.error("Please enter a valid SOL amount.");return}if(!m){R.error("Wallet not connected.");return}u(!0);try{const i=new K("H1SkWxyCZ1tAtSQ3xHaPrW5cs4N1EvJhpc7LCNtDN2sB"),f=new K("HNEgW597ZQwZAVL8iEaAc3aKv735pFTspVLqrJESpoth"),y=new K("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),p=9,c=await w(),v=await G(f,c.publicKey,!1,y),I=await G(f,m,!1,y),A=new de;A.add(ue.transfer({fromPubkey:m,toPubkey:i,lamports:o*1e9})),await W.getAccountInfo(I)||A.add(ve(m,I,m,f,y));const E=g*10**p;A.add(ye(v,I,c.publicKey,E,[],y)),A.feePayer=m;const C=await W.getLatestBlockhash();A.recentBlockhash=C.blockhash,A.partialSign(c);const T=await S(A,W);await W.confirmTransaction(T,"processed"),console.log(`Transaction successful: ${T}`),R.success(a.jsxs("div",{children:["Successfully swapped ",b(o)," SOL for ",b(g)," RAID! ðŸŽ‰",a.jsx("br",{}),a.jsx("a",{href:`https://solscan.io/tx/${T}?cluster=mainnet-beta`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 underline",children:"View on Solscan"})]})),await L(m.toBase58(),o,T)}catch(i){console.error("Error during presale transaction:",i),R.error("Transaction failed. Please try again.")}finally{u(!1)}};return a.jsxs("div",{className:"relative bg-gradient-to-b from-gray-900 via-black to-gray-800 text-white min-h-screen py-16",style:{backgroundImage:"url('/raid_alt.png')",backgroundSize:"cover",backgroundPosition:"center"},children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75"}),a.jsxs("div",{className:"relative max-w-3xl mx-auto px-6 z-10",children:[a.jsxs("h1",{className:"text-5xl font-extrabold text-center mb-8 relative",style:{fontFamily:"'Poppins', sans-serif",color:"#6C63FF"},children:[a.jsx("span",{children:"I.C.O is "}),a.jsx("span",{className:"animate-pulse",style:{color:"#FF0000",fontWeight:"bold"},children:"LIVE!"}),"ðŸš€"]}),a.jsx("center",{children:a.jsx("h2",{className:"text-xl font-semibold text-red-300 mb-4",children:" Ends In"})}),a.jsx("div",{className:"flex justify-center space-x-4",children:Object.entries(P).map(([i,f])=>a.jsxs("div",{className:"flip-clock-unit",children:[a.jsx("div",{className:"flip-clock-label capitalize",children:i}),a.jsx("div",{className:"flip-clock-digit",children:f})]},i))}),a.jsx("p",{className:"text-center text-gray-300 mb-8 text-lg",children:"Swap your SOL for RAID tokens to be the first to join the decentralized GPU revolution!"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-indigo-300 mb-4",children:"Goal Progress"}),a.jsx("div",{className:"relative w-full bg-gray-700 h-6 rounded-lg overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${b(t)}%`}})}),a.jsxs("div",{className:"flex justify-between mt-2 text-gray-300 text-sm",children:[a.jsxs("span",{children:[b(t),"% Complete"]}),a.jsxs("span",{children:["RAID Sold: ",b(n)]})]}),a.jsxs("div",{className:"text-right text-gray-300 text-sm",children:["SOL Received: ",b(r)]})]}),a.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg bg-opacity-85",children:[a.jsx("h3",{className:"text-lg font-semibold text-white-300 mb-4 text-center",children:"Swap SOL for RAID"}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:"/solana.jpg",alt:"SOL",className:"w-10 h-10"}),a.jsx("input",{type:"number",value:o,onChange:i=>z(Number(i.target.value)),placeholder:"Enter SOL amount",className:"flex-grow px-4 py-2 rounded-lg border border-gray-700 bg-gray-900 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:"/raid_token_close.png",alt:"RAID",className:"w-10 h-10"}),a.jsx("input",{type:"text",value:g,readOnly:!0,className:"flex-grow px-4 py-2 rounded-lg border border-gray-700 bg-gray-900 text-white"})]}),a.jsxs("p",{className:"text-center text-sm text-gray-400",children:["1 SOL = ",b(U)," RAID"]})]}),a.jsx("button",{onClick:ne,disabled:h,className:`mt-4 w-full py-2 px-4 rounded-lg font-semibold text-white transition ${h?"bg-gray-500 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-600"}`,children:h?"Processing...":"Swap SOL for RAID"})]}),a.jsx("br",{}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-indigo-400 mb-4",children:"RAID Tokenomics"}),a.jsx("div",{className:"flex justify-center relative",children:a.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",className:"animate-fade-in",children:[a.jsx(Be,{data:k,lineWidth:30,radius:30,animate:!0,segmentsStyle:{cursor:"pointer",transition:"stroke 0.3s ease-out"}}),a.jsx("text",{x:"250",y:"250",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"24px",fontWeight:"bold",fill:"#fff"},children:"1 Billion Tokens"}),a.jsx("style",{children:`
                .animate-fade-in {
                  animation: fadeIn 5s ease-in-out;
                }

                @keyframes fadeIn {
                  from {
                    opacity: 0;
                    transform: scale(0.8);
                  }
                  to {
                    opacity: 1;
                    transform: scale(1);
                  }
                }
              `}),k.map((i,f)=>{const p=(k.slice(0,f).reduce((T,se)=>T+se.value,0)+i.value/2)*(360/100)+90,c=(p-90)*Math.PI/180,v=250+120*Math.cos(c),I=250+120*Math.sin(c),A=250+160*Math.cos(c),O=250+160*Math.sin(c),E=250+190*Math.cos(c),C=250+190*Math.sin(c);return a.jsxs("g",{children:[a.jsx("line",{x1:v,y1:I,x2:A,y2:O,stroke:i.color,strokeWidth:"1"}),a.jsxs("text",{x:E,y:C,transform:`rotate(${p}, ${E}, ${C})`,textAnchor:E>250?"start":"end",dominantBaseline:"middle",style:{fontSize:"12px",fontWeight:"bold",fill:"#fff"},children:[i.title,": ",i.value,"%"]})]},i.title)})]})})]}),a.jsxs("div",{className:"text-center text-gray-300 mb-8",children:[a.jsx("h3",{className:"text-xl font-bold text-indigo-300 mb-4",children:"Additional Information"}),a.jsx("p",{className:"mb-4",children:"The RAID Token Presale is your opportunity to join the decentralized GPU revolution. Hereâ€™s how the tokens are distributed and the key presale details:"}),a.jsxs("ul",{className:"list-disc list-inside text-left mx-auto max-w-md",children:[a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"I.C.O Price will periodically increase until release."})," "]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Total Token Supply:"})," 1 Billion RAID"]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Presale Allocation:"})," 10% (100 Million RAID)"]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Presale Price:"})," 1 SOL = 250,000 RAID"]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Liquidity Allocation:"})," 40% of total tokens"]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Staking Allocation:"})," 25% reserved for staking rewards"]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:"Presale End Date:"}),"  1/25/25"]})]}),a.jsx("p",{className:"mt-4",children:"Join the community today and secure your place in the future of GPU-driven decentralization."})]})]})]})}export{Ue as default};
