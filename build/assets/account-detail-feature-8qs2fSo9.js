import{j as _}from"./tanstack-5zV8nv3g.js";import{P as Q,b as xt,t as $n,B as Ue,d as qn,u as X,e as Oe,f as Pe,g as rt,h as et,r as jn,i as Ut,n as Qe,K as Jr,L as Ur,j as Xe,k as st,l as Je,m as Tt,o as vr,C as Fn,T as br}from"./solanaWeb3-DJ-PYoxv.js";import{c as Un,a as sn,r as B,t as Z}from"./jotai-DjeRa5Ps.js";import{p as wi}from"./index-BAMY2Nnw.js";import{E as zn}from"./solanaWalletAdapters-Dk4vdYg7.js";import"./react-CxEt3Z_u.js";const qe=new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Et=new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Q("So11111111111111111111111111111111111111112");new Q("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Yr=e=>{const r=e.decode.bind(e),n=e.encode.bind(e);return{decode:r,encode:n}},Vn=e=>r=>{const n=xt(e,r),{encode:s,decode:u}=Yr(n),o=n;return o.decode=(m,g)=>{const w=u(m,g);return $n(Ue.from(w))},o.encode=(m,g,w)=>{const v=qn(m,e);return s(v,g,w)},o},vt=Vn(8),an=e=>{const r=X(e),{encode:n,decode:s}=Yr(r),u=r;return u.decode=(o,m)=>!!s(o,m),u.encode=(o,m,g)=>{const w=Number(o);return n(w,m,g)},u},Be=e=>{const r=xt(32,e),{encode:n,decode:s}=Yr(r),u=r;return u.decode=(o,m)=>{const g=s(o,m);return new Q(g)},u.encode=(o,m,g)=>{const w=o.toBuffer();return n(w,m,g)},u};class _t extends Error{constructor(r){super(r)}}class Hn extends _t{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class Kn extends _t{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class Zn extends _t{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class Si extends _t{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class on extends _t{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var $t;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension",e[e.GroupPointerExtension=40]="GroupPointerExtension",e[e.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})($t||($t={}));function ln(e,r,n){if(n.length){e.push({pubkey:r,isSigner:!1,isWritable:!1});for(const s of n)e.push({pubkey:s instanceof Q?s:s.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:r,isSigner:!0,isWritable:!1});return e}const Mi=Oe([X("instruction"),vt("amount")]);function Gn(e,r,n,s,u=[],o=qe){const m=ln([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}],n,u),g=Ue.alloc(Mi.span);return Mi.encode({instruction:$t.Approve,amount:BigInt(s)},g),new Pe({keys:m,programId:o,data:g})}var zr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(zr||(zr={}));const Jn=1,Yn=Oe([X("m"),X("n"),an("isInitialized"),Be("signer1"),Be("signer2"),Be("signer3"),Be("signer4"),Be("signer5"),Be("signer6"),Be("signer7"),Be("signer8"),Be("signer9"),Be("signer10"),Be("signer11")]),Xn=Yn.span;var qt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(qt||(qt={}));const un=Oe([Be("mint"),Be("owner"),vt("amount"),rt("delegateOption"),Be("delegate"),X("state"),rt("isNativeOption"),vt("isNative"),vt("delegatedAmount"),rt("closeAuthorityOption"),Be("closeAuthority")]),St=un.span;async function Qn(e,r,n,s=qe){const u=await e.getAccountInfo(r,n);return es(r,u,s)}function es(e,r,n=qe){if(!r)throw new Hn;if(!r.owner.equals(n))throw new Zn;if(r.data.length<St)throw new Si;const s=un.decode(r.data.slice(0,St));let u=Ue.alloc(0);if(r.data.length>St){if(r.data.length===Xn)throw new Si;if(r.data[St]!=zr.Account)throw new Kn;u=r.data.slice(St+Jn)}return{address:e,mint:s.mint,owner:s.owner,amount:s.amount,delegate:s.delegateOption?s.delegate:null,delegatedAmount:s.delegatedAmount,isInitialized:s.state!==qt.Uninitialized,isFrozen:s.state===qt.Frozen,isNative:!!s.isNativeOption,rentExemptReserve:s.isNativeOption?s.isNative:null,closeAuthority:s.closeAuthorityOption?s.closeAuthority:null,tlvData:u}}const ts=Oe([rt("mintAuthorityOption"),Be("mintAuthority"),vt("supply"),X("decimals"),an("isInitialized"),rt("freezeAuthorityOption"),Be("freezeAuthority")]);ts.span;async function rs(e,r,n=!1,s=qe,u=Et){if(!n&&!Q.isOnCurve(r.toBuffer()))throw new on;const[o]=await Q.findProgramAddress([r.toBuffer(),s.toBuffer(),e.toBuffer()],u);return o}function fn(e,r,n=!1,s=qe,u=Et){if(!n&&!Q.isOnCurve(r.toBuffer()))throw new on;const[o]=Q.findProgramAddressSync([r.toBuffer(),s.toBuffer(),e.toBuffer()],u);return o}function is(e,r,n,s,u=qe,o=Et){return hn(e,r,n,s,Ue.alloc(0),u,o)}function ns(e,r,n,s,u=qe,o=Et){return hn(e,r,n,s,Ue.from([1]),u,o)}function hn(e,r,n,s,u,o=qe,m=Et){const g=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Pe({keys:g,programId:m,data:u})}const xi=Oe([X("instruction"),vt("amount")]);function ss(e,r,n,s,u=[],o=qe){const m=ln([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,u),g=Ue.alloc(xi.span);return xi.encode({instruction:$t.MintTo,amount:BigInt(s)},g),new Pe({keys:m,programId:o,data:g})}class it{constructor(r,n){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=n}makeDestinationObject(){return{}}decode(r,n){throw new Error("Layout is abstract")}encode(r,n,s){throw new Error("Layout is abstract")}getSpan(r,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=r,n}fromArray(r){}}var zt=it;function as(e,r){return r.property?e+"["+r.property+"]":e}class tt extends it{isCount(){throw new Error("ExternalLayout is abstract")}}class os extends tt{constructor(r,n,s){if(!(r instanceof it))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(r.span,s||r.property),this.layout=r,this.offset=n}isCount(){return this.layout instanceof Xr||this.layout instanceof ls}decode(r,n){return n===void 0&&(n=0),this.layout.decode(r,n+this.offset)}encode(r,n,s){return s===void 0&&(s=0),this.layout.encode(r,n,s+this.offset)}}class Xr extends it{constructor(r,n){if(super(r,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,n){return n===void 0&&(n=0),r.readUIntLE(n,this.span)}encode(r,n,s){return s===void 0&&(s=0),n.writeUIntLE(r,s,this.span),this.span}}class ls extends it{constructor(r,n){if(super(r,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,n){return n===void 0&&(n=0),r.readUIntBE(n,this.span)}encode(r,n,s){return s===void 0&&(s=0),n.writeUIntBE(r,s,this.span),this.span}}class us extends it{constructor(r,n,s){if(!(r instanceof it))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof tt&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let u=-1;!(n instanceof tt)&&0<r.span&&(u=n*r.span),super(u,s),this.elementLayout=r,this.count=n}getSpan(r,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let s=0,u=this.count;if(u instanceof tt&&(u=u.decode(r,n)),0<this.elementLayout.span)s=u*this.elementLayout.span;else{let o=0;for(;o<u;)s+=this.elementLayout.getSpan(r,n+s),++o}return s}decode(r,n){n===void 0&&(n=0);const s=[];let u=0,o=this.count;for(o instanceof tt&&(o=o.decode(r,n));u<o;)s.push(this.elementLayout.decode(r,n)),n+=this.elementLayout.getSpan(r,n),u+=1;return s}encode(r,n,s){s===void 0&&(s=0);const u=this.elementLayout,o=r.reduce((m,g)=>m+u.encode(g,n,s+m),0);return this.count instanceof tt&&this.count.encode(r.length,n,s),o}}class fs extends it{constructor(r,n,s){if(!(Array.isArray(r)&&r.reduce((o,m)=>o&&m instanceof it,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&s===void 0&&(s=n,n=void 0);for(const o of r)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let u=-1;try{u=r.reduce((o,m)=>o+m.getSpan(),0)}catch{}super(u,n),this.fields=r,this.decodePrefixes=!!s}getSpan(r,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let s=0;try{s=this.fields.reduce((u,o)=>{const m=o.getSpan(r,n);return n+=m,u+m},0)}catch{throw new RangeError("indeterminate span")}return s}decode(r,n){n===void 0&&(n=0);const s=this.makeDestinationObject();for(const u of this.fields)if(u.property!==void 0&&(s[u.property]=u.decode(r,n)),n+=u.getSpan(r,n),this.decodePrefixes&&r.length===n)break;return s}encode(r,n,s){s===void 0&&(s=0);const u=s;let o=0,m=0;for(const g of this.fields){let w=g.span;if(m=0<w?w:0,g.property!==void 0){const v=r[g.property];v!==void 0&&(m=g.encode(v,n,s),0>w&&(w=g.getSpan(n,s)))}o=s,s+=w}return o+m-u}fromArray(r){const n=this.makeDestinationObject();for(const s of this.fields)s.property!==void 0&&0<r.length&&(n[s.property]=r.shift());return n}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===r)return n}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let n=0;for(const s of this.fields){if(s.property===r)return n;0>s.span?n=-1:0<=n&&(n+=s.span)}}}class hs extends it{constructor(r,n){if(!(r instanceof tt&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let s=-1;r instanceof tt||(s=r),super(s,n),this.length=r}getSpan(r,n){let s=this.span;return 0>s&&(s=this.length.decode(r,n)),s}decode(r,n){n===void 0&&(n=0);let s=this.span;return 0>s&&(s=this.length.decode(r,n)),r.slice(n,n+s)}encode(r,n,s){let u=this.length;if(this.length instanceof tt&&(u=r.length),!(Ue.isBuffer(r)&&u===r.length))throw new TypeError(as("Blob.encode",this)+" requires (length "+u+") Buffer as src");if(s+u>n.length)throw new RangeError("encoding overruns Buffer");return n.write(r.toString("hex"),s,u,"hex"),this.length instanceof tt&&this.length.encode(u,n,s),u}}var cs=(e,r,n)=>new os(e,r,n),lt=e=>new Xr(1,e),cn=e=>new Xr(4,e),Ze=(e,r,n)=>new fs(e,r,n),ds=(e,r,n)=>new us(e,r,n),dn=(e,r)=>new hs(e,r),Qr={exports:{}};Qr.exports;(function(e){(function(r,n){function s(p,t){if(!p)throw new Error(t||"Assertion failed")}function u(p,t){p.super_=t;var a=function(){};a.prototype=t.prototype,p.prototype=new a,p.prototype.constructor=p}function o(p,t,a){if(o.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((t==="le"||t==="be")&&(a=t,t=10),this._init(p||0,t||10,a||"be"))}typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var m;try{typeof window<"u"&&typeof window.Buffer<"u"?m=window.Buffer:m=jn.Buffer}catch{}o.isBN=function(t){return t instanceof o?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,a){return t.cmp(a)>0?t:a},o.min=function(t,a){return t.cmp(a)<0?t:a},o.prototype._init=function(t,a,l){if(typeof t=="number")return this._initNumber(t,a,l);if(typeof t=="object")return this._initArray(t,a,l);a==="hex"&&(a=16),s(a===(a|0)&&a>=2&&a<=36),t=t.toString().replace(/\s+/g,"");var f=0;t[0]==="-"&&(f++,this.negative=1),f<t.length&&(a===16?this._parseHex(t,f,l):(this._parseBase(t,a,f),l==="le"&&this._initArray(this.toArray(),a,l)))},o.prototype._initNumber=function(t,a,l){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(s(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),a,l)},o.prototype._initArray=function(t,a,l){if(s(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d,y,b=0;if(l==="be")for(f=t.length-1,d=0;f>=0;f-=3)y=t[f]|t[f-1]<<8|t[f-2]<<16,this.words[d]|=y<<b&67108863,this.words[d+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);else if(l==="le")for(f=0,d=0;f<t.length;f+=3)y=t[f]|t[f+1]<<8|t[f+2]<<16,this.words[d]|=y<<b&67108863,this.words[d+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);return this._strip()};function g(p,t){var a=p.charCodeAt(t);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;s(!1,"Invalid character in "+p)}function w(p,t,a){var l=g(p,a);return a-1>=t&&(l|=g(p,a-1)<<4),l}o.prototype._parseHex=function(t,a,l){this.length=Math.ceil((t.length-a)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d=0,y=0,b;if(l==="be")for(f=t.length-1;f>=a;f-=2)b=w(t,a,f)<<d,this.words[y]|=b&67108863,d>=18?(d-=18,y+=1,this.words[y]|=b>>>26):d+=8;else{var h=t.length-a;for(f=h%2===0?a+1:a;f<t.length;f+=2)b=w(t,a,f)<<d,this.words[y]|=b&67108863,d>=18?(d-=18,y+=1,this.words[y]|=b>>>26):d+=8}this._strip()};function v(p,t,a,l){for(var f=0,d=0,y=Math.min(p.length,a),b=t;b<y;b++){var h=p.charCodeAt(b)-48;f*=l,h>=49?d=h-49+10:h>=17?d=h-17+10:d=h,s(h>=0&&d<l,"Invalid character"),f+=d}return f}o.prototype._parseBase=function(t,a,l){this.words=[0],this.length=1;for(var f=0,d=1;d<=67108863;d*=a)f++;f--,d=d/a|0;for(var y=t.length-l,b=y%f,h=Math.min(y,y-b)+l,i=0,c=l;c<h;c+=f)i=v(t,c,c+f,a),this.imuln(d),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(b!==0){var P=1;for(i=v(t,c,t.length,a),c=0;c<b;c++)P*=a;this.imuln(P),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var a=0;a<this.length;a++)t.words[a]=this.words[a];t.length=this.length,t.negative=this.negative,t.red=this.red};function M(p,t){p.words=t.words,p.length=t.length,p.negative=t.negative,p.red=t.red}if(o.prototype._move=function(t){M(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{o.prototype.inspect=S}else o.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,a){t=t||10,a=a|0||1;var l;if(t===16||t==="hex"){l="";for(var f=0,d=0,y=0;y<this.length;y++){var b=this.words[y],h=((b<<f|d)&16777215).toString(16);d=b>>>24-f&16777215,f+=2,f>=26&&(f-=26,y--),d!==0||y!==this.length-1?l=L[6-h.length]+h+l:l=h+l}for(d!==0&&(l=d.toString(16)+l);l.length%a!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(t===(t|0)&&t>=2&&t<=36){var i=k[t],c=N[t];l="";var P=this.clone();for(P.negative=0;!P.isZero();){var x=P.modrn(c).toString(t);P=P.idivn(c),P.isZero()?l=x+l:l=L[i-x.length]+x+l}for(this.isZero()&&(l="0"+l);l.length%a!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},m&&(o.prototype.toBuffer=function(t,a){return this.toArrayLike(m,t,a)}),o.prototype.toArray=function(t,a){return this.toArrayLike(Array,t,a)};var C=function(t,a){return t.allocUnsafe?t.allocUnsafe(a):new t(a)};o.prototype.toArrayLike=function(t,a,l){this._strip();var f=this.byteLength(),d=l||Math.max(1,f);s(f<=d,"byte array longer than desired length"),s(d>0,"Requested array length <= 0");var y=C(t,d),b=a==="le"?"LE":"BE";return this["_toArrayLike"+b](y,f),y},o.prototype._toArrayLikeLE=function(t,a){for(var l=0,f=0,d=0,y=0;d<this.length;d++){var b=this.words[d]<<y|f;t[l++]=b&255,l<t.length&&(t[l++]=b>>8&255),l<t.length&&(t[l++]=b>>16&255),y===6?(l<t.length&&(t[l++]=b>>24&255),f=0,y=0):(f=b>>>24,y+=2)}if(l<t.length)for(t[l++]=f;l<t.length;)t[l++]=0},o.prototype._toArrayLikeBE=function(t,a){for(var l=t.length-1,f=0,d=0,y=0;d<this.length;d++){var b=this.words[d]<<y|f;t[l--]=b&255,l>=0&&(t[l--]=b>>8&255),l>=0&&(t[l--]=b>>16&255),y===6?(l>=0&&(t[l--]=b>>24&255),f=0,y=0):(f=b>>>24,y+=2)}if(l>=0)for(t[l--]=f;l>=0;)t[l--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var a=t,l=0;return a>=4096&&(l+=13,a>>>=13),a>=64&&(l+=7,a>>>=7),a>=8&&(l+=4,a>>>=4),a>=2&&(l+=2,a>>>=2),l+a},o.prototype._zeroBits=function(t){if(t===0)return 26;var a=t,l=0;return a&8191||(l+=13,a>>>=13),a&127||(l+=7,a>>>=7),a&15||(l+=4,a>>>=4),a&3||(l+=2,a>>>=2),a&1||l++,l},o.prototype.bitLength=function(){var t=this.words[this.length-1],a=this._countBits(t);return(this.length-1)*26+a};function T(p){for(var t=new Array(p.bitLength()),a=0;a<t.length;a++){var l=a/26|0,f=a%26;t[a]=p.words[l]>>>f&1}return t}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,a=0;a<this.length;a++){var l=this._zeroBits(this.words[a]);if(t+=l,l!==26)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var a=0;a<t.length;a++)this.words[a]=this.words[a]|t.words[a];return this._strip()},o.prototype.ior=function(t){return s((this.negative|t.negative)===0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var a;this.length>t.length?a=t:a=this;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]&t.words[l];return this.length=a.length,this._strip()},o.prototype.iand=function(t){return s((this.negative|t.negative)===0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var a,l;this.length>t.length?(a=this,l=t):(a=t,l=this);for(var f=0;f<l.length;f++)this.words[f]=a.words[f]^l.words[f];if(this!==a)for(;f<a.length;f++)this.words[f]=a.words[f];return this.length=a.length,this._strip()},o.prototype.ixor=function(t){return s((this.negative|t.negative)===0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){s(typeof t=="number"&&t>=0);var a=Math.ceil(t/26)|0,l=t%26;this._expand(a),l>0&&a--;for(var f=0;f<a;f++)this.words[f]=~this.words[f]&67108863;return l>0&&(this.words[f]=~this.words[f]&67108863>>26-l),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,a){s(typeof t=="number"&&t>=0);var l=t/26|0,f=t%26;return this._expand(l+1),a?this.words[l]=this.words[l]|1<<f:this.words[l]=this.words[l]&~(1<<f),this._strip()},o.prototype.iadd=function(t){var a;if(this.negative!==0&&t.negative===0)return this.negative=0,a=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,a=this.isub(t),t.negative=1,a._normSign();var l,f;this.length>t.length?(l=this,f=t):(l=t,f=this);for(var d=0,y=0;y<f.length;y++)a=(l.words[y]|0)+(f.words[y]|0)+d,this.words[y]=a&67108863,d=a>>>26;for(;d!==0&&y<l.length;y++)a=(l.words[y]|0)+d,this.words[y]=a&67108863,d=a>>>26;if(this.length=l.length,d!==0)this.words[this.length]=d,this.length++;else if(l!==this)for(;y<l.length;y++)this.words[y]=l.words[y];return this},o.prototype.add=function(t){var a;return t.negative!==0&&this.negative===0?(t.negative=0,a=this.sub(t),t.negative^=1,a):t.negative===0&&this.negative!==0?(this.negative=0,a=t.sub(this),this.negative=1,a):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var a=this.iadd(t);return t.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var l=this.cmp(t);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,d;l>0?(f=this,d=t):(f=t,d=this);for(var y=0,b=0;b<d.length;b++)a=(f.words[b]|0)-(d.words[b]|0)+y,y=a>>26,this.words[b]=a&67108863;for(;y!==0&&b<f.length;b++)a=(f.words[b]|0)+y,y=a>>26,this.words[b]=a&67108863;if(y===0&&b<f.length&&f!==this)for(;b<f.length;b++)this.words[b]=f.words[b];return this.length=Math.max(this.length,b),f!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};function W(p,t,a){a.negative=t.negative^p.negative;var l=p.length+t.length|0;a.length=l,l=l-1|0;var f=p.words[0]|0,d=t.words[0]|0,y=f*d,b=y&67108863,h=y/67108864|0;a.words[0]=b;for(var i=1;i<l;i++){for(var c=h>>>26,P=h&67108863,x=Math.min(i,t.length-1),A=Math.max(0,i-p.length+1);A<=x;A++){var O=i-A|0;f=p.words[O]|0,d=t.words[A]|0,y=f*d+P,c+=y/67108864|0,P=y&67108863}a.words[i]=P|0,h=c|0}return h!==0?a.words[i]=h|0:a.length--,a._strip()}var F=function(t,a,l){var f=t.words,d=a.words,y=l.words,b=0,h,i,c,P=f[0]|0,x=P&8191,A=P>>>13,O=f[1]|0,R=O&8191,$=O>>>13,Ge=f[2]|0,U=Ge&8191,V=Ge>>>13,Xt=f[3]|0,J=Xt&8191,Y=Xt>>>13,wt=f[4]|0,re=wt&8191,ie=wt>>>13,si=f[5]|0,ne=si&8191,se=si>>>13,ai=f[6]|0,ae=ai&8191,oe=ai>>>13,oi=f[7]|0,le=oi&8191,ue=oi>>>13,li=f[8]|0,fe=li&8191,he=li>>>13,ui=f[9]|0,ce=ui&8191,de=ui>>>13,fi=d[0]|0,pe=fi&8191,me=fi>>>13,hi=d[1]|0,ge=hi&8191,ye=hi>>>13,ci=d[2]|0,ve=ci&8191,be=ci>>>13,di=d[3]|0,we=di&8191,Se=di>>>13,pi=d[4]|0,Me=pi&8191,xe=pi>>>13,mi=d[5]|0,ke=mi&8191,Ae=mi>>>13,gi=d[6]|0,Ee=gi&8191,_e=gi>>>13,yi=d[7]|0,Le=yi&8191,Ne=yi>>>13,vi=d[8]|0,Te=vi&8191,We=vi>>>13,bi=d[9]|0,Re=bi&8191,Ce=bi>>>13;l.negative=t.negative^a.negative,l.length=19,h=Math.imul(x,pe),i=Math.imul(x,me),i=i+Math.imul(A,pe)|0,c=Math.imul(A,me);var Qt=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,h=Math.imul(R,pe),i=Math.imul(R,me),i=i+Math.imul($,pe)|0,c=Math.imul($,me),h=h+Math.imul(x,ge)|0,i=i+Math.imul(x,ye)|0,i=i+Math.imul(A,ge)|0,c=c+Math.imul(A,ye)|0;var er=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(er>>>26)|0,er&=67108863,h=Math.imul(U,pe),i=Math.imul(U,me),i=i+Math.imul(V,pe)|0,c=Math.imul(V,me),h=h+Math.imul(R,ge)|0,i=i+Math.imul(R,ye)|0,i=i+Math.imul($,ge)|0,c=c+Math.imul($,ye)|0,h=h+Math.imul(x,ve)|0,i=i+Math.imul(x,be)|0,i=i+Math.imul(A,ve)|0,c=c+Math.imul(A,be)|0;var tr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(tr>>>26)|0,tr&=67108863,h=Math.imul(J,pe),i=Math.imul(J,me),i=i+Math.imul(Y,pe)|0,c=Math.imul(Y,me),h=h+Math.imul(U,ge)|0,i=i+Math.imul(U,ye)|0,i=i+Math.imul(V,ge)|0,c=c+Math.imul(V,ye)|0,h=h+Math.imul(R,ve)|0,i=i+Math.imul(R,be)|0,i=i+Math.imul($,ve)|0,c=c+Math.imul($,be)|0,h=h+Math.imul(x,we)|0,i=i+Math.imul(x,Se)|0,i=i+Math.imul(A,we)|0,c=c+Math.imul(A,Se)|0;var rr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(rr>>>26)|0,rr&=67108863,h=Math.imul(re,pe),i=Math.imul(re,me),i=i+Math.imul(ie,pe)|0,c=Math.imul(ie,me),h=h+Math.imul(J,ge)|0,i=i+Math.imul(J,ye)|0,i=i+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ye)|0,h=h+Math.imul(U,ve)|0,i=i+Math.imul(U,be)|0,i=i+Math.imul(V,ve)|0,c=c+Math.imul(V,be)|0,h=h+Math.imul(R,we)|0,i=i+Math.imul(R,Se)|0,i=i+Math.imul($,we)|0,c=c+Math.imul($,Se)|0,h=h+Math.imul(x,Me)|0,i=i+Math.imul(x,xe)|0,i=i+Math.imul(A,Me)|0,c=c+Math.imul(A,xe)|0;var ir=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(ir>>>26)|0,ir&=67108863,h=Math.imul(ne,pe),i=Math.imul(ne,me),i=i+Math.imul(se,pe)|0,c=Math.imul(se,me),h=h+Math.imul(re,ge)|0,i=i+Math.imul(re,ye)|0,i=i+Math.imul(ie,ge)|0,c=c+Math.imul(ie,ye)|0,h=h+Math.imul(J,ve)|0,i=i+Math.imul(J,be)|0,i=i+Math.imul(Y,ve)|0,c=c+Math.imul(Y,be)|0,h=h+Math.imul(U,we)|0,i=i+Math.imul(U,Se)|0,i=i+Math.imul(V,we)|0,c=c+Math.imul(V,Se)|0,h=h+Math.imul(R,Me)|0,i=i+Math.imul(R,xe)|0,i=i+Math.imul($,Me)|0,c=c+Math.imul($,xe)|0,h=h+Math.imul(x,ke)|0,i=i+Math.imul(x,Ae)|0,i=i+Math.imul(A,ke)|0,c=c+Math.imul(A,Ae)|0;var nr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(nr>>>26)|0,nr&=67108863,h=Math.imul(ae,pe),i=Math.imul(ae,me),i=i+Math.imul(oe,pe)|0,c=Math.imul(oe,me),h=h+Math.imul(ne,ge)|0,i=i+Math.imul(ne,ye)|0,i=i+Math.imul(se,ge)|0,c=c+Math.imul(se,ye)|0,h=h+Math.imul(re,ve)|0,i=i+Math.imul(re,be)|0,i=i+Math.imul(ie,ve)|0,c=c+Math.imul(ie,be)|0,h=h+Math.imul(J,we)|0,i=i+Math.imul(J,Se)|0,i=i+Math.imul(Y,we)|0,c=c+Math.imul(Y,Se)|0,h=h+Math.imul(U,Me)|0,i=i+Math.imul(U,xe)|0,i=i+Math.imul(V,Me)|0,c=c+Math.imul(V,xe)|0,h=h+Math.imul(R,ke)|0,i=i+Math.imul(R,Ae)|0,i=i+Math.imul($,ke)|0,c=c+Math.imul($,Ae)|0,h=h+Math.imul(x,Ee)|0,i=i+Math.imul(x,_e)|0,i=i+Math.imul(A,Ee)|0,c=c+Math.imul(A,_e)|0;var sr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(sr>>>26)|0,sr&=67108863,h=Math.imul(le,pe),i=Math.imul(le,me),i=i+Math.imul(ue,pe)|0,c=Math.imul(ue,me),h=h+Math.imul(ae,ge)|0,i=i+Math.imul(ae,ye)|0,i=i+Math.imul(oe,ge)|0,c=c+Math.imul(oe,ye)|0,h=h+Math.imul(ne,ve)|0,i=i+Math.imul(ne,be)|0,i=i+Math.imul(se,ve)|0,c=c+Math.imul(se,be)|0,h=h+Math.imul(re,we)|0,i=i+Math.imul(re,Se)|0,i=i+Math.imul(ie,we)|0,c=c+Math.imul(ie,Se)|0,h=h+Math.imul(J,Me)|0,i=i+Math.imul(J,xe)|0,i=i+Math.imul(Y,Me)|0,c=c+Math.imul(Y,xe)|0,h=h+Math.imul(U,ke)|0,i=i+Math.imul(U,Ae)|0,i=i+Math.imul(V,ke)|0,c=c+Math.imul(V,Ae)|0,h=h+Math.imul(R,Ee)|0,i=i+Math.imul(R,_e)|0,i=i+Math.imul($,Ee)|0,c=c+Math.imul($,_e)|0,h=h+Math.imul(x,Le)|0,i=i+Math.imul(x,Ne)|0,i=i+Math.imul(A,Le)|0,c=c+Math.imul(A,Ne)|0;var ar=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(ar>>>26)|0,ar&=67108863,h=Math.imul(fe,pe),i=Math.imul(fe,me),i=i+Math.imul(he,pe)|0,c=Math.imul(he,me),h=h+Math.imul(le,ge)|0,i=i+Math.imul(le,ye)|0,i=i+Math.imul(ue,ge)|0,c=c+Math.imul(ue,ye)|0,h=h+Math.imul(ae,ve)|0,i=i+Math.imul(ae,be)|0,i=i+Math.imul(oe,ve)|0,c=c+Math.imul(oe,be)|0,h=h+Math.imul(ne,we)|0,i=i+Math.imul(ne,Se)|0,i=i+Math.imul(se,we)|0,c=c+Math.imul(se,Se)|0,h=h+Math.imul(re,Me)|0,i=i+Math.imul(re,xe)|0,i=i+Math.imul(ie,Me)|0,c=c+Math.imul(ie,xe)|0,h=h+Math.imul(J,ke)|0,i=i+Math.imul(J,Ae)|0,i=i+Math.imul(Y,ke)|0,c=c+Math.imul(Y,Ae)|0,h=h+Math.imul(U,Ee)|0,i=i+Math.imul(U,_e)|0,i=i+Math.imul(V,Ee)|0,c=c+Math.imul(V,_e)|0,h=h+Math.imul(R,Le)|0,i=i+Math.imul(R,Ne)|0,i=i+Math.imul($,Le)|0,c=c+Math.imul($,Ne)|0,h=h+Math.imul(x,Te)|0,i=i+Math.imul(x,We)|0,i=i+Math.imul(A,Te)|0,c=c+Math.imul(A,We)|0;var or=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(or>>>26)|0,or&=67108863,h=Math.imul(ce,pe),i=Math.imul(ce,me),i=i+Math.imul(de,pe)|0,c=Math.imul(de,me),h=h+Math.imul(fe,ge)|0,i=i+Math.imul(fe,ye)|0,i=i+Math.imul(he,ge)|0,c=c+Math.imul(he,ye)|0,h=h+Math.imul(le,ve)|0,i=i+Math.imul(le,be)|0,i=i+Math.imul(ue,ve)|0,c=c+Math.imul(ue,be)|0,h=h+Math.imul(ae,we)|0,i=i+Math.imul(ae,Se)|0,i=i+Math.imul(oe,we)|0,c=c+Math.imul(oe,Se)|0,h=h+Math.imul(ne,Me)|0,i=i+Math.imul(ne,xe)|0,i=i+Math.imul(se,Me)|0,c=c+Math.imul(se,xe)|0,h=h+Math.imul(re,ke)|0,i=i+Math.imul(re,Ae)|0,i=i+Math.imul(ie,ke)|0,c=c+Math.imul(ie,Ae)|0,h=h+Math.imul(J,Ee)|0,i=i+Math.imul(J,_e)|0,i=i+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,_e)|0,h=h+Math.imul(U,Le)|0,i=i+Math.imul(U,Ne)|0,i=i+Math.imul(V,Le)|0,c=c+Math.imul(V,Ne)|0,h=h+Math.imul(R,Te)|0,i=i+Math.imul(R,We)|0,i=i+Math.imul($,Te)|0,c=c+Math.imul($,We)|0,h=h+Math.imul(x,Re)|0,i=i+Math.imul(x,Ce)|0,i=i+Math.imul(A,Re)|0,c=c+Math.imul(A,Ce)|0;var lr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(lr>>>26)|0,lr&=67108863,h=Math.imul(ce,ge),i=Math.imul(ce,ye),i=i+Math.imul(de,ge)|0,c=Math.imul(de,ye),h=h+Math.imul(fe,ve)|0,i=i+Math.imul(fe,be)|0,i=i+Math.imul(he,ve)|0,c=c+Math.imul(he,be)|0,h=h+Math.imul(le,we)|0,i=i+Math.imul(le,Se)|0,i=i+Math.imul(ue,we)|0,c=c+Math.imul(ue,Se)|0,h=h+Math.imul(ae,Me)|0,i=i+Math.imul(ae,xe)|0,i=i+Math.imul(oe,Me)|0,c=c+Math.imul(oe,xe)|0,h=h+Math.imul(ne,ke)|0,i=i+Math.imul(ne,Ae)|0,i=i+Math.imul(se,ke)|0,c=c+Math.imul(se,Ae)|0,h=h+Math.imul(re,Ee)|0,i=i+Math.imul(re,_e)|0,i=i+Math.imul(ie,Ee)|0,c=c+Math.imul(ie,_e)|0,h=h+Math.imul(J,Le)|0,i=i+Math.imul(J,Ne)|0,i=i+Math.imul(Y,Le)|0,c=c+Math.imul(Y,Ne)|0,h=h+Math.imul(U,Te)|0,i=i+Math.imul(U,We)|0,i=i+Math.imul(V,Te)|0,c=c+Math.imul(V,We)|0,h=h+Math.imul(R,Re)|0,i=i+Math.imul(R,Ce)|0,i=i+Math.imul($,Re)|0,c=c+Math.imul($,Ce)|0;var ur=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(ur>>>26)|0,ur&=67108863,h=Math.imul(ce,ve),i=Math.imul(ce,be),i=i+Math.imul(de,ve)|0,c=Math.imul(de,be),h=h+Math.imul(fe,we)|0,i=i+Math.imul(fe,Se)|0,i=i+Math.imul(he,we)|0,c=c+Math.imul(he,Se)|0,h=h+Math.imul(le,Me)|0,i=i+Math.imul(le,xe)|0,i=i+Math.imul(ue,Me)|0,c=c+Math.imul(ue,xe)|0,h=h+Math.imul(ae,ke)|0,i=i+Math.imul(ae,Ae)|0,i=i+Math.imul(oe,ke)|0,c=c+Math.imul(oe,Ae)|0,h=h+Math.imul(ne,Ee)|0,i=i+Math.imul(ne,_e)|0,i=i+Math.imul(se,Ee)|0,c=c+Math.imul(se,_e)|0,h=h+Math.imul(re,Le)|0,i=i+Math.imul(re,Ne)|0,i=i+Math.imul(ie,Le)|0,c=c+Math.imul(ie,Ne)|0,h=h+Math.imul(J,Te)|0,i=i+Math.imul(J,We)|0,i=i+Math.imul(Y,Te)|0,c=c+Math.imul(Y,We)|0,h=h+Math.imul(U,Re)|0,i=i+Math.imul(U,Ce)|0,i=i+Math.imul(V,Re)|0,c=c+Math.imul(V,Ce)|0;var fr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(fr>>>26)|0,fr&=67108863,h=Math.imul(ce,we),i=Math.imul(ce,Se),i=i+Math.imul(de,we)|0,c=Math.imul(de,Se),h=h+Math.imul(fe,Me)|0,i=i+Math.imul(fe,xe)|0,i=i+Math.imul(he,Me)|0,c=c+Math.imul(he,xe)|0,h=h+Math.imul(le,ke)|0,i=i+Math.imul(le,Ae)|0,i=i+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ae)|0,h=h+Math.imul(ae,Ee)|0,i=i+Math.imul(ae,_e)|0,i=i+Math.imul(oe,Ee)|0,c=c+Math.imul(oe,_e)|0,h=h+Math.imul(ne,Le)|0,i=i+Math.imul(ne,Ne)|0,i=i+Math.imul(se,Le)|0,c=c+Math.imul(se,Ne)|0,h=h+Math.imul(re,Te)|0,i=i+Math.imul(re,We)|0,i=i+Math.imul(ie,Te)|0,c=c+Math.imul(ie,We)|0,h=h+Math.imul(J,Re)|0,i=i+Math.imul(J,Ce)|0,i=i+Math.imul(Y,Re)|0,c=c+Math.imul(Y,Ce)|0;var hr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(hr>>>26)|0,hr&=67108863,h=Math.imul(ce,Me),i=Math.imul(ce,xe),i=i+Math.imul(de,Me)|0,c=Math.imul(de,xe),h=h+Math.imul(fe,ke)|0,i=i+Math.imul(fe,Ae)|0,i=i+Math.imul(he,ke)|0,c=c+Math.imul(he,Ae)|0,h=h+Math.imul(le,Ee)|0,i=i+Math.imul(le,_e)|0,i=i+Math.imul(ue,Ee)|0,c=c+Math.imul(ue,_e)|0,h=h+Math.imul(ae,Le)|0,i=i+Math.imul(ae,Ne)|0,i=i+Math.imul(oe,Le)|0,c=c+Math.imul(oe,Ne)|0,h=h+Math.imul(ne,Te)|0,i=i+Math.imul(ne,We)|0,i=i+Math.imul(se,Te)|0,c=c+Math.imul(se,We)|0,h=h+Math.imul(re,Re)|0,i=i+Math.imul(re,Ce)|0,i=i+Math.imul(ie,Re)|0,c=c+Math.imul(ie,Ce)|0;var cr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(cr>>>26)|0,cr&=67108863,h=Math.imul(ce,ke),i=Math.imul(ce,Ae),i=i+Math.imul(de,ke)|0,c=Math.imul(de,Ae),h=h+Math.imul(fe,Ee)|0,i=i+Math.imul(fe,_e)|0,i=i+Math.imul(he,Ee)|0,c=c+Math.imul(he,_e)|0,h=h+Math.imul(le,Le)|0,i=i+Math.imul(le,Ne)|0,i=i+Math.imul(ue,Le)|0,c=c+Math.imul(ue,Ne)|0,h=h+Math.imul(ae,Te)|0,i=i+Math.imul(ae,We)|0,i=i+Math.imul(oe,Te)|0,c=c+Math.imul(oe,We)|0,h=h+Math.imul(ne,Re)|0,i=i+Math.imul(ne,Ce)|0,i=i+Math.imul(se,Re)|0,c=c+Math.imul(se,Ce)|0;var dr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(dr>>>26)|0,dr&=67108863,h=Math.imul(ce,Ee),i=Math.imul(ce,_e),i=i+Math.imul(de,Ee)|0,c=Math.imul(de,_e),h=h+Math.imul(fe,Le)|0,i=i+Math.imul(fe,Ne)|0,i=i+Math.imul(he,Le)|0,c=c+Math.imul(he,Ne)|0,h=h+Math.imul(le,Te)|0,i=i+Math.imul(le,We)|0,i=i+Math.imul(ue,Te)|0,c=c+Math.imul(ue,We)|0,h=h+Math.imul(ae,Re)|0,i=i+Math.imul(ae,Ce)|0,i=i+Math.imul(oe,Re)|0,c=c+Math.imul(oe,Ce)|0;var pr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(pr>>>26)|0,pr&=67108863,h=Math.imul(ce,Le),i=Math.imul(ce,Ne),i=i+Math.imul(de,Le)|0,c=Math.imul(de,Ne),h=h+Math.imul(fe,Te)|0,i=i+Math.imul(fe,We)|0,i=i+Math.imul(he,Te)|0,c=c+Math.imul(he,We)|0,h=h+Math.imul(le,Re)|0,i=i+Math.imul(le,Ce)|0,i=i+Math.imul(ue,Re)|0,c=c+Math.imul(ue,Ce)|0;var mr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(mr>>>26)|0,mr&=67108863,h=Math.imul(ce,Te),i=Math.imul(ce,We),i=i+Math.imul(de,Te)|0,c=Math.imul(de,We),h=h+Math.imul(fe,Re)|0,i=i+Math.imul(fe,Ce)|0,i=i+Math.imul(he,Re)|0,c=c+Math.imul(he,Ce)|0;var gr=(b+h|0)+((i&8191)<<13)|0;b=(c+(i>>>13)|0)+(gr>>>26)|0,gr&=67108863,h=Math.imul(ce,Re),i=Math.imul(ce,Ce),i=i+Math.imul(de,Re)|0,c=Math.imul(de,Ce);var yr=(b+h|0)+((i&8191)<<13)|0;return b=(c+(i>>>13)|0)+(yr>>>26)|0,yr&=67108863,y[0]=Qt,y[1]=er,y[2]=tr,y[3]=rr,y[4]=ir,y[5]=nr,y[6]=sr,y[7]=ar,y[8]=or,y[9]=lr,y[10]=ur,y[11]=fr,y[12]=hr,y[13]=cr,y[14]=dr,y[15]=pr,y[16]=mr,y[17]=gr,y[18]=yr,b!==0&&(y[19]=b,l.length++),l};Math.imul||(F=W);function G(p,t,a){a.negative=t.negative^p.negative,a.length=p.length+t.length;for(var l=0,f=0,d=0;d<a.length-1;d++){var y=f;f=0;for(var b=l&67108863,h=Math.min(d,t.length-1),i=Math.max(0,d-p.length+1);i<=h;i++){var c=d-i,P=p.words[c]|0,x=t.words[i]|0,A=P*x,O=A&67108863;y=y+(A/67108864|0)|0,O=O+b|0,b=O&67108863,y=y+(O>>>26)|0,f+=y>>>26,y&=67108863}a.words[d]=b,l=y,y=f}return l!==0?a.words[d]=l:a.length--,a._strip()}function E(p,t,a){return G(p,t,a)}o.prototype.mulTo=function(t,a){var l,f=this.length+t.length;return this.length===10&&t.length===10?l=F(this,t,a):f<63?l=W(this,t,a):f<1024?l=G(this,t,a):l=E(this,t,a),l},o.prototype.mul=function(t){var a=new o(null);return a.words=new Array(this.length+t.length),this.mulTo(t,a)},o.prototype.mulf=function(t){var a=new o(null);return a.words=new Array(this.length+t.length),E(this,t,a)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var a=t<0;a&&(t=-t),s(typeof t=="number"),s(t<67108864);for(var l=0,f=0;f<this.length;f++){var d=(this.words[f]|0)*t,y=(d&67108863)+(l&67108863);l>>=26,l+=d/67108864|0,l+=y>>>26,this.words[f]=y&67108863}return l!==0&&(this.words[f]=l,this.length++),a?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var a=T(t);if(a.length===0)return new o(1);for(var l=this,f=0;f<a.length&&a[f]===0;f++,l=l.sqr());if(++f<a.length)for(var d=l.sqr();f<a.length;f++,d=d.sqr())a[f]!==0&&(l=l.mul(d));return l},o.prototype.iushln=function(t){s(typeof t=="number"&&t>=0);var a=t%26,l=(t-a)/26,f=67108863>>>26-a<<26-a,d;if(a!==0){var y=0;for(d=0;d<this.length;d++){var b=this.words[d]&f,h=(this.words[d]|0)-b<<a;this.words[d]=h|y,y=b>>>26-a}y&&(this.words[d]=y,this.length++)}if(l!==0){for(d=this.length-1;d>=0;d--)this.words[d+l]=this.words[d];for(d=0;d<l;d++)this.words[d]=0;this.length+=l}return this._strip()},o.prototype.ishln=function(t){return s(this.negative===0),this.iushln(t)},o.prototype.iushrn=function(t,a,l){s(typeof t=="number"&&t>=0);var f;a?f=(a-a%26)/26:f=0;var d=t%26,y=Math.min((t-d)/26,this.length),b=67108863^67108863>>>d<<d,h=l;if(f-=y,f=Math.max(0,f),h){for(var i=0;i<y;i++)h.words[i]=this.words[i];h.length=y}if(y!==0)if(this.length>y)for(this.length-=y,i=0;i<this.length;i++)this.words[i]=this.words[i+y];else this.words[0]=0,this.length=1;var c=0;for(i=this.length-1;i>=0&&(c!==0||i>=f);i--){var P=this.words[i]|0;this.words[i]=c<<26-d|P>>>d,c=P&b}return h&&c!==0&&(h.words[h.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,a,l){return s(this.negative===0),this.iushrn(t,a,l)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){s(typeof t=="number"&&t>=0);var a=t%26,l=(t-a)/26,f=1<<a;if(this.length<=l)return!1;var d=this.words[l];return!!(d&f)},o.prototype.imaskn=function(t){s(typeof t=="number"&&t>=0);var a=t%26,l=(t-a)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(a!==0&&l++,this.length=Math.min(l,this.length),a!==0){var f=67108863^67108863>>>a<<a;this.words[this.length-1]&=f}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return s(typeof t=="number"),s(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},o.prototype.isubn=function(t){if(s(typeof t=="number"),s(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,a,l){var f=t.length+l,d;this._expand(f);var y,b=0;for(d=0;d<t.length;d++){y=(this.words[d+l]|0)+b;var h=(t.words[d]|0)*a;y-=h&67108863,b=(y>>26)-(h/67108864|0),this.words[d+l]=y&67108863}for(;d<this.length-l;d++)y=(this.words[d+l]|0)+b,b=y>>26,this.words[d+l]=y&67108863;if(b===0)return this._strip();for(s(b===-1),b=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+b,b=y>>26,this.words[d]=y&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,a){var l=this.length-t.length,f=this.clone(),d=t,y=d.words[d.length-1]|0,b=this._countBits(y);l=26-b,l!==0&&(d=d.ushln(l),f.iushln(l),y=d.words[d.length-1]|0);var h=f.length-d.length,i;if(a!=="mod"){i=new o(null),i.length=h+1,i.words=new Array(i.length);for(var c=0;c<i.length;c++)i.words[c]=0}var P=f.clone()._ishlnsubmul(d,1,h);P.negative===0&&(f=P,i&&(i.words[h]=1));for(var x=h-1;x>=0;x--){var A=(f.words[d.length+x]|0)*67108864+(f.words[d.length+x-1]|0);for(A=Math.min(A/y|0,67108863),f._ishlnsubmul(d,A,x);f.negative!==0;)A--,f.negative=0,f._ishlnsubmul(d,1,x),f.isZero()||(f.negative^=1);i&&(i.words[x]=A)}return i&&i._strip(),f._strip(),a!=="div"&&l!==0&&f.iushrn(l),{div:i||null,mod:f}},o.prototype.divmod=function(t,a,l){if(s(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var f,d,y;return this.negative!==0&&t.negative===0?(y=this.neg().divmod(t,a),a!=="mod"&&(f=y.div.neg()),a!=="div"&&(d=y.mod.neg(),l&&d.negative!==0&&d.iadd(t)),{div:f,mod:d}):this.negative===0&&t.negative!==0?(y=this.divmod(t.neg(),a),a!=="mod"&&(f=y.div.neg()),{div:f,mod:y.mod}):this.negative&t.negative?(y=this.neg().divmod(t.neg(),a),a!=="div"&&(d=y.mod.neg(),l&&d.negative!==0&&d.isub(t)),{div:y.div,mod:d}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:t.length===1?a==="div"?{div:this.divn(t.words[0]),mod:null}:a==="mod"?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,a)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var a=this.divmod(t);if(a.mod.isZero())return a.div;var l=a.div.negative!==0?a.mod.isub(t):a.mod,f=t.ushrn(1),d=t.andln(1),y=l.cmp(f);return y<0||d===1&&y===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},o.prototype.modrn=function(t){var a=t<0;a&&(t=-t),s(t<=67108863);for(var l=(1<<26)%t,f=0,d=this.length-1;d>=0;d--)f=(l*f+(this.words[d]|0))%t;return a?-f:f},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var a=t<0;a&&(t=-t),s(t<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var d=(this.words[f]|0)+l*67108864;this.words[f]=d/t|0,l=d%t}return this._strip(),a?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){s(t.negative===0),s(!t.isZero());var a=this,l=t.clone();a.negative!==0?a=a.umod(t):a=a.clone();for(var f=new o(1),d=new o(0),y=new o(0),b=new o(1),h=0;a.isEven()&&l.isEven();)a.iushrn(1),l.iushrn(1),++h;for(var i=l.clone(),c=a.clone();!a.isZero();){for(var P=0,x=1;!(a.words[0]&x)&&P<26;++P,x<<=1);if(P>0)for(a.iushrn(P);P-- >0;)(f.isOdd()||d.isOdd())&&(f.iadd(i),d.isub(c)),f.iushrn(1),d.iushrn(1);for(var A=0,O=1;!(l.words[0]&O)&&A<26;++A,O<<=1);if(A>0)for(l.iushrn(A);A-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(i),b.isub(c)),y.iushrn(1),b.iushrn(1);a.cmp(l)>=0?(a.isub(l),f.isub(y),d.isub(b)):(l.isub(a),y.isub(f),b.isub(d))}return{a:y,b,gcd:l.iushln(h)}},o.prototype._invmp=function(t){s(t.negative===0),s(!t.isZero());var a=this,l=t.clone();a.negative!==0?a=a.umod(t):a=a.clone();for(var f=new o(1),d=new o(0),y=l.clone();a.cmpn(1)>0&&l.cmpn(1)>0;){for(var b=0,h=1;!(a.words[0]&h)&&b<26;++b,h<<=1);if(b>0)for(a.iushrn(b);b-- >0;)f.isOdd()&&f.iadd(y),f.iushrn(1);for(var i=0,c=1;!(l.words[0]&c)&&i<26;++i,c<<=1);if(i>0)for(l.iushrn(i);i-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);a.cmp(l)>=0?(a.isub(l),f.isub(d)):(l.isub(a),d.isub(f))}var P;return a.cmpn(1)===0?P=f:P=d,P.cmpn(0)<0&&P.iadd(t),P},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var a=this.clone(),l=t.clone();a.negative=0,l.negative=0;for(var f=0;a.isEven()&&l.isEven();f++)a.iushrn(1),l.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;l.isEven();)l.iushrn(1);var d=a.cmp(l);if(d<0){var y=a;a=l,l=y}else if(d===0||l.cmpn(1)===0)break;a.isub(l)}while(!0);return l.iushln(f)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){s(typeof t=="number");var a=t%26,l=(t-a)/26,f=1<<a;if(this.length<=l)return this._expand(l+1),this.words[l]|=f,this;for(var d=f,y=l;d!==0&&y<this.length;y++){var b=this.words[y]|0;b+=d,d=b>>>26,b&=67108863,this.words[y]=b}return d!==0&&(this.words[y]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(t){var a=t<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var l;if(this.length>1)l=1;else{a&&(t=-t),s(t<=67108863,"Number is too big");var f=this.words[0]|0;l=f===t?0:f<t?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var a=this.ucmp(t);return this.negative!==0?-a|0:a},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var a=0,l=this.length-1;l>=0;l--){var f=this.words[l]|0,d=t.words[l]|0;if(f!==d){f<d?a=-1:f>d&&(a=1);break}}return a},o.prototype.gtn=function(t){return this.cmpn(t)===1},o.prototype.gt=function(t){return this.cmp(t)===1},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return this.cmpn(t)===-1},o.prototype.lt=function(t){return this.cmp(t)===-1},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return this.cmpn(t)===0},o.prototype.eq=function(t){return this.cmp(t)===0},o.red=function(t){return new D(t)},o.prototype.toRed=function(t){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return s(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return s(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var q={k256:null,p224:null,p192:null,p25519:null};function H(p,t){this.name=p,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},H.prototype.ireduce=function(t){var a=t,l;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),l=a.bitLength();while(l>this.n);var f=l<this.n?-1:a.ucmp(this.p);return f===0?(a.words[0]=0,a.length=1):f>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},H.prototype.split=function(t,a){t.iushrn(this.n,0,a)},H.prototype.imulK=function(t){return t.imul(this.k)};function ee(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(ee,H),ee.prototype.split=function(t,a){for(var l=4194303,f=Math.min(t.length,9),d=0;d<f;d++)a.words[d]=t.words[d];if(a.length=f,t.length<=9){t.words[0]=0,t.length=1;return}var y=t.words[9];for(a.words[a.length++]=y&l,d=10;d<t.length;d++){var b=t.words[d]|0;t.words[d-10]=(b&l)<<4|y>>>22,y=b}y>>>=22,t.words[d-10]=y,y===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var a=0,l=0;l<t.length;l++){var f=t.words[l]|0;a+=f*977,t.words[l]=a&67108863,a=f*64+(a/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function K(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(K,H);function te(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(te,H);function z(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(z,H),z.prototype.imulK=function(t){for(var a=0,l=0;l<t.length;l++){var f=(t.words[l]|0)*19+a,d=f&67108863;f>>>=26,t.words[l]=d,a=f}return a!==0&&(t.words[t.length++]=a),t},o._prime=function(t){if(q[t])return q[t];var a;if(t==="k256")a=new ee;else if(t==="p224")a=new K;else if(t==="p192")a=new te;else if(t==="p25519")a=new z;else throw new Error("Unknown prime "+t);return q[t]=a,a};function D(p){if(typeof p=="string"){var t=o._prime(p);this.m=t.p,this.prime=t}else s(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}D.prototype._verify1=function(t){s(t.negative===0,"red works only with positives"),s(t.red,"red works only with red numbers")},D.prototype._verify2=function(t,a){s((t.negative|a.negative)===0,"red works only with positives"),s(t.red&&t.red===a.red,"red works only with red numbers")},D.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(M(t,t.umod(this.m)._forceRed(this)),t)},D.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},D.prototype.add=function(t,a){this._verify2(t,a);var l=t.add(a);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},D.prototype.iadd=function(t,a){this._verify2(t,a);var l=t.iadd(a);return l.cmp(this.m)>=0&&l.isub(this.m),l},D.prototype.sub=function(t,a){this._verify2(t,a);var l=t.sub(a);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},D.prototype.isub=function(t,a){this._verify2(t,a);var l=t.isub(a);return l.cmpn(0)<0&&l.iadd(this.m),l},D.prototype.shl=function(t,a){return this._verify1(t),this.imod(t.ushln(a))},D.prototype.imul=function(t,a){return this._verify2(t,a),this.imod(t.imul(a))},D.prototype.mul=function(t,a){return this._verify2(t,a),this.imod(t.mul(a))},D.prototype.isqr=function(t){return this.imul(t,t.clone())},D.prototype.sqr=function(t){return this.mul(t,t)},D.prototype.sqrt=function(t){if(t.isZero())return t.clone();var a=this.m.andln(3);if(s(a%2===1),a===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(t,l)}for(var f=this.m.subn(1),d=0;!f.isZero()&&f.andln(1)===0;)d++,f.iushrn(1);s(!f.isZero());var y=new o(1).toRed(this),b=y.redNeg(),h=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new o(2*i*i).toRed(this);this.pow(i,h).cmp(b)!==0;)i.redIAdd(b);for(var c=this.pow(i,f),P=this.pow(t,f.addn(1).iushrn(1)),x=this.pow(t,f),A=d;x.cmp(y)!==0;){for(var O=x,R=0;O.cmp(y)!==0;R++)O=O.redSqr();s(R<A);var $=this.pow(c,new o(1).iushln(A-R-1));P=P.redMul($),c=$.redSqr(),x=x.redMul(c),A=R}return P},D.prototype.invm=function(t){var a=t._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},D.prototype.pow=function(t,a){if(a.isZero())return new o(1).toRed(this);if(a.cmpn(1)===0)return t.clone();var l=4,f=new Array(1<<l);f[0]=new o(1).toRed(this),f[1]=t;for(var d=2;d<f.length;d++)f[d]=this.mul(f[d-1],t);var y=f[0],b=0,h=0,i=a.bitLength()%26;for(i===0&&(i=26),d=a.length-1;d>=0;d--){for(var c=a.words[d],P=i-1;P>=0;P--){var x=c>>P&1;if(y!==f[0]&&(y=this.sqr(y)),x===0&&b===0){h=0;continue}b<<=1,b|=x,h++,!(h!==l&&(d!==0||P!==0))&&(y=this.mul(y,f[b]),h=0,b=0)}i=26}return y},D.prototype.convertTo=function(t){var a=t.umod(this.m);return a===t?a.clone():a},D.prototype.convertFrom=function(t){var a=t.clone();return a.red=null,a},o.mont=function(t){return new j(t)};function j(p){D.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(j,D),j.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},j.prototype.convertFrom=function(t){var a=this.imod(t.mul(this.rinv));return a.red=null,a},j.prototype.imul=function(t,a){if(t.isZero()||a.isZero())return t.words[0]=0,t.length=1,t;var l=t.imul(a),f=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=l.isub(f).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},j.prototype.mul=function(t,a){if(t.isZero()||a.isZero())return new o(0)._forceRed(this);var l=t.mul(a),f=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=l.isub(f).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},j.prototype.invm=function(t){var a=this.imod(t._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(e,Un)})(Qr);var ps=Qr.exports;const Vr=sn(ps);function ms(e){return isNaN(e)?0:Number(e*Ur)}function Hr(e){if(typeof e=="number")return Math.abs(e)/Ur;if(typeof e=="bigint")return Math.abs(Number(e))/Ur;let r=1;e.isNeg()&&(r=-1);const s=e.abs().toString(10).padStart(10,"0"),u=s.length-9,o=s.slice(0,u)+"."+s.slice(u);return r*parseFloat(o)}const ki=new Q("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),gs=32,ys=10,vs=200,Ie=new Q("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy");Ut.from("ephemeral");Ut.from("transient");async function pn(e,r){const[n]=await Q.findProgramAddress([r.toBuffer(),Ut.from("withdraw")],e);return n}class bs extends zt{constructor(r,n,s){super(r,s),this.blob=dn(r),this.signed=n}decode(r,n=0){const s=new Vr(this.blob.decode(r,n),10,"le");return this.signed?s.fromTwos(this.span*8).clone():s}encode(r,n,s=0){return this.signed&&(r=r.toTwos(this.span*8)),this.blob.encode(r.toArrayLike(Ue,"le",this.span),n,s)}}function Fe(e){return new bs(8,!1,e)}class mn extends zt{constructor(r,n,s,u){super(r.span,u),this.layout=r,this.decoder=n,this.encoder=s}decode(r,n){return this.decoder(this.layout.decode(r,n))}encode(r,n,s){return this.layout.encode(this.encoder(r),n,s)}getSpan(r,n){return this.layout.getSpan(r,n)}}function je(e){return new mn(dn(32),r=>new Q(r),r=>r.toBuffer(),e)}class ws extends zt{constructor(r,n){super(-1,n),this.layout=r,this.discriminator=lt()}encode(r,n,s=0){return r==null?this.discriminator.encode(0,n,s):(this.discriminator.encode(1,n,s),this.layout.encode(r,n,s+1)+1)}decode(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return null;if(s===1)return this.layout.decode(r,n+1);throw new Error("Invalid option "+this.property)}getSpan(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return 1;if(s===1)return this.layout.getSpan(r,n+1)+1;throw new Error("Invalid option "+this.property)}}function Wt(e,r){return new ws(e,r)}function Ss(e,r){const n=cn("length"),s=Ze([n,ds(e,cs(n,-n.span),"values")]);return new mn(s,({values:u})=>u,u=>({values:u}),r)}class Ms extends TypeError{constructor(r,n){let s;const{message:u,explanation:o,...m}=r,{path:g}=r,w=g.length===0?u:`At path: ${g.join(".")} -- ${u}`;super(o??w),o!=null&&(this.cause=w),Object.assign(this,m),this.name=this.constructor.name,this.failures=()=>s??(s=[r,...n()])}}function xs(e){return Vt(e)&&typeof e[Symbol.iterator]=="function"}function Vt(e){return typeof e=="object"&&e!=null}function Ai(e){return Vt(e)&&!Array.isArray(e)}function pt(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function ks(e){const{done:r,value:n}=e.next();return r?void 0:n}function As(e,r,n,s){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:u,branch:o}=r,{type:m}=n,{refinement:g,message:w=`Expected a value of type \`${m}\`${g?` with refinement \`${g}\``:""}, but received: \`${pt(s)}\``}=e;return{value:s,type:m,refinement:g,key:u[u.length-1],path:u,branch:o,...e,message:w}}function*Ei(e,r,n,s){xs(e)||(e=[e]);for(const u of e){const o=As(u,r,n,s);o&&(yield o)}}function*gn(e,r,n={}){const{path:s=[],branch:u=[e],coerce:o=!1,mask:m=!1}=n,g={path:s,branch:u,mask:m};o&&(e=r.coercer(e,g));let w="valid";for(const v of r.validator(e,g))v.explanation=n.message,w="not_valid",yield[v,void 0];for(let[v,M,S]of r.entries(e,g)){const L=gn(M,S,{path:v===void 0?s:[...s,v],branch:v===void 0?u:[...u,M],coerce:o,mask:m,message:n.message});for(const k of L)k[0]?(w=k[0].refinement!=null?"not_refined":"not_valid",yield[k[0],void 0]):o&&(M=k[1],v===void 0?e=M:e instanceof Map?e.set(v,M):e instanceof Set?e.add(M):Vt(e)&&(M!==void 0||v in e)&&(e[v]=M))}if(w!=="not_valid")for(const v of r.refiner(e,g))v.explanation=n.message,w="not_refined",yield[v,void 0];w==="valid"&&(yield[void 0,e])}class bt{constructor(r){const{type:n,schema:s,validator:u,refiner:o,coercer:m=w=>w,entries:g=function*(){}}=r;this.type=n,this.schema=s,this.entries=g,this.coercer=m,u?this.validator=(w,v)=>{const M=u(w,v);return Ei(M,v,this,w)}:this.validator=()=>[],o?this.refiner=(w,v)=>{const M=o(w,v);return Ei(M,v,this,w)}:this.refiner=()=>[]}assert(r,n){return Es(r,this,n)}create(r,n){return _s(r,this,n)}is(r){return yn(r,this)}mask(r,n){return Ls(r,this,n)}validate(r,n={}){return Lt(r,this,n)}}function Es(e,r,n){const s=Lt(e,r,{message:n});if(s[0])throw s[0]}function _s(e,r,n){const s=Lt(e,r,{coerce:!0,message:n});if(s[0])throw s[0];return s[1]}function Ls(e,r,n){const s=Lt(e,r,{coerce:!0,mask:!0,message:n});if(s[0])throw s[0];return s[1]}function yn(e,r){return!Lt(e,r)[0]}function Lt(e,r,n={}){const s=gn(e,r,n),u=ks(s);return u[0]?[new Ms(u[0],function*(){for(const m of s)m[0]&&(yield m[0])}),void 0]:[void 0,u[1]]}function ei(e,r){return new bt({type:e,schema:null,validator:r})}function Ns(e){const r={},n=e.map(s=>pt(s)).join();for(const s of e)r[s]=s;return new bt({type:"enums",schema:r,validator(s){return e.includes(s)||`Expected one of \`${n}\`, but received: ${pt(s)}`}})}function vn(e){return ei("instance",r=>r instanceof e||`Expected a \`${e.name}\` instance, but received: ${pt(r)}`)}function Ts(e){return new bt({...e,validator:(r,n)=>r===null||e.validator(r,n),refiner:(r,n)=>r===null||e.refiner(r,n)})}function jt(){return ei("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${pt(e)}`)}function Ws(e){return new bt({...e,validator:(r,n)=>r===void 0||e.validator(r,n),refiner:(r,n)=>r===void 0||e.refiner(r,n)})}function bn(){return ei("string",e=>typeof e=="string"||`Expected a string, but received: ${pt(e)}`)}function dt(e){const r=Object.keys(e);return new bt({type:"type",schema:e,*entries(n){if(Vt(n))for(const s of r)yield[s,n[s],e[s]]},validator(n){return Ai(n)||`Expected an object, but received: ${pt(n)}`},coercer(n){return Ai(n)?{...n}:n}})}function wn(e,r,n){return new bt({...e,coercer:(s,u)=>yn(s,r)?e.coercer(n(s,u),u):e.coercer(s,u)})}const at=[Fe("denominator"),Fe("numerator")];var _i;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.StakePool=1]="StakePool",e[e.ValidatorList=2]="ValidatorList"})(_i||(_i={}));const Pt=wn(vn(Vr),bn(),e=>{if(typeof e=="string")return new Vr(e,10);throw new Error("invalid big num")}),Ot=wn(vn(Q),bn(),e=>new Q(e));class Rs extends zt{constructor(r,n){super(-1,n),this.layout=r,this.discriminator=lt()}encode(r,n,s=0){return r==null?this.discriminator.encode(0,n,s):(this.discriminator.encode(2,n,s),this.layout.encode(r,n,s+1)+1)}decode(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return null;if(s===1||s===2)return this.layout.decode(r,n+1);throw new Error("Invalid future epoch "+this.property)}getSpan(r,n=0){const s=this.discriminator.decode(r,n);if(s===0)return 1;if(s===1||s===2)return this.layout.getSpan(r,n+1)+1;throw new Error("Invalid future epoch "+this.property)}}function wr(e,r){return new Rs(e,r)}const Cs=Ns(["uninitialized","initialized","delegated","rewardsPool"]),Ps=dt({rentExemptReserve:Pt,authorized:dt({staker:Ot,withdrawer:Ot}),lockup:dt({unixTimestamp:jt(),epoch:jt(),custodian:Ot})}),Os=dt({meta:Ps,stake:Ts(dt({delegation:dt({voter:Ot,stake:Pt,activationEpoch:Pt,deactivationEpoch:Pt,warmupCooldownRate:jt()}),creditsObserved:jt()}))});dt({type:Cs,info:Ws(Os)});const Is=Ze([lt("accountType"),je("manager"),je("staker"),je("stakeDepositAuthority"),lt("stakeWithdrawBumpSeed"),je("validatorList"),je("reserveStake"),je("poolMint"),je("managerFeeAccount"),je("tokenProgramId"),Fe("totalLamports"),Fe("poolTokenSupply"),Fe("lastUpdateEpoch"),Ze([Fe("unixTimestamp"),Fe("epoch"),je("custodian")],"lockup"),Ze(at,"epochFee"),wr(Ze(at),"nextEpochFee"),Wt(je(),"preferredDepositValidatorVoteAddress"),Wt(je(),"preferredWithdrawValidatorVoteAddress"),Ze(at,"stakeDepositFee"),Ze(at,"stakeWithdrawalFee"),wr(Ze(at),"nextStakeWithdrawalFee"),lt("stakeReferralFee"),Wt(je(),"solDepositAuthority"),Ze(at,"solDepositFee"),lt("solReferralFee"),Wt(je(),"solWithdrawAuthority"),Ze(at,"solWithdrawalFee"),wr(Ze(at),"nextSolWithdrawalFee"),Fe("lastEpochPoolTokenSupply"),Fe("lastEpochTotalLamports")]);var Li;(function(e){e[e.Active=0]="Active",e[e.DeactivatingTransient=1]="DeactivatingTransient",e[e.ReadyForRemoval=2]="ReadyForRemoval"})(Li||(Li={}));const Bs=Ze([Fe("activeStakeLamports"),Fe("transientStakeLamports"),Fe("lastUpdateEpoch"),Fe("transientSeedSuffixStart"),Fe("transientSeedSuffixEnd"),lt("status"),je("voteAccountAddress")]);Ze([lt("accountType"),cn("maxValidators"),Ss(Bs,"validators")]);function De(e,r){const n=e.layout.span,s=Ut.alloc(n),u=Object.assign({instruction:e.index},r);return e.layout.encode(u,s),s}function Ni(e,r){let n;try{n=e.layout.decode(r)}catch(s){throw new Error("invalid instruction; "+s)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Sr=Oe([X("instruction"),Qe("lamports"),Qe("transientStakeSeed")]),Ds=Oe([X("instruction"),rt("startIndex"),X("noMerge")]);function Ti(e,r,n,s){if(r>gs)throw"maximum token name length is 32 characters";if(n>ys)throw"maximum token symbol length is 10 characters";if(s>vs)throw"maximum token uri length is 200 characters";return{index:e,layout:Oe([X("instruction"),rt("nameLen"),xt(r,"name"),rt("symbolLen"),xt(n,"symbol"),rt("uriLen"),xt(s,"uri")])}}const $e=Object.freeze({AddValidatorToPool:{index:1,layout:Oe([X("instruction"),rt("seed")])},RemoveValidatorFromPool:{index:2,layout:Oe([X("instruction")])},DecreaseValidatorStake:{index:3,layout:Sr},IncreaseValidatorStake:{index:4,layout:Sr},UpdateValidatorListBalance:{index:6,layout:Ds},UpdateStakePoolBalance:{index:7,layout:Oe([X("instruction")])},CleanupRemovedValidatorEntries:{index:8,layout:Oe([X("instruction")])},DepositStake:{index:9,layout:Oe([X("instruction")])},WithdrawStake:{index:10,layout:Oe([X("instruction"),Qe("poolTokens")])},DepositSol:{index:14,layout:Oe([X("instruction"),Qe("lamports")])},WithdrawSol:{index:16,layout:Oe([X("instruction"),Qe("poolTokens")])},IncreaseAdditionalValidatorStake:{index:19,layout:Oe([X("instruction"),Qe("lamports"),Qe("transientStakeSeed"),Qe("ephemeralStakeSeed")])},DecreaseAdditionalValidatorStake:{index:20,layout:Oe([X("instruction"),Qe("lamports"),Qe("transientStakeSeed"),Qe("ephemeralStakeSeed")])},DecreaseValidatorStakeWithReserve:{index:21,layout:Sr},Redelegate:{index:22,layout:Oe([X("instruction")])}});class Sn{static addValidatorToPool(r){const{stakePool:n,staker:s,reserveStake:u,withdrawAuthority:o,validatorList:m,validatorStake:g,validatorVote:w,seed:v}=r,M=$e.AddValidatorToPool,S=De(M,{seed:v??0}),L=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:Tt,isSigner:!1,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:vr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:L,data:S})}static removeValidatorFromPool(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,validatorStake:m,transientStake:g}=r,w=$e.RemoveValidatorFromPool,v=De(w),M=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:M,data:v})}static updateValidatorListBalance(r){const{stakePool:n,withdrawAuthority:s,validatorList:u,reserveStake:o,startIndex:m,noMerge:g,validatorAndTransientStakePairs:w}=r,v=$e.UpdateValidatorListBalance,M=De(v,{startIndex:m,noMerge:g?1:0}),S=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1},...w.map(L=>({pubkey:L,isSigner:!1,isWritable:!0}))];return new Pe({programId:Ie,keys:S,data:M})}static updateStakePoolBalance(r){const{stakePool:n,withdrawAuthority:s,validatorList:u,reserveStake:o,managerFeeAccount:m,poolMint:g}=r,w=$e.UpdateStakePoolBalance,v=De(w),M=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:M,data:v})}static cleanupRemovedValidatorEntries(r){const{stakePool:n,validatorList:s}=r,u=$e.CleanupRemovedValidatorEntries,o=De(u),m=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}];return new Pe({programId:Ie,keys:m,data:o})}static increaseValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,reserveStake:m,transientStake:g,validatorStake:w,validatorVote:v,lamports:M,transientStakeSeed:S}=r,L=$e.IncreaseValidatorStake,k=De(L,{lamports:M,transientStakeSeed:S}),N=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:Tt,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:vr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:N,data:k})}static increaseAdditionalValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,reserveStake:m,transientStake:g,validatorStake:w,validatorVote:v,lamports:M,transientStakeSeed:S,ephemeralStake:L,ephemeralStakeSeed:k}=r,N=$e.IncreaseAdditionalValidatorStake,C=De(N,{lamports:M,transientStakeSeed:S,ephemeralStakeSeed:k}),T=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:vr,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:T,data:C})}static decreaseValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,validatorStake:m,transientStake:g,lamports:w,transientStakeSeed:v}=r,M=$e.DecreaseValidatorStake,S=De(M,{lamports:w,transientStakeSeed:v}),L=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:Tt,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:L,data:S})}static decreaseValidatorStakeWithReserve(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,reserveStake:m,validatorStake:g,transientStake:w,lamports:v,transientStakeSeed:M}=r,S=$e.DecreaseValidatorStakeWithReserve,L=De(S,{lamports:v,transientStakeSeed:M}),k=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:k,data:L})}static decreaseAdditionalValidatorStake(r){const{stakePool:n,staker:s,withdrawAuthority:u,validatorList:o,reserveStake:m,validatorStake:g,transientStake:w,lamports:v,transientStakeSeed:M,ephemeralStakeSeed:S,ephemeralStake:L}=r,k=$e.DecreaseAdditionalValidatorStake,N=De(k,{lamports:v,transientStakeSeed:M,ephemeralStakeSeed:S}),C=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:C,data:N})}static depositStake(r){const{stakePool:n,validatorList:s,depositAuthority:u,withdrawAuthority:o,depositStake:m,validatorStake:g,reserveStake:w,destinationPoolAccount:v,managerFeeAccount:M,referralPoolAccount:S,poolMint:L}=r,k=$e.DepositStake,N=De(k),C=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:C,data:N})}static depositSol(r){const{stakePool:n,withdrawAuthority:s,depositAuthority:u,reserveStake:o,fundingAccount:m,destinationPoolAccount:g,managerFeeAccount:w,referralPoolAccount:v,poolMint:M,lamports:S}=r,L=$e.DepositSol,k=De(L,{lamports:S}),N=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1}];return u&&N.push({pubkey:u,isSigner:!0,isWritable:!1}),new Pe({programId:Ie,keys:N,data:k})}static withdrawStake(r){const{stakePool:n,validatorList:s,withdrawAuthority:u,validatorStake:o,destinationStake:m,destinationStakeAuthority:g,sourceTransferAuthority:w,sourcePoolAccount:v,managerFeeAccount:M,poolMint:S,poolTokens:L}=r,k=$e.WithdrawStake,N=De(k,{poolTokens:L}),C=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!0,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1}];return new Pe({programId:Ie,keys:C,data:N})}static withdrawSol(r){const{stakePool:n,withdrawAuthority:s,sourceTransferAuthority:u,sourcePoolAccount:o,reserveStake:m,destinationSystemAccount:g,managerFeeAccount:w,solWithdrawAuthority:v,poolMint:M,poolTokens:S}=r,L=$e.WithdrawSol,k=De(L,{poolTokens:S}),N=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:st,isSigner:!1,isWritable:!1},{pubkey:Je.programId,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1}];return v&&N.push({pubkey:v,isSigner:!0,isWritable:!1}),new Pe({programId:Ie,keys:N,data:k})}static createTokenMetadata(r){const{stakePool:n,withdrawAuthority:s,tokenMetadata:u,manager:o,payer:m,poolMint:g,name:w,symbol:v,uri:M}=r,S=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:ki,isSigner:!1,isWritable:!1},{pubkey:et.programId,isSigner:!1,isWritable:!1},{pubkey:Tt,isSigner:!1,isWritable:!1}],L=Ti(17,w.length,v.length,M.length),k=De(L,{nameLen:w.length,name:Ue.from(w),symbolLen:v.length,symbol:Ue.from(v),uriLen:M.length,uri:Ue.from(M)});return new Pe({programId:Ie,keys:S,data:k})}static updateTokenMetadata(r){const{stakePool:n,withdrawAuthority:s,tokenMetadata:u,manager:o,name:m,symbol:g,uri:w}=r,v=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:ki,isSigner:!1,isWritable:!1}],M=Ti(18,m.length,g.length,w.length),S=De(M,{nameLen:m.length,name:Ue.from(m),symbolLen:g.length,symbol:Ue.from(g),uriLen:w.length,uri:Ue.from(w)});return new Pe({programId:Ie,keys:v,data:S})}static decodeDepositStake(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,11),Ni($e.DepositStake,r.data),{stakePool:r.keys[0].pubkey,validatorList:r.keys[1].pubkey,depositAuthority:r.keys[2].pubkey,withdrawAuthority:r.keys[3].pubkey,depositStake:r.keys[4].pubkey,validatorStake:r.keys[5].pubkey,reserveStake:r.keys[6].pubkey,destinationPoolAccount:r.keys[7].pubkey,managerFeeAccount:r.keys[8].pubkey,referralPoolAccount:r.keys[9].pubkey,poolMint:r.keys[10].pubkey}}static decodeDepositSol(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,9);const{amount:n}=Ni($e.DepositSol,r.data);return{stakePool:r.keys[0].pubkey,depositAuthority:r.keys[1].pubkey,withdrawAuthority:r.keys[2].pubkey,reserveStake:r.keys[3].pubkey,fundingAccount:r.keys[4].pubkey,destinationPoolAccount:r.keys[5].pubkey,managerFeeAccount:r.keys[6].pubkey,referralPoolAccount:r.keys[7].pubkey,poolMint:r.keys[8].pubkey,lamports:n}}static checkProgramId(r){if(!r.equals(Je.programId))throw new Error("Invalid instruction; programId is not StakeProgram")}static checkKeyLength(r,n){if(r.length<n)throw new Error(`Invalid instruction; found ${r.length} keys, expected at least ${n}`)}}async function Mn(e,r){const n=await e.getAccountInfo(r);if(!n)throw new Error("Invalid stake pool account");return{pubkey:r,account:{data:Is.decode(n.data),executable:n.executable,lamports:n.lamports,owner:n.owner}}}async function $s(e,r,n,s,u,o,m){const g=await e.getBalance(n,"confirmed");if(g<s)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${Hr(g)} SOL.`);const v=(await Mn(e,r)).account.data,M=new Jr,S=[M],L=[];if(L.push(et.transfer({fromPubkey:n,toPubkey:M.publicKey,lamports:s})),!u){const N=fn(v.poolMint,n);L.push(ns(n,N,n,v.poolMint)),u=N}const k=await pn(Ie,r);return L.push(Sn.depositSol({stakePool:r,reserveStake:v.reserveStake,fundingAccount:M.publicKey,destinationPoolAccount:u,managerFeeAccount:v.managerFeeAccount,referralPoolAccount:u,poolMint:v.poolMint,lamports:s,withdrawAuthority:k,depositAuthority:m})),{instructions:L,signers:S}}async function qs(e,r,n,s,u,o){const m=await Mn(e,r),g=ms(u),w=fn(m.account.data.poolMint,n),v=await Qn(e,w);if(v.amount<g)throw new Error(`Not enough token balance to withdraw ${Hr(g)} pool tokens.
          Maximum withdraw amount is ${Hr(v.amount)} pool tokens.`);const M=[],S=Jr.generate(),L=[S];M.push(Gn(w,S.publicKey,n,g));const k=await pn(Ie,r),N=Sn.withdrawSol({stakePool:r,withdrawAuthority:k,reserveStake:m.account.data.reserveStake,sourcePoolAccount:w,sourceTransferAuthority:S.publicKey,destinationSystemAccount:s,managerFeeAccount:m.account.data.managerFeeAccount,poolMint:m.account.data.poolMint,poolTokens:g,solWithdrawAuthority:o});return M.push(N),{instructions:M,signers:L}}function xn(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=xn(e[r]))&&(s&&(s+=" "),s+=n);else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function ut(){for(var e,r,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(r=xn(e))&&(s&&(s+=" "),s+=r);return s}const kt=e=>typeof e=="number"&&!isNaN(e),mt=e=>typeof e=="string",ze=e=>typeof e=="function",It=e=>mt(e)||ze(e)?e:null,Mr=e=>B.isValidElement(e)||mt(e)||ze(e)||kt(e);function js(e,r,n){n===void 0&&(n=300);const{scrollHeight:s,style:u}=e;requestAnimationFrame(()=>{u.minHeight="initial",u.height=s+"px",u.transition=`all ${n}ms`,requestAnimationFrame(()=>{u.height="0",u.padding="0",u.margin="0",setTimeout(r,n)})})}function Ht(e){let{enter:r,exit:n,appendPosition:s=!1,collapse:u=!0,collapseDuration:o=300}=e;return function(m){let{children:g,position:w,preventExitTransition:v,done:M,nodeRef:S,isIn:L}=m;const k=s?`${r}--${w}`:r,N=s?`${n}--${w}`:n,C=B.useRef(0);return B.useLayoutEffect(()=>{const T=S.current,W=k.split(" "),F=G=>{G.target===S.current&&(T.dispatchEvent(new Event("d")),T.removeEventListener("animationend",F),T.removeEventListener("animationcancel",F),C.current===0&&G.type!=="animationcancel"&&T.classList.remove(...W))};T.classList.add(...W),T.addEventListener("animationend",F),T.addEventListener("animationcancel",F)},[]),B.useEffect(()=>{const T=S.current,W=()=>{T.removeEventListener("animationend",W),u?js(T,M,o):M()};L||(v?W():(C.current=1,T.className+=` ${N}`,T.addEventListener("animationend",W)))},[L]),Z.createElement(Z.Fragment,null,g)}}function Wi(e,r){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:r}:{}}const Ye={list:new Map,emitQueue:new Map,on(e,r){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(r),this},off(e,r){if(r){const n=this.list.get(e).filter(s=>s!==r);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const r=this.emitQueue.get(e);return r&&(r.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(r=>{const n=setTimeout(()=>{r(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Rt=e=>{let{theme:r,type:n,...s}=e;return Z.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},xr={info:function(e){return Z.createElement(Rt,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Z.createElement(Rt,{...e},Z.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Z.createElement(Rt,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Z.createElement(Rt,{...e},Z.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Z.createElement("div",{className:"Toastify__spinner"})}};function Fs(e){const[,r]=B.useReducer(k=>k+1,0),[n,s]=B.useState([]),u=B.useRef(null),o=B.useRef(new Map).current,m=k=>n.indexOf(k)!==-1,g=B.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:m,getToast:k=>o.get(k)}).current;function w(k){let{containerId:N}=k;const{limit:C}=g.props;!C||N&&g.containerId!==N||(g.count-=g.queue.length,g.queue=[])}function v(k){s(N=>k==null?[]:N.filter(C=>C!==k))}function M(){const{toastContent:k,toastProps:N,staleId:C}=g.queue.shift();L(k,N,C)}function S(k,N){let{delay:C,staleId:T,...W}=N;if(!Mr(k)||function(j){return!u.current||g.props.enableMultiContainer&&j.containerId!==g.props.containerId||o.has(j.toastId)&&j.updateId==null}(W))return;const{toastId:F,updateId:G,data:E}=W,{props:q}=g,H=()=>v(F),ee=G==null;ee&&g.count++;const K={...q,style:q.toastStyle,key:g.toastKey++,...Object.fromEntries(Object.entries(W).filter(j=>{let[p,t]=j;return t!=null})),toastId:F,updateId:G,data:E,closeToast:H,isIn:!1,className:It(W.className||q.toastClassName),bodyClassName:It(W.bodyClassName||q.bodyClassName),progressClassName:It(W.progressClassName||q.progressClassName),autoClose:!W.isLoading&&(te=W.autoClose,z=q.autoClose,te===!1||kt(te)&&te>0?te:z),deleteToast(){const j=Wi(o.get(F),"removed");o.delete(F),Ye.emit(4,j);const p=g.queue.length;if(g.count=F==null?g.count-g.displayedToast:g.count-1,g.count<0&&(g.count=0),p>0){const t=F==null?g.props.limit:1;if(p===1||t===1)g.displayedToast++,M();else{const a=t>p?p:t;g.displayedToast=a;for(let l=0;l<a;l++)M()}}else r()}};var te,z;K.iconOut=function(j){let{theme:p,type:t,isLoading:a,icon:l}=j,f=null;const d={theme:p,type:t};return l===!1||(ze(l)?f=l(d):B.isValidElement(l)?f=B.cloneElement(l,d):mt(l)||kt(l)?f=l:a?f=xr.spinner():(y=>y in xr)(t)&&(f=xr[t](d))),f}(K),ze(W.onOpen)&&(K.onOpen=W.onOpen),ze(W.onClose)&&(K.onClose=W.onClose),K.closeButton=q.closeButton,W.closeButton===!1||Mr(W.closeButton)?K.closeButton=W.closeButton:W.closeButton===!0&&(K.closeButton=!Mr(q.closeButton)||q.closeButton);let D=k;B.isValidElement(k)&&!mt(k.type)?D=B.cloneElement(k,{closeToast:H,toastProps:K,data:E}):ze(k)&&(D=k({closeToast:H,toastProps:K,data:E})),q.limit&&q.limit>0&&g.count>q.limit&&ee?g.queue.push({toastContent:D,toastProps:K,staleId:T}):kt(C)?setTimeout(()=>{L(D,K,T)},C):L(D,K,T)}function L(k,N,C){const{toastId:T}=N;C&&o.delete(C);const W={content:k,props:N};o.set(T,W),s(F=>[...F,T].filter(G=>G!==C)),Ye.emit(4,Wi(W,W.props.updateId==null?"added":"updated"))}return B.useEffect(()=>(g.containerId=e.containerId,Ye.cancelEmit(3).on(0,S).on(1,k=>u.current&&v(k)).on(5,w).emit(2,g),()=>{o.clear(),Ye.emit(3,g)}),[]),B.useEffect(()=>{g.props=e,g.isToastActive=m,g.displayedToast=n.length}),{getToastToRender:function(k){const N=new Map,C=Array.from(o.values());return e.newestOnTop&&C.reverse(),C.forEach(T=>{const{position:W}=T.props;N.has(W)||N.set(W,[]),N.get(W).push(T)}),Array.from(N,T=>k(T[0],T[1]))},containerRef:u,isToastActive:m}}function Ri(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ci(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Us(e){const[r,n]=B.useState(!1),[s,u]=B.useState(!1),o=B.useRef(null),m=B.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,g=B.useRef(e),{autoClose:w,pauseOnHover:v,closeToast:M,onClick:S,closeOnClick:L}=e;function k(E){if(e.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),m.didMove=!1,document.addEventListener("mousemove",W),document.addEventListener("mouseup",F),document.addEventListener("touchmove",W),document.addEventListener("touchend",F);const q=o.current;m.canCloseOnClick=!0,m.canDrag=!0,m.boundingRect=q.getBoundingClientRect(),q.style.transition="",m.x=Ri(E.nativeEvent),m.y=Ci(E.nativeEvent),e.draggableDirection==="x"?(m.start=m.x,m.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(m.start=m.y,m.removalDistance=q.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function N(E){if(m.boundingRect){const{top:q,bottom:H,left:ee,right:K}=m.boundingRect;E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&m.x>=ee&&m.x<=K&&m.y>=q&&m.y<=H?T():C()}}function C(){n(!0)}function T(){n(!1)}function W(E){const q=o.current;m.canDrag&&q&&(m.didMove=!0,r&&T(),m.x=Ri(E),m.y=Ci(E),m.delta=e.draggableDirection==="x"?m.x-m.start:m.y-m.start,m.start!==m.x&&(m.canCloseOnClick=!1),q.style.transform=`translate${e.draggableDirection}(${m.delta}px)`,q.style.opacity=""+(1-Math.abs(m.delta/m.removalDistance)))}function F(){document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",F);const E=o.current;if(m.canDrag&&m.didMove&&E){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance)return u(!0),void e.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${e.draggableDirection}(0)`,E.style.opacity="1"}}B.useEffect(()=>{g.current=e}),B.useEffect(()=>(o.current&&o.current.addEventListener("d",C,{once:!0}),ze(e.onOpen)&&e.onOpen(B.isValidElement(e.children)&&e.children.props),()=>{const E=g.current;ze(E.onClose)&&E.onClose(B.isValidElement(E.children)&&E.children.props)}),[]),B.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||T(),window.addEventListener("focus",C),window.addEventListener("blur",T)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",C),window.removeEventListener("blur",T))}),[e.pauseOnFocusLoss]);const G={onMouseDown:k,onTouchStart:k,onMouseUp:N,onTouchEnd:N};return w&&v&&(G.onMouseEnter=T,G.onMouseLeave=C),L&&(G.onClick=E=>{S&&S(E),m.canCloseOnClick&&M()}),{playToast:C,pauseToast:T,isRunning:r,preventExitTransition:s,toastRef:o,eventHandlers:G}}function kn(e){let{closeToast:r,theme:n,ariaLabel:s="close"}=e;return Z.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:u=>{u.stopPropagation(),r(u)},"aria-label":s},Z.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Z.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function zs(e){let{delay:r,isRunning:n,closeToast:s,type:u="default",hide:o,className:m,style:g,controlledProgress:w,progress:v,rtl:M,isIn:S,theme:L}=e;const k=o||w&&v===0,N={...g,animationDuration:`${r}ms`,animationPlayState:n?"running":"paused",opacity:k?0:1};w&&(N.transform=`scaleX(${v})`);const C=ut("Toastify__progress-bar",w?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${L}`,`Toastify__progress-bar--${u}`,{"Toastify__progress-bar--rtl":M}),T=ze(m)?m({rtl:M,type:u,defaultClassName:C}):ut(C,m);return Z.createElement("div",{role:"progressbar","aria-hidden":k?"true":"false","aria-label":"notification timer",className:T,style:N,[w&&v>=1?"onTransitionEnd":"onAnimationEnd"]:w&&v<1?null:()=>{S&&s()}})}const Vs=e=>{const{isRunning:r,preventExitTransition:n,toastRef:s,eventHandlers:u}=Us(e),{closeButton:o,children:m,autoClose:g,onClick:w,type:v,hideProgressBar:M,closeToast:S,transition:L,position:k,className:N,style:C,bodyClassName:T,bodyStyle:W,progressClassName:F,progressStyle:G,updateId:E,role:q,progress:H,rtl:ee,toastId:K,deleteToast:te,isIn:z,isLoading:D,iconOut:j,closeOnClick:p,theme:t}=e,a=ut("Toastify__toast",`Toastify__toast-theme--${t}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":ee},{"Toastify__toast--close-on-click":p}),l=ze(N)?N({rtl:ee,position:k,type:v,defaultClassName:a}):ut(a,N),f=!!H||!g,d={closeToast:S,type:v,theme:t};let y=null;return o===!1||(y=ze(o)?o(d):B.isValidElement(o)?B.cloneElement(o,d):kn(d)),Z.createElement(L,{isIn:z,done:te,position:k,preventExitTransition:n,nodeRef:s},Z.createElement("div",{id:K,onClick:w,className:l,...u,style:C,ref:s},Z.createElement("div",{...z&&{role:q},className:ze(T)?T({type:v}):ut("Toastify__toast-body",T),style:W},j!=null&&Z.createElement("div",{className:ut("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},j),Z.createElement("div",null,m)),y,Z.createElement(zs,{...E&&!f?{key:`pb-${E}`}:{},rtl:ee,theme:t,delay:g,isRunning:r,isIn:z,closeToast:S,hide:M,type:v,style:G,className:F,controlledProgress:f,progress:H||0})))},Kt=function(e,r){return r===void 0&&(r=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:r}},Hs=Ht(Kt("bounce",!0));Ht(Kt("slide",!0));Ht(Kt("zoom"));Ht(Kt("flip"));const Kr=B.forwardRef((e,r)=>{const{getToastToRender:n,containerRef:s,isToastActive:u}=Fs(e),{className:o,style:m,rtl:g,containerId:w}=e;function v(M){const S=ut("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":g});return ze(o)?o({position:M,rtl:g,defaultClassName:S}):ut(S,It(o))}return B.useEffect(()=>{r&&(r.current=s.current)},[]),Z.createElement("div",{ref:s,className:"Toastify",id:w},n((M,S)=>{const L=S.length?{...m}:{...m,pointerEvents:"none"};return Z.createElement("div",{className:v(M),style:L,key:`container-${M}`},S.map((k,N)=>{let{content:C,props:T}=k;return Z.createElement(Vs,{...T,isIn:u(T.toastId),style:{...T.style,"--nth":N+1,"--len":S.length},key:`toast-${T.key}`},C)}))}))});Kr.displayName="ToastContainer",Kr.defaultProps={position:"top-right",transition:Hs,autoClose:5e3,closeButton:kn,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let kr,ct=new Map,Mt=[],Ks=1;function An(){return""+Ks++}function Zs(e){return e&&(mt(e.toastId)||kt(e.toastId))?e.toastId:An()}function At(e,r){return ct.size>0?Ye.emit(0,e,r):Mt.push({content:e,options:r}),r.toastId}function Ft(e,r){return{...r,type:r&&r.type||e,toastId:Zs(r)}}function Ct(e){return(r,n)=>At(r,Ft(e,n))}function I(e,r){return At(e,Ft("default",r))}I.loading=(e,r)=>At(e,Ft("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r})),I.promise=function(e,r,n){let s,{pending:u,error:o,success:m}=r;u&&(s=mt(u)?I.loading(u,n):I.loading(u.render,{...n,...u}));const g={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},w=(M,S,L)=>{if(S==null)return void I.dismiss(s);const k={type:M,...g,...n,data:L},N=mt(S)?{render:S}:S;return s?I.update(s,{...k,...N}):I(N.render,{...k,...N}),L},v=ze(e)?e():e;return v.then(M=>w("success",m,M)).catch(M=>w("error",o,M)),v},I.success=Ct("success"),I.info=Ct("info"),I.error=Ct("error"),I.warning=Ct("warning"),I.warn=I.warning,I.dark=(e,r)=>At(e,Ft("default",{theme:"dark",...r})),I.dismiss=e=>{ct.size>0?Ye.emit(1,e):Mt=Mt.filter(r=>e!=null&&r.options.toastId!==e)},I.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ye.emit(5,e)},I.isActive=e=>{let r=!1;return ct.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(r=!0)}),r},I.update=function(e,r){r===void 0&&(r={}),setTimeout(()=>{const n=function(s,u){let{containerId:o}=u;const m=ct.get(o||kr);return m&&m.getToast(s)}(e,r);if(n){const{props:s,content:u}=n,o={delay:100,...s,...r,toastId:r.toastId||e,updateId:An()};o.toastId!==e&&(o.staleId=e);const m=o.render||u;delete o.render,At(m,o)}},0)},I.done=e=>{I.update(e,{progress:1})},I.onChange=e=>(Ye.on(4,e),()=>{Ye.off(4,e)}),I.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},I.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ye.on(2,e=>{kr=e.containerId||e,ct.set(kr,e),Mt.forEach(r=>{Ye.emit(0,r.content,r.options)}),Mt=[]}).on(3,e=>{ct.delete(e.containerId||e),ct.size===0&&Ye.off(0).off(1).off(5)});var ti={exports:{}},En=function(r,n){return function(){for(var u=new Array(arguments.length),o=0;o<u.length;o++)u[o]=arguments[o];return r.apply(n,u)}},Gs=En,ft=Object.prototype.toString;function ri(e){return Array.isArray(e)}function Zr(e){return typeof e>"u"}function Js(e){return e!==null&&!Zr(e)&&e.constructor!==null&&!Zr(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function _n(e){return ft.call(e)==="[object ArrayBuffer]"}function Ys(e){return ft.call(e)==="[object FormData]"}function Xs(e){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&_n(e.buffer),r}function Qs(e){return typeof e=="string"}function ea(e){return typeof e=="number"}function Ln(e){return e!==null&&typeof e=="object"}function Bt(e){if(ft.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function ta(e){return ft.call(e)==="[object Date]"}function ra(e){return ft.call(e)==="[object File]"}function ia(e){return ft.call(e)==="[object Blob]"}function Nn(e){return ft.call(e)==="[object Function]"}function na(e){return Ln(e)&&Nn(e.pipe)}function sa(e){return ft.call(e)==="[object URLSearchParams]"}function aa(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function oa(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ii(e,r){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),ri(e))for(var n=0,s=e.length;n<s;n++)r.call(null,e[n],n,e);else for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&r.call(null,e[u],u,e)}function Gr(){var e={};function r(u,o){Bt(e[o])&&Bt(u)?e[o]=Gr(e[o],u):Bt(u)?e[o]=Gr({},u):ri(u)?e[o]=u.slice():e[o]=u}for(var n=0,s=arguments.length;n<s;n++)ii(arguments[n],r);return e}function la(e,r,n){return ii(r,function(u,o){n&&typeof u=="function"?e[o]=Gs(u,n):e[o]=u}),e}function ua(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Ve={isArray:ri,isArrayBuffer:_n,isBuffer:Js,isFormData:Ys,isArrayBufferView:Xs,isString:Qs,isNumber:ea,isObject:Ln,isPlainObject:Bt,isUndefined:Zr,isDate:ta,isFile:ra,isBlob:ia,isFunction:Nn,isStream:na,isURLSearchParams:sa,isStandardBrowserEnv:oa,forEach:ii,merge:Gr,extend:la,trim:aa,stripBOM:ua},gt=Ve;function Pi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Tn=function(r,n,s){if(!n)return r;var u;if(s)u=s(n);else if(gt.isURLSearchParams(n))u=n.toString();else{var o=[];gt.forEach(n,function(w,v){w===null||typeof w>"u"||(gt.isArray(w)?v=v+"[]":w=[w],gt.forEach(w,function(S){gt.isDate(S)?S=S.toISOString():gt.isObject(S)&&(S=JSON.stringify(S)),o.push(Pi(v)+"="+Pi(S))}))}),u=o.join("&")}if(u){var m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r},fa=Ve;function Zt(){this.handlers=[]}Zt.prototype.use=function(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};Zt.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Zt.prototype.forEach=function(r){fa.forEach(this.handlers,function(s){s!==null&&r(s)})};var ha=Zt,ca=Ve,da=function(r,n){ca.forEach(r,function(u,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(r[n]=u,delete r[o])})},Wn=function(r,n,s,u,o){return r.config=n,s&&(r.code=s),r.request=u,r.response=o,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},Ar,Oi;function Rn(){if(Oi)return Ar;Oi=1;var e=Wn;return Ar=function(n,s,u,o,m){var g=new Error(n);return e(g,s,u,o,m)},Ar}var Er,Ii;function pa(){if(Ii)return Er;Ii=1;var e=Rn();return Er=function(n,s,u){var o=u.config.validateStatus;!u.status||!o||o(u.status)?n(u):s(e("Request failed with status code "+u.status,u.config,null,u.request,u))},Er}var _r,Bi;function ma(){if(Bi)return _r;Bi=1;var e=Ve;return _r=e.isStandardBrowserEnv()?function(){return{write:function(s,u,o,m,g,w){var v=[];v.push(s+"="+encodeURIComponent(u)),e.isNumber(o)&&v.push("expires="+new Date(o).toGMTString()),e.isString(m)&&v.push("path="+m),e.isString(g)&&v.push("domain="+g),w===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(s){var u=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),_r}var Lr,Di;function ga(){return Di||(Di=1,Lr=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}),Lr}var Nr,$i;function ya(){return $i||($i=1,Nr=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r}),Nr}var Tr,qi;function va(){if(qi)return Tr;qi=1;var e=ga(),r=ya();return Tr=function(s,u){return s&&!e(u)?r(s,u):u},Tr}var Wr,ji;function ba(){if(ji)return Wr;ji=1;var e=Ve,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Wr=function(s){var u={},o,m,g;return s&&e.forEach(s.split(`
`),function(v){if(g=v.indexOf(":"),o=e.trim(v.substr(0,g)).toLowerCase(),m=e.trim(v.substr(g+1)),o){if(u[o]&&r.indexOf(o)>=0)return;o==="set-cookie"?u[o]=(u[o]?u[o]:[]).concat([m]):u[o]=u[o]?u[o]+", "+m:m}}),u},Wr}var Rr,Fi;function wa(){if(Fi)return Rr;Fi=1;var e=Ve;return Rr=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),u;function o(m){var g=m;return n&&(s.setAttribute("href",g),g=s.href),s.setAttribute("href",g),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return u=o(window.location.href),function(g){var w=e.isString(g)?o(g):g;return w.protocol===u.protocol&&w.host===u.host}}():function(){return function(){return!0}}(),Rr}var Cr,Ui;function Gt(){if(Ui)return Cr;Ui=1;function e(r){this.message=r}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cr=e,Cr}var Pr,zi;function Vi(){if(zi)return Pr;zi=1;var e=Ve,r=pa(),n=ma(),s=Tn,u=va(),o=ba(),m=wa(),g=Rn(),w=Jt(),v=Gt();return Pr=function(S){return new Promise(function(k,N){var C=S.data,T=S.headers,W=S.responseType,F;function G(){S.cancelToken&&S.cancelToken.unsubscribe(F),S.signal&&S.signal.removeEventListener("abort",F)}e.isFormData(C)&&delete T["Content-Type"];var E=new XMLHttpRequest;if(S.auth){var q=S.auth.username||"",H=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";T.Authorization="Basic "+btoa(q+":"+H)}var ee=u(S.baseURL,S.url);E.open(S.method.toUpperCase(),s(ee,S.params,S.paramsSerializer),!0),E.timeout=S.timeout;function K(){if(E){var z="getAllResponseHeaders"in E?o(E.getAllResponseHeaders()):null,D=!W||W==="text"||W==="json"?E.responseText:E.response,j={data:D,status:E.status,statusText:E.statusText,headers:z,config:S,request:E};r(function(t){k(t),G()},function(t){N(t),G()},j),E=null}}if("onloadend"in E?E.onloadend=K:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(K)},E.onabort=function(){E&&(N(g("Request aborted",S,"ECONNABORTED",E)),E=null)},E.onerror=function(){N(g("Network Error",S,null,E)),E=null},E.ontimeout=function(){var D=S.timeout?"timeout of "+S.timeout+"ms exceeded":"timeout exceeded",j=S.transitional||w.transitional;S.timeoutErrorMessage&&(D=S.timeoutErrorMessage),N(g(D,S,j.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",E)),E=null},e.isStandardBrowserEnv()){var te=(S.withCredentials||m(ee))&&S.xsrfCookieName?n.read(S.xsrfCookieName):void 0;te&&(T[S.xsrfHeaderName]=te)}"setRequestHeader"in E&&e.forEach(T,function(D,j){typeof C>"u"&&j.toLowerCase()==="content-type"?delete T[j]:E.setRequestHeader(j,D)}),e.isUndefined(S.withCredentials)||(E.withCredentials=!!S.withCredentials),W&&W!=="json"&&(E.responseType=S.responseType),typeof S.onDownloadProgress=="function"&&E.addEventListener("progress",S.onDownloadProgress),typeof S.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",S.onUploadProgress),(S.cancelToken||S.signal)&&(F=function(z){E&&(N(!z||z&&z.type?new v("canceled"):z),E.abort(),E=null)},S.cancelToken&&S.cancelToken.subscribe(F),S.signal&&(S.signal.aborted?F():S.signal.addEventListener("abort",F))),C||(C=null),E.send(C)})},Pr}var Or,Hi;function Jt(){if(Hi)return Or;Hi=1;var e=Ve,r=da,n=Wn,s={"Content-Type":"application/x-www-form-urlencoded"};function u(w,v){!e.isUndefined(w)&&e.isUndefined(w["Content-Type"])&&(w["Content-Type"]=v)}function o(){var w;return(typeof XMLHttpRequest<"u"||typeof wi<"u"&&Object.prototype.toString.call(wi)==="[object process]")&&(w=Vi()),w}function m(w,v,M){if(e.isString(w))try{return(v||JSON.parse)(w),e.trim(w)}catch(S){if(S.name!=="SyntaxError")throw S}return(0,JSON.stringify)(w)}var g={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(v,M){return r(M,"Accept"),r(M,"Content-Type"),e.isFormData(v)||e.isArrayBuffer(v)||e.isBuffer(v)||e.isStream(v)||e.isFile(v)||e.isBlob(v)?v:e.isArrayBufferView(v)?v.buffer:e.isURLSearchParams(v)?(u(M,"application/x-www-form-urlencoded;charset=utf-8"),v.toString()):e.isObject(v)||M&&M["Content-Type"]==="application/json"?(u(M,"application/json"),m(v)):v}],transformResponse:[function(v){var M=this.transitional||g.transitional,S=M&&M.silentJSONParsing,L=M&&M.forcedJSONParsing,k=!S&&this.responseType==="json";if(k||L&&e.isString(v)&&v.length)try{return JSON.parse(v)}catch(N){if(k)throw N.name==="SyntaxError"?n(N,this,"E_JSON_PARSE"):N}return v}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(v){return v>=200&&v<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(v){g.headers[v]={}}),e.forEach(["post","put","patch"],function(v){g.headers[v]=e.merge(s)}),Or=g,Or}var Sa=Ve,Ma=Jt(),xa=function(r,n,s){var u=this||Ma;return Sa.forEach(s,function(m){r=m.call(u,r,n)}),r},Ir,Ki;function Cn(){return Ki||(Ki=1,Ir=function(r){return!!(r&&r.__CANCEL__)}),Ir}var Zi=Ve,Br=xa,ka=Cn(),Aa=Jt(),Ea=Gt();function Dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ea("canceled")}var _a=function(r){Dr(r),r.headers=r.headers||{},r.data=Br.call(r,r.data,r.headers,r.transformRequest),r.headers=Zi.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),Zi.forEach(["delete","get","head","post","put","patch","common"],function(u){delete r.headers[u]});var n=r.adapter||Aa.adapter;return n(r).then(function(u){return Dr(r),u.data=Br.call(r,u.data,u.headers,r.transformResponse),u},function(u){return ka(u)||(Dr(r),u&&u.response&&(u.response.data=Br.call(r,u.response.data,u.response.headers,r.transformResponse))),Promise.reject(u)})},He=Ve,Pn=function(r,n){n=n||{};var s={};function u(M,S){return He.isPlainObject(M)&&He.isPlainObject(S)?He.merge(M,S):He.isPlainObject(S)?He.merge({},S):He.isArray(S)?S.slice():S}function o(M){if(He.isUndefined(n[M])){if(!He.isUndefined(r[M]))return u(void 0,r[M])}else return u(r[M],n[M])}function m(M){if(!He.isUndefined(n[M]))return u(void 0,n[M])}function g(M){if(He.isUndefined(n[M])){if(!He.isUndefined(r[M]))return u(void 0,r[M])}else return u(void 0,n[M])}function w(M){if(M in n)return u(r[M],n[M]);if(M in r)return u(void 0,r[M])}var v={url:m,method:m,data:m,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:w};return He.forEach(Object.keys(r).concat(Object.keys(n)),function(S){var L=v[S]||o,k=L(S);He.isUndefined(k)&&L!==w||(s[S]=k)}),s},$r,Gi;function On(){return Gi||(Gi=1,$r={version:"0.25.0"}),$r}var La=On().version,ni={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){ni[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});var Ji={};ni.transitional=function(r,n,s){function u(o,m){return"[Axios v"+La+"] Transitional option '"+o+"'"+m+(s?". "+s:"")}return function(o,m,g){if(r===!1)throw new Error(u(m," has been removed"+(n?" in "+n:"")));return n&&!Ji[m]&&(Ji[m]=!0,console.warn(u(m," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(o,m,g):!0}};function Na(e,r,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var s=Object.keys(e),u=s.length;u-- >0;){var o=s[u],m=r[o];if(m){var g=e[o],w=g===void 0||m(g,o,e);if(w!==!0)throw new TypeError("option "+o+" must be "+w);continue}if(n!==!0)throw Error("Unknown option "+o)}}var Ta={assertOptions:Na,validators:ni},In=Ve,Wa=Tn,Yi=ha,Xi=_a,Yt=Pn,Bn=Ta,yt=Bn.validators;function Nt(e){this.defaults=e,this.interceptors={request:new Yi,response:new Yi}}Nt.prototype.request=function(r,n){if(typeof r=="string"?(n=n||{},n.url=r):n=r||{},!n.url)throw new Error("Provided config url is not valid");n=Yt(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var s=n.transitional;s!==void 0&&Bn.assertOptions(s,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1);var u=[],o=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(o=o&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});var m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});var g;if(!o){var w=[Xi,void 0];for(Array.prototype.unshift.apply(w,u),w=w.concat(m),g=Promise.resolve(n);w.length;)g=g.then(w.shift(),w.shift());return g}for(var v=n;u.length;){var M=u.shift(),S=u.shift();try{v=M(v)}catch(L){S(L);break}}try{g=Xi(v)}catch(L){return Promise.reject(L)}for(;m.length;)g=g.then(m.shift(),m.shift());return g};Nt.prototype.getUri=function(r){if(!r.url)throw new Error("Provided config url is not valid");return r=Yt(this.defaults,r),Wa(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};In.forEach(["delete","get","head","options"],function(r){Nt.prototype[r]=function(n,s){return this.request(Yt(s||{},{method:r,url:n,data:(s||{}).data}))}});In.forEach(["post","put","patch"],function(r){Nt.prototype[r]=function(n,s,u){return this.request(Yt(u||{},{method:r,url:n,data:s}))}});var Ra=Nt,qr,Qi;function Ca(){if(Qi)return qr;Qi=1;var e=Gt();function r(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(m){s=m});var u=this;this.promise.then(function(o){if(u._listeners){var m,g=u._listeners.length;for(m=0;m<g;m++)u._listeners[m](o);u._listeners=null}}),this.promise.then=function(o){var m,g=new Promise(function(w){u.subscribe(w),m=w}).then(o);return g.cancel=function(){u.unsubscribe(m)},g},n(function(m){u.reason||(u.reason=new e(m),s(u.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},r.prototype.unsubscribe=function(s){if(this._listeners){var u=this._listeners.indexOf(s);u!==-1&&this._listeners.splice(u,1)}},r.source=function(){var s,u=new r(function(m){s=m});return{token:u,cancel:s}},qr=r,qr}var jr,en;function Pa(){return en||(en=1,jr=function(r){return function(s){return r.apply(null,s)}}),jr}var Fr,tn;function Oa(){if(tn)return Fr;tn=1;var e=Ve;return Fr=function(n){return e.isObject(n)&&n.isAxiosError===!0},Fr}var rn=Ve,Ia=En,Dt=Ra,Ba=Pn,Da=Jt();function Dn(e){var r=new Dt(e),n=Ia(Dt.prototype.request,r);return rn.extend(n,Dt.prototype,r),rn.extend(n,r),n.create=function(u){return Dn(Ba(e,u))},n}var nt=Dn(Da);nt.Axios=Dt;nt.Cancel=Gt();nt.CancelToken=Ca();nt.isCancel=Cn();nt.VERSION=On().version;nt.all=function(r){return Promise.all(r)};nt.spread=Pa();nt.isAxiosError=Oa();ti.exports=nt;ti.exports.default=nt;var $a=ti.exports,qa=$a;const ht=sn(qa),ja=new Q("8KNDibG6RAc1tE2i3UKboiQ1tdf7JuwLWjCTnVNChcP9"),nn=new Q("2WwgnKfu9NuAiwshph864uD9wyGRCtmvhpsVGy4dHaDo"),Fa=new Q("CdNQmTvm56YWoox9twQA4Ha3rY4mZYLnxgsKQg6YXPDT"),Ke=new Fn("https://prettiest-flashy-wind.solana-mainnet.quiknode.pro/45fee519abbd5d4cac5f5c12044119d868ae84cb/","processed"),ot="https://mcnv3hcykt.us-east-2.awsapprunner.com",Ua=9;function Ja(){const{publicKey:e,sendTransaction:r,connected:n}=zn(),[s,u]=B.useState(0),[o,m]=B.useState(0),[g,w]=B.useState(0),[v,M]=B.useState(0),[S,L]=B.useState(0),[k,N]=B.useState(0),[C,T]=B.useState(0),[W,F]=B.useState(0),[G,E]=B.useState(0),[q,H]=B.useState(0),[ee,K]=B.useState("SOL Stake Pool"),[te,z]=B.useState(!1),[D,j]=B.useState(null),p=x=>new Intl.NumberFormat("en-US").format(Math.round(x)),t=x=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(x),a=async()=>{var x;try{const A=await Ke.getParsedAccountInfo(ja);if(!A||!((x=A.value)!=null&&x.lamports))throw new Error("Stake pool account not found or contains no data");const O=A.value.lamports||0;try{const R=Number(O)/1e9;return E(R),console.log("Total SOL in Pool:",R),R}catch(R){throw console.error("Error parsing stake pool account data:",R),new Error("Unable to parse raw buffer data")}}catch(A){return console.error("Error fetching total SOL in pool:",A),I.error("Failed to fetch total SOL in pool."),0}},l=async()=>{const x=Date.now(),A=30*60*1e3;if(x-q<A&&W>0)return console.log("Using cached SOL price"),W;try{const O=await fetch(`${ot}/staking-data/sol-price`);if(!O.ok)throw new Error(`Failed to fetch SOL price. Status: ${O.status}`);const $=(await O.json()).price;return F($),H(x),console.log("Fetched new SOL price from backend:",$),$}catch(O){return console.error("Error fetching SOL price:",O),W}},f=async()=>{const x=await a(),A=await l(),O=x*A;T(O)},d=async()=>{if(e)try{const x=await Ke.getBalance(e);m(x/1e9)}catch(x){console.error("Error fetching wallet balance:",x),I.error("Failed to fetch wallet balance.")}},y=async()=>{if(e)try{const A=(await Ke.getParsedTokenAccountsByOwner(e,{programId:qe})).value.find(Ge=>Ge.account.data.parsed.info.mint===Fa.toBase58()),O=(A==null?void 0:A.account.data.parsed.info.tokenAmount.uiAmount)||0;if(u(O),O===0){console.log("No staked balance, skipping API call.");return}const R=await ht.get(`${ot}/staking-data/${e.toBase58()}`,{headers:{"Content-Type":"application/json"}});console.log(R);const{staking_rewards:$}=R.data;console.log(R.data),w($)}catch(x){console.log("Trying to refresh staking rewards:",x)}},b=async()=>{try{const x=await ht.get(`${ot}/staking-data/reward-rate`);N(x.data.apy)}catch(x){console.error("Error fetching APY:",x),I.error("Failed to fetch APY.")}},h=async()=>{var x;if(!n||!e){I.error("Wallet not connected.");return}if(v<=0||v>o){I.error("Invalid staking amount.");return}z(!0),j(null);try{const A=Math.floor(v*1e9),{instructions:O,signers:R}=await $s(Ke,nn,e,A),$=new br().add(...O),Ge=await r($,Ke,{signers:R});I.info("Transaction sent. Waiting for confirmation..."),await Ke.confirmTransaction(Ge,"processed"),I.success(`Successfully staked ${v} SOL.`);try{await ht.post(`${ot}/staking-data/${e.toBase58()}/deposit`,{amount:v}),I.success("Staking data synchronized successfully.")}catch(U){console.error("Error syncing staking data:",U),I.error("Failed to synchronize staking data with the server.")}d(),y(),M(0)}catch(A){console.error("Error staking SOL:",A);const O=(x=A.message.match(/Check signature (\w+)/))==null?void 0:x[1],R=O?`Check transaction: ${O}`:"An error occurred. Please try again.";j(R),I.error(`Failed to stake SOL. ${R}`)}finally{z(!1)}},i=async()=>{var x;if(!n||!e){I.error("Wallet not connected.");return}if(S<=0||S>s){I.error("Invalid withdrawal amount.");return}z(!0),j(null);try{const A=parseFloat(S.toFixed(9)),{instructions:O,signers:R}=await qs(Ke,nn,e,e,A),$=new br().add(...O),Ge=await r($,Ke,{signers:R});I.info("Transaction sent. Waiting for confirmation..."),await Ke.confirmTransaction(Ge,"processed"),I.success(`Successfully withdrew ${S} SOL.`),await ht.post(`${ot}/staking-data/${e.toBase58()}/withdraw`,{amount:S}),d(),y(),L(0)}catch(A){console.error("Error withdrawing SOL:",A);const O=(x=A.message.match(/Check signature (\w+)/))==null?void 0:x[1],R=O?`Check transaction: ${O}`:"An error occurred. Please try again.";j(R),I.error(`Failed to withdraw SOL. ${R}`)}finally{z(!1)}};async function c(){try{const x=await ht.get(`${ot}/staking-data/secret`);console.log("Response:",x);const{key:A}=x.data;if(!A)throw new Error("Secret key is not defined in the backend response");const O=JSON.parse(A),R=Uint8Array.from(O);return Jr.fromSecretKey(R)}catch(x){throw console.error("Error fetching or processing the secret key:",x),x}}const P=async x=>{if(!x){I.error("Wallet not connected.");return}try{const A=await ht.post(`${ot}/staking-data/${x.toBase58()}/claim-rewards`),{claimed_rewards:O}=A.data;if(O<=0){I.error("No rewards to claim.");return}console.log(`Claimable rewards: ${O}`);const R=new Q("HNEgW597ZQwZAVL8iEaAc3aKv735pFTspVLqrJESpoth"),$=new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),Ge=await c();console.log("Mint Authority Keypair:",Ge.publicKey.toBase58());const U=await rs(R,x,!1,$);console.log(`User's Token Account: ${U.toBase58()}`);const V=new br;await Ke.getAccountInfo(U)||V.add(is(x,U,x,R,$));const J=Math.floor(O*10**Ua);V.add(ss(R,U,Ge.publicKey,J,[],$)),V.feePayer=x;const Y=await Ke.getLatestBlockhash();V.recentBlockhash=Y.blockhash,V.partialSign(Ge);const wt=await r(V,Ke);await Ke.confirmTransaction(wt,"processed"),console.log(`Minted ${O} RAID to ${U.toBase58()}.`),console.log(`Transaction Signature: ${wt}`),I.success(`Successfully claimed ${O} RAID.`),w(0),await ht.post(`${ot}/staking-data/${x.toBase58()}/rewards-claimed`)}catch(A){console.error("Error claiming rewards:",A),I.error("Failed to claim rewards.")}};return B.useEffect(()=>{if(n){l(),d(),y(),b(),f();const x=setInterval(l,30*60*1e3),A=setInterval(()=>{d(),y(),b(),f()},3e4);return()=>{clearInterval(x),clearInterval(A)}}},[n]),_.jsxs("div",{className:"bg-gray-900 min-h-screen p-6 flex flex-col items-center text-gray-200",children:[_.jsx(Kr,{}),_.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[_.jsx("h1",{className:"text-4xl font-bold text-teal-400 mb-4",children:"RAID Community Staking Pool"}),_.jsxs("p",{className:"text-gray-300 text-lg",children:["Join the RAID community-run staking pool on Solana. Stake your SOL to help secure the network, earn rewards, and receive ",_.jsx("span",{className:"text-teal-400 font-semibold",children:"RADEON"})," and ",_.jsx("span",{className:"text-teal-400 font-semibold",children:"RAID"})," tokens. These tokens can be used across Solana’s DeFi ecosystem to maximize your potential."]})]}),_.jsxs("div",{className:"max-w-xl w-full bg-indigo-800 shadow-lg rounded-lg p-6 mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Stake Rewards Pool TVL"}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Total SOL in Pool:"})," ",_.jsxs("span",{className:"text-white",children:[t(G)," SOL"]})]}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"SOL Price:"})," ",_.jsxs("span",{className:"text-white",children:["$",t(W)," USD"]})]}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Total Value Locked (TVL):"})," ",_.jsxs("span",{className:"text-teal-300",children:["$",p(Number(t(C)))," USD"]})]})]}),_.jsxs("div",{className:"max-w-xl w-full bg-gray-800 shadow-lg rounded-lg p-6 mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"Account Details"}),_.jsxs("div",{className:"mb-4",children:[_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Wallet Balance:"})," ",_.jsxs("span",{className:"text-white",children:[o," SOL"]})]}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Staked Amount:"})," ",_.jsxs("span",{className:"text-white",children:[s," Pool Tokens (Radeon)"]})]}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Claimable Rewards:"}),_.jsx("span",{className:"text-teal-300",children:g!==void 0?` ${g.toFixed(10)} RAID`:" Loading..."})]}),_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Current APY:"})," ",_.jsxs("span",{className:"text-teal-400",children:[p(k*100),"%"]})]})]}),_.jsx("button",{onClick:()=>{if(!e){I.error("Wallet not connected.");return}P(e)},className:`w-full py-2 px-4 font-medium rounded 
              ${g>0?"bg-teal-500 hover:bg-teal-600 text-white":"bg-gray-500 text-gray-400 cursor-not-allowed"}`,disabled:g<=0,children:"Claim RAID Rewards"})]}),_.jsxs("div",{className:"max-w-3xl w-full bg-gray-800 shadow-lg rounded-lg p-6 mb-6",children:[_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[_.jsx("h1",{className:"text-4xl font-bold text-teal-400 mb-4",children:"RAID Vault"}),_.jsx("p",{className:"text-gray-300 text-lg",children:"Switch between staking SOL in the RAID Community Stake Pool or managing your RAID/SOL LP tokens."})]}),_.jsxs("div",{className:"flex justify-center items-center mb-6",children:[_.jsx("button",{className:`px-4 py-2 font-semibold rounded-l ${ee==="SOL Stake Pool"?"bg-teal-500 text-white":"bg-gray-700 text-gray-300"}`,onClick:()=>K("SOL Stake Pool"),children:"Sol Stake Pool"}),_.jsx("button",{className:`px-4 py-2 font-semibold rounded-r ${ee==="SOL/RAID LP"?"bg-teal-500 text-white":"bg-gray-700 text-gray-300"}`,onClick:()=>K("SOL/RAID LP"),children:"RAID/SOL LP"})]}),ee==="SOL Stake Pool"&&_.jsx("div",{className:"w-full max-w-xl bg-gray-800 shadow-lg rounded-lg p-6",children:_.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-6",children:[_.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg shadow flex-1",children:[_.jsx("h3",{className:"text-xl font-semibold text-teal-400 mb-4 text-center",children:"Stake SOL"}),_.jsx("div",{className:"mb-4",children:_.jsx("input",{type:"number",value:v,onChange:x=>M(Number(x.target.value)),placeholder:"Amount to Stake",className:"w-full px-4 py-3 text-lg border border-teal-600 rounded-lg focus:outline-none focus:ring focus:ring-teal-500"})}),_.jsxs("div",{className:"flex gap-2 justify-center mb-4",children:[_.jsx("button",{onClick:()=>M(o*.25),className:"px-4 py-2 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"25%"}),_.jsx("button",{onClick:()=>M(o*.5),className:"px-4 py-2 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"50%"}),_.jsx("button",{onClick:()=>M(o-.001),className:"px-4 py-2 bg-teal-600 text-white rounded-full hover:bg-teal-700",children:"MAX"})]}),_.jsx("button",{onClick:h,className:`w-full py-3 px-4 font-medium rounded ${te||v<=0||v>o?"bg-gray-500 text-gray-400 cursor-not-allowed":"bg-teal-500 hover:bg-teal-600 text-white"}`,disabled:te||v<=0||v>o,children:te?"Processing...":"Stake"})]}),_.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg shadow flex-1",children:[_.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-4 text-center",children:"Withdraw SOL"}),_.jsx("div",{className:"mb-4",children:_.jsx("input",{type:"number",value:S,onChange:x=>L(Number(x.target.value)),placeholder:"Amount to Withdraw",className:"w-full px-4 py-3 text-lg border border-red-600 rounded-lg focus:outline-none focus:ring focus:ring-red-500"})}),_.jsxs("div",{className:"flex gap-2 justify-center mb-4",children:[_.jsx("button",{onClick:()=>L(s*.25),className:"px-4 py-2 bg-red-600 text-white rounded-full hover:bg-red-700",children:"25%"}),_.jsx("button",{onClick:()=>L(s*.5),className:"px-4 py-2 bg-red-600 text-white rounded-full hover:bg-red-700",children:"50%"}),_.jsx("button",{onClick:()=>L(s),className:"px-4 py-2 bg-red-600 text-white rounded-full hover:bg-red-700",children:"MAX"})]}),_.jsx("button",{onClick:i,className:`w-full py-3 px-4 font-medium rounded ${te||S<=0||S>s?"bg-gray-500 text-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"}`,disabled:te||S<=0||S>s,children:te?"Processing...":"Withdraw"})]})]})}),ee==="SOL/RAID LP"&&_.jsxs("div",{className:"w-full max-w-xl bg-gray-800 shadow-lg rounded-lg p-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-teal-400 mb-4 text-center",children:"RAID/SOL LP"}),_.jsx("div",{className:"mb-4",children:_.jsxs("p",{className:"text-gray-300",children:[_.jsx("strong",{children:"Wallet Balance:"})," ",_.jsx("span",{className:"text-white",children:"- RAID/SOL LP Tokens"})]})}),_.jsx("button",{disabled:!0,className:"w-full py-2 px-4 font-medium rounded bg-gray-600 text-gray-400 cursor-not-allowed",children:"Deposit LP Tokens (Coming Soon)"}),_.jsx("button",{disabled:!0,className:"w-full py-2 px-4 font-medium rounded bg-gray-600 text-gray-400 cursor-not-allowed mt-4",children:"Withdraw LP Tokens (Coming Soon)"})]})]}),D&&_.jsxs("div",{className:"mt-4 p-4 bg-red-100 text-red-800 rounded",children:[_.jsx("p",{children:D}),D.includes("Check transaction:")&&_.jsx("a",{href:`https://explorer.solana.com/tx/${D.split("Check transaction: ")[1]}?cluster=mainnet-beta`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View on Solana Explorer"})]})]})]})}export{Ja as default};
